{"pageProps":{"content":"\n# 在 GitHub 上設定 Jekyll 和自訂網域\n\n花了時間把 Jekyll 建起來。Ghost 超讚，不過要自訂版型、部屬還是比較花時間的（部屬還要 $$），純粹靜態網頁更為容易，還可以直接上到免費的 GitHub Pages 上，再配上 `jekyll-assets`，寫 sass 或 ES6 都 OK。\n\n## 切出 Git Subtree\n\n我先把原本的分支重新命名為 `jekyll`，再用 git subtree 把 Jekyll 建置出的 `_site` 資料夾切成 master 分支：\n\n```bash\ngit checkout -b jekyll # 原本在 master\ngit branch -D master # 把原本 master branch 刪掉\ngit subtree split --prefix=_site -b master # git subtree 指令將 _site 資料夾切成 master branch\n```\n\n接下來每次更新網站都從原本的 `jekyll` 分支 commit，然後推送 subtree 到 GitHub Page 的 remote：\n\n```bash\ngit commit -m \"commit on jekyll branch\"\ngit subtree push --prefix _site origin master # 將 _site 的 subtree 推到 origin 的 master branch\n```\n\n其中我的 `origin` 為 `https://github.com/username/username.github.io`。請再參考 [GitHub Pages](https://pages.github.com/) 的設定。\n\n## 設定 GitHub User Page 的自訂網域\n\n> 二圖流\n\n![](/assets/img/blog/cloudflare1.png)\n\n![](/assets/img/blog/cloudflare2.png)\n\n`CNAME` 檔：\n\n```\nwww.yukaii.tw\nyukaii.tw\n```\n\n## 自訂 Template\n\nJekyll 也有 partial，我用來做 image caption，比如以下這段：\n\n```txt\n{% raw %}\n{% include image.html url=\"https://i.imgur.com/gqOPCwP.jpg\" description=\"六月不要啊啊啊，應該沒有第二行啦\" %}\n{% endraw %}\n```\n\n就會產生：\n\n{% include image.html url=\"https://i.imgur.com/gqOPCwP.jpg\" description=\"六月不要啊啊啊，應該沒有第二行啦\" %}\n\n在 `_includes` 資料夾新增 `image.html`，詳情請[參考這裡](http://stackoverflow.com/questions/19331362/using-an-image-caption-in-markdown-jekyll)\n","title":"在 GitHub 上設定 Jekyll 和自訂網域"},"__N_SSG":true}