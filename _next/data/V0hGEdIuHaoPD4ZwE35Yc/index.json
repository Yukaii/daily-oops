{"pageProps":{"posts":[{"id":"MPNd7ZOZQqSQNIJdnMU1Bw","meta":{"layout":"post","title":"ä½¿ç”¨ Chrome NetLog è§£æéš±è—åœ¨ DevTools ä¸­çš„ Header è³‡è¨Š","date":"2019-03-02 21:30 +0800","slug":"chrome-netlog-and-netlog-viewer-hidden-header-credentials"},"title":"ä½¿ç”¨ Chrome NetLog è§£æéš±è—åœ¨ DevTools ä¸­çš„ Header è³‡è¨Š","content":"\n# ä½¿ç”¨ Chrome NetLog è§£æéš±è—åœ¨ DevTools ä¸­çš„ Header è³‡è¨Š\n\nåœ¨æª¢è¦– DevTools ç¶²è·¯é çš„ Headers è³‡è¨Šæ™‚ï¼Œæœ‰æ™‚å¾Œæœƒé¡¯ç¤ºä¸‹é¢é€™è¡Œè­¦å‘Šè¨Šæ¯ï¼š\n\n![](https://i.imgur.com/P7WZcYY.png)\n\n> Provisional headers are shown\n\né€™å°±ä»£è¡¨æœ‰äº›æ•æ„Ÿè³‡è¨Šè¢« DevTools éš±è—ã€‚èˆ‰ä¾‹ä¾†èªªï¼ŒCloudFront æœ‰ä¸€å¥— [åŸºæ–¼ Signed Cookie çš„é©—è­‰ç³»çµ±][1]ï¼ŒæŸäº›éœ€è¦ç™»å…¥å¾Œæ‰èƒ½å­˜å–çš„è³‡æºï¼Œæ¯”å¦‚ **é›»å­æ›¸**ã€å½±éŸ³å°±éœ€è¦ç”¨é€™ç¨®æ–¹å¼ä¾†é˜²æ­¢å¤–æµã€‚ä¸éæœ‰åš DRM é‚„æ˜¯æ¯”è¼ƒå¥½å•¦ï¼Œç•¢ç«Ÿæ²’ DRM ä½ çš„æª”æ¡ˆé‚„æ˜¯è·Ÿè£¸å¥”ä¸€æ¨£å•Šï¼ğŸ˜†\n\n## è©²æ˜¯ NetLog ç™»å ´çš„æ™‚åˆ»\n\nNetLog é¡§åæ€ç¾©ï¼Œæ˜¯ä¸€å¥— Chromium Project å…§å»ºçš„ç¶²è·¯äº‹ä»¶è¨˜éŒ„ç³»çµ± (Network Logging System)ï¼Œå› ç‚ºæˆ‘å€‘éœ€è¦æ‹¿å–è¢« DevTools éš±è—çš„è³‡è¨Šï¼Œæ‰€ä»¥å°±è¦é  NetLog å•¦ã€‚æœ‰ Log æ‰èƒ½ Debugï¼\n\n1. æ‰“é–‹ [`chrome://net-export/`](chrome://net-export/)ï¼Œä½ æ‡‰è©²æœƒçœ‹åˆ°ä»¥ä¸‹çš„ä»‹é¢\n    ![](https://i.imgur.com/8qFazRw.png)\n2. è¨˜å¾—é¸æ“‡ç¬¬äºŒé … **Include cookies and credentials**ï¼Œé€™æ‰æ˜¯æˆ‘å€‘è¦çš„\n3. é»æŒ‰éˆ•ï¼Œé¸æ“‡å®Œ dump ä½ç½®å¾Œé–‹å§‹è¨˜éŒ„ç¶²è·¯äº‹ä»¶ã€‚é–‹å§‹é€²è¡Œä½ è¦ Log çš„æ“ä½œï¼Œæ­¤æ™‚åˆ†é é–‹è¶Šå°‘è¶Šå¥½ï¼Œè¼¸å‡ºè³‡æ–™çš„é›œè¨Šä¸æœƒé‚£éº¼å¤šæ¯”è¼ƒå¥½è®€\n\n## ç”¨ NetLog Viewer ä¾†æ‰“é–‹ dump å‡ºçš„ log æª”\n\né‚£éº¼è¼¸å‡ºçš„ JSON æª”è¦æ€éº¼è®€ï¼ŸGoogle ä¹Ÿå¹«ä½ å¼„å¥½äº†ã€‚\n\n1. æ‰“é–‹ [NetLog Viewer][2]\n2. æŠŠå‰›å‰›è¼¸å‡ºçš„ JSON æª”æ¡ˆï¼Œæ‹–å¼‹åˆ°è¦–çª—\n    ![](https://i.imgur.com/oJj7teQ.png)\n3. Bang!\n    ![](https://i.imgur.com/0K3spmz.png)\n4. é»é–‹å·¦å´çš„ Eventï¼Œæœå°‹æ¡†è¼¸å…¥ä½ è¦æ‰¾çš„æ±è¥¿å°±å¯ä»¥äº†\n    ![](https://i.imgur.com/pPYkL1f.png)\n5. å‰©ä¸‹ä¾†å°±ä¸èªªå•¦ï¼Œæœå°‹ä½ è¦çš„ Request æˆ– Cookie éµå€¼ï¼Œæ‹‰å‡ºä½ è¦çš„è³‡è¨Šï¼Œå°±å’Œä½¿ç”¨ DevTools ä¸€æ¨£\n\n## å—¯\n\næ‰€ä»¥èªªï¼Œä½ è¦è§£æçš„æ•æ„Ÿè³‡è¨Šæ˜¯ä»€éº¼å‘¢ï¼Ÿ\n\nå…‰å–œè‡ªå¾—ï¼\n\n[1]: https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-setting-signed-cookie-custom-policy.html\n[2]: https://netlog-viewer.appspot.com","date":{"year":"2020","month":"10","day":"05"},"slug":"chrome-netlog-and-netlog-viewer-hidden-header-credentials"},{"id":"V4VMZx-oQBu5-svQ4Qulcg","meta":{},"title":"2020 å¹´é–‹ç™¼è€…å‘ Windows 10 è¨­å®šæŒ‡å—","content":"# 2020 å¹´é–‹ç™¼è€…å‘ Windows 10 è¨­å®šæŒ‡å—\n\n###### tags: `draft`\n\nå¾ 2014 å¹´ä¸­è³¼å…¥ Macbook Air ä»¥ä¾†ï¼Œæˆ‘å¹¾ä¹æ‰€æœ‰é–‹ç™¼å·¥ä½œéƒ½åœ¨ macOS ä¸‹å®Œæˆï¼ŒmacOS çš„ Unix-like ç’°å¢ƒé‚„æœ‰ç”Ÿæ…‹åœˆã€Homebrew ä¹Ÿéƒ½æ‘¸äº†å¾ˆä¹…ï¼Œç›¸ç•¶ç¿’æ…£äº†ï¼Œæˆ‘ä¹Ÿå¸¸å¸¸æŠŠæ¨å‘è˜‹æœæ•™ä½œç‚ºå‰¯æ¥­ã€‚ä¸éå¾ä»Šå¹´é–‹å§‹ï¼Œæˆ‘æäº†å°æ¡Œæ©Ÿï¼ŒåˆæŠŠå¤§éƒ¨åˆ†çš„é–‹ç™¼å·¥ä½œè½‰ç§»å› Windows ä¸Šï¼Œç‚ºä»€éº¼å‘¢ï¼Ÿ\n\nç†ç”±å…¶ä¸€ï¼Œé€™å¹¾å¹´ä¸‹ä¾†ï¼ŒWSL (Windows Subsystem for Linux) è¶Šä¾†è¶Šæˆç†Ÿï¼Œ[åœ¨ä»Šå¹´ WSL 2 æ­£å¼æ¨å‡ºåˆ° Windows 10 2004 ç‰ˆ](https://docs.microsoft.com/zh-tw/windows/wsl/wsl2-index)ï¼Œè§£æ±ºäº†ä¸€ç›´ä»¥ä¾†ç‚ºäººè©¬ç—…çš„ IO å­˜å–é€Ÿåº¦å•é¡Œã€‚\n\nç†ç”±ä¹‹äºŒï¼Œæˆ‘çš„ Macbook Air æ…¢æ…¢è·Ÿä¸ä¸Šç¾ä»£çš„ JavaScript é–‹ç™¼éœ€æ±‚ï¼Œä½ ä¹ŸçŸ¥é“ `node_modules` å°±æ˜¯å€‹é»‘æ´ï¼Œæ¯æ¬¡çš„ webpack build å°æˆ‘ä¾†èªªéƒ½æ˜¯æŠ˜ç£¨ï¼ŒBrowser-based (electron) çš„æ¡Œé¢æ‡‰ç”¨ç¨‹å¼ä¸€å€‹ä¸€å€‹è£ï¼ŒSlackã€VSCodeã€Discordã€\n\n\n- è½‰æ›åˆ° Windows çš„ç†ç”±\n- ä½¿ç”¨ mac çš„æ„Ÿè¦º\n- mac ç¡¬é«”çš„è½‰è®Š\n- é‚„æ˜¯éŒ¢\n\n> åœ¨å¤§ç´„ä¸‰å¹´å‰ï¼Œæˆ‘æœ‰å¯«éä¸€ç¯‡ã€Œ[Windows Unix-Like ç’°å¢ƒè¨­å®šè¸©å‘ç´€éŒ„](https://yukaii.tw/blog/2017/06/28/windows-unix-like-development-guide-nodejs-ruby/)ã€ã€‚\n\n## ä»‹é¢æ”¹é€  (Customizaation)\n\n\n## é–‹ç™¼å·¥å…·ã€æµç¨‹\n\n\n\n- Less is more ï¼ˆå¤–è§€ä¸Šå•¦ï¼‰\n- https://github.com/Awesome-Windows/Awesome\n- winget\n\n## Customization\n\n![](https://i.imgur.com/nV2SPLt.jpg)\n\n> ~~æ¥­é…æ™‚é–“~~\n> Powered by [HackMD](https://hackmd.io)\n\n- ~~TranslacentTB~~ åŠŸèƒ½å·²å…§å»ºåœ¨ TaskbarX\n- [TaskbarX](https://github.com/ChrisAnd1998/TaskbarX) for centering taskbar icon\n- Unsplash\n- [AutoHotKey](https://github.com/Yukaii/ahk-scripts)\n- qttabbar\n- [Deskpins](https://efotinis.neocities.org/deskpins/) Pin window always on top\n- https://github.com/namazso/SecureUxTheme ä¹Ÿå·®ä¸å¤šè©²ä¾†è£ä¸»é¡Œäº†\n    - https://www.deviantart.com/niivu/art/Nord-Windows-10-Theme-837266272\n- KeyTweak: Remap æŒ‰éµï¼Œä¸éç¾åœ¨ PowerToys ä¹Ÿæœ‰å…§å»ºäº†\n- [SylphyHornEx](https://github.com/ViRb3/SylphyHornEx)\n\n```cmd\nshell:startup\n```\n\n## å¸¸ç”¨åŠŸèƒ½\n\n- æˆªåœ–\n- Terminal\n\n## Devtools\n\n- Windows Terminal (iterm colors included)\n- WSL 2\n    - https://x410.dev/ X Server\n- VSCode\n- chocolately\n- scoop (nerd fonts, dev tools)\n- winget (æœ€çµ‚æœƒ migrate åˆ°é€™è£¡å§)\n- https://github.com/starship/starship\n- https://github.com/IlanCosman/tide\n- https://github.com/darlinghq/darling (WSL2 ä¹Ÿå¯ä»¥ç”¨äº†)\n- https://github.com/gerardog/gsudo (sudo for Windows)\n\n## Utilities\n\n- windirstat https://windirstat.net\n\n## Bugs\n\n### Bluetooth Lags\n\n:::spoiler :heavy_check_mark: å·²æ›\n- https://answers.microsoft.com/en-us/windows/forum/all/bluetooth-mouse-freezing-solution/26f85c67-401c-4b0f-9a35-a652b2f8a197\n- https://windowsreport.com/mouse-lag-windows-10/\n- https://www.tenforums.com/drivers-hardware/109457-possible-cause-bluetooth-mouse-lag.html\n- https://visser.io/2016/04/fix-for-stuttering-lag-in-bluetooth-mouse-on-windows-10/\n\næ‡‰è©²æ˜¯å’Œ 2.4Ghz wifi è¡åˆ°äº’ç›¸å¹²æ“¾ã€‚ç¡¬é«”å±¤çš„è§£æ³•æ‡‰è©²å°±æ›ä¸€å€‹æ”¯æ´ 5GHz çš„ wifi dongle äº†...\n:::\n\n\n### WSL2\n\n:::spoiler ~~å‡ºä¸ä¾†å•Šä¹¾~~ éœ€è¦å¹¾æ¬¡é‡é–‹æ©Ÿï¼Œæœ‰æ™‚æŠ“ä¸åˆ°é–‹å‡ºä¾†çš„ port\n- https://github.com/microsoft/WSL/issues/4769\n:::\n\n\n## Guides\n\n- https://gist.github.com/cerebrate/d40c89d3fa89594e1b1538b2ce9d2720 (Recompile your WSL2 kernel - support for snaps, apparmor, lxc, etc.)\n- https://vi.stackexchange.com/a/15190 (WSL Vim clipboard, handy!)","date":{"year":"2020","month":"06","day":"02"},"slug":"2020-Windows-10"},{"id":"_XRydavzRKSk0RSJKMZAsg","meta":{},"title":"ç”¨ inlets åŠ ä¸Š caddy å¯¦ç¾çª®äººç‰ˆçš„ https ngrok","content":"# ç”¨ inlets åŠ ä¸Š caddy å¯¦ç¾çª®äººç‰ˆçš„ https ngrok\n\n###### tags: `draft`\n\n> æˆ‘å°±å®¢å®¶\n\n\n## æº–å‚™ä¸€è‡ºè·‘ Inlets çš„ä¼ºæœå™¨\n\nçœ‹æ˜¯ç”¨ GCP é‚„æ˜¯ Linodeï¼Œä¹Ÿå¯ä»¥ç”¨ inlets control è‡ªå‹•é–‹æ©Ÿå™¨ã€‚æˆ‘é€™è£¡æ˜¯ç”¨ gcp çš„ always free tier\n\n\n##### `/etc/systemd/system/inlets.service`\n\n```ini\n[Unit]\nDescription=Inlets Server Service\nAfter=network.target\n\n[Service]\nType=simple\nRestart=always\nRestartSec=1\nStartLimitInterval=0\nEnvironmentFile=/etc/default/inlets\nExecStart=/usr/local/bin/inlets server --port=8000 --token=\"${AUTHTOKEN}\"\n\n[Install]\nWantedBy=multi-user.target\n```\n\n`echo 'export AUTHTOKEN=$(head -c 16 /dev/urandom | shasum | cut -d\" \" -f1)' > /etc/default/inlets`\n\nç”¨ä¸‹è¼‰ Caddy çš„ deb ç”¨ dpkg å®‰è£\n\næª¢æŸ¥ä¸€ä¸‹æœ‰æ²’æœ‰ caddy serviceï¼Œè‹¥æ²’æœ‰ç…§é€™å€‹å®‰è£ï¼š\n\nhttps://caddyserver.com/docs/install\n\n```bash\nsudo systemctl daemon-reload\nsudo systemctl enable inlets\nsudo systemctl start inlets\n```\n\n\n##### `/etc/caddy/Caddyfile`\n\n> Caddy v2 configuration\n\n```caddy\nbox.yukai.dev\nreverse_proxy localhost:8000\nreverse_proxy /tunnel localhost:8000\n```\n\n```\njournalctl -u inlets --follow\njournalctl -u caddy --follow\n```\n\n```bash\nsudo vim /etc/sudoers\n\n# caddy ALL=(ALL:ALL) NOPASSWD:ALL\n```\n\n```bash!\ninlets client --remote=wss://box.yukai.dev --upstream=http://localhost:3000 -t $TOKEN\n```\n\n\n### è£œå……ï¼šè¨­å®š Shell Function è®“ä½¿ç”¨èµ·ä¾†æ–¹ä¾¿\n\n```fish\nfunction tunnel --description \"ngrok alternative\"\n  set --local options 'p/port=!_validate_int' 'h/help'\n\n  argparse $options -- $argv\n\n  if set --query _flag_help; or not set -q _flag_port\n    printf \"Usage: tunnel [OPTIONS]\\n\\n\"\n    printf \"Options:\\n\"\n    printf \"  -p --port       Local port to bind\\n\"\n    return 0\n  end\n\n  eval \"inlets client --remote=wss://box.yukai.dev --upstream=http://localhost:$_flag_port -t $INLETS_AUTH_TOKEN\"\nend\n```\n\nconfig.fish\n\n```diff\n+ source $__fish_config_dir/secrets.fish\n```\n\n```fish\nset -x INLETS_AUTH_TOKEN asdfasdfasdfasdfasf\n```\n\n### é™„éŒ„\n\nå†ä½¿ç”¨ GCP instance f1.micro always freeï¼Œæ•´å¥—ä¸‹ä¾†åªéœ€è¦è²· domain (æˆ–ä¹Ÿä¸éœ€è¦)ï¼Œæ›´å®¢å®¶ :+1:\n\n\n### Reference\n\n- https://ksana410.github.io/2019/08/27/expose-your-local-endpoint-to-internet-with-inlets/\n- https://blog.alexellis.io/https-inlets-local-endpoints/\n- Alternatives: https://news.ycombinator.com/item?id=20410552\n- https://github.com/inlets/inletsctl ç•™è¨€ provision éƒ½è¦è‡ªå‹•åŒ–ï¼Œæä¸€ä¸‹ Pro çš„è‡ªå‹• TLS\n- https://ianwu.tw/press/programming/tool/inlets.html#%E5%AE%89%E8%A3%9D%E6%96%B9%E5%BC%8F\n\n","date":{"year":"2020","month":"07","day":"03"},"slug":"inlets-free-ngrok-https-with-caddy"},{"id":"cUCdtWqYTPaOezdpjG_p4g","meta":{},"title":"Shopify ä¸²æ¥ç™¾é›·","content":"# Shopify ä¸²æ¥ç™¾é›·\n\n###### tags: `draft`\n\n- https://github.com/MONEI/Shopify-api-node e.response.body éŒ¯èª¤è¦å¾ got Error æ‹¿ = =\n- Storefront graphql æ¬„ä½å’Œ admin api ä¸ç›¸å®¹\n    - è«‹å¯¦éš›ç©ç©ï¼\n    - https://shopify.dev/graphiql/storefront-graphiql\n    - https://shopify.dev/tools/graphiql-admin-api\n\nMetafield ä¾†åšè³‡æ–™å„²å­˜ï¼ˆä½†æ²’è¾¦æ³• query çš„ï¼‰\n\n- https://community.shopify.com/c/Shopify-Discussion/Query-all-products-with-a-given-metafield-value/td-p/651540 (å¯æ’¥)\n- https://community.shopify.com/c/Shopify-APIs-SDKs/Why-are-custom-fields-so-difficult-to-manage-in-Shopify/td-p/534484 ï¼ˆç†ç”±ä¼¯ï¼‰\n","date":{"year":"2020","month":"07","day":"28"},"slug":"Shopify"},{"id":"VDUZHrLiSwqpYS4eg9PyAQ","meta":{},"title":"ç”¨ toxy æ¶è¨­å¯ç¨‹å¼åŒ–æ¨¡æ“¬å„ç¨®ç¶²è·¯æƒ…æ³çš„ http/sã€websocket proxy","content":"# ç”¨ toxy æ¶è¨­å¯ç¨‹å¼åŒ–æ¨¡æ“¬å„ç¨®ç¶²è·¯æƒ…æ³çš„ http/sã€websocket proxy\n\n###### tags: `draft`\n\n```bash\nnpm install toxy\n```\n\n```javascript\nconst toxy = require('toxy')\n\nconst proxy = toxy()\nconst rules = toxy.rules\nconst poisons = toxy.poisons\n\nproxy\n  .forward('http://localhost:3000')\n\nproxy\n  .get('/build/MathJax/*')\n  .poison(poisons.slowOpen({ delay: 3 * 1000 }))\n  .poison(poisons.timeout(5000))\n  .withRule(rules.probability(50))\n\nproxy\n  .get('/*/download')\n  .poison(poisons.slowOpen({ delay: 2 * 1000 }))\n\nproxy\n  .all('/*')\n\nproxy\n  .protocol('ws')\n  .forward('ws://localhost:3000')\n\nproxy.listen(4000)\nconsole.log('Proxy server started')\n```\n\n## Alternatives\n\n- clumsy\n- network link conditioner\n","date":{"year":"2020","month":"07","day":"27"},"slug":"toxy-httpswebsocket-proxy"}]},"__N_SSG":true}