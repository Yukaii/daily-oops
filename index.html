<!DOCTYPE html><html lang="zh-Hant-TW" data-dark-theme="dark"><head><link rel="alternate" type="application/rss+xml" title="RSS feed for blog posts" href="https://yukai.dev/feed.xml"/><t><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-L4KRS0HB4B"></script><script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    window.gtag = gtag
                    gtag('js', new Date());

                    gtag('config', 'G-L4KRS0HB4B', {
                      page_path: window.location.pathname,
                    });
                  </script></t><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/><meta name="color-scheme" content="dark light"/><title>Daily Oops!</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Yukai&#x27;s blog. Web tech, apps, photos, and notes."/><meta property="og:type" content="article"/><meta property="og:title" content="Daily Oops!"/><meta property="og:description" content="Yukai&#x27;s blog. Web tech, apps, photos, and notes."/><meta property="og:locale" content="zh-Hant-TW"/><meta property="og:site_name" content="Daily Oops!"/><meta name="next-head-count" content="12"/><link rel="preload" href="/_next/static/css/5c6e50fd72a8e9ef6daf.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5c6e50fd72a8e9ef6daf.css" data-n-g=""/><link rel="preload" href="/_next/static/css/6c9df2369216eaeb59f7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6c9df2369216eaeb59f7.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-5a043247fa4b0e5bc6f8.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-314ffb4aa8331ecb00c4.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons-d39e816c6c9de90edb11.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-ae36ed1b7923ac63ac40.js" as="script"/><link rel="preload" href="/_next/static/chunks/dbf3ce33-4a20f4b6b57bb34f60e1.js" as="script"/><link rel="preload" href="/_next/static/chunks/05062569-55a0cb2864251f3dec25.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-39f9ccfff4e10566242b.js" as="script"/><link rel="preload" href="/_next/static/chunks/0e226fb0-78d5dc17244534c011c7.js" as="script"/><link rel="preload" href="/_next/static/chunks/224-1eac4298c4645d0b5aff.js" as="script"/><link rel="preload" href="/_next/static/chunks/549-17a10afa03e6b811e943.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/index-f74ba7fe9e2374b86804.js" as="script"/><style id="__jsx-1138949640">.UnderlineNav-body.jsx-1138949640 .UnderlineNav-item.jsx-1138949640:last-child{padding-right:50px;}</style></head><body><script src="/noflash.js"></script><div id="__next"><div><div class="jsx-1138949640 d-block text-center color-bg-secondary py-4 px-3"><div style="overflow:hidden;background-color:#F5CC7F" class="jsx-1138949640 CircleBadge CircleBadge--large mx-auto mb-3"><div class="jsx-1138949640 user-select-none"><img src="/logo-animated.gif" alt="Daily Oops" style="height:auto;max-height:80%;max-width:80%" class="jsx-1138949640"/></div></div><h1 class="jsx-1138949640 d-flex flex-items-center flex-justify-center">Daily Oops!</h1></div><nav style="z-index:99" class="jsx-1138949640 UnderlineNav color-bg-secondary px-3 position-sticky top-0 flex-items-center flex-justify-center"><div role="tablist" style="max-width:100%" class="jsx-1138949640 UnderlineNav-body"><button role="tab" type="button" aria-selected="true" class="jsx-1138949640 UnderlineNav-item"><svg aria-hidden="true" role="img" class="UnderlineNav-octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom"><path fill-rule="evenodd" d="M3.499.75a.75.75 0 011.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 010-1.5h1.376a4.489 4.489 0 01-.563-1.191 3.833 3.833 0 01-.05-2.063 4.636 4.636 0 01-2.025-.293.75.75 0 11.525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.748.748 0 011.06 0 .75.75 0 01-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.404 2.404 0 01-.507-.441 3.063 3.063 0 01-.633-1.248.75.75 0 011.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.753.753 0 01.01.05c.348.443.666.949.94 1.553a.75.75 0 11-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768a85.08 85.08 0 00-.317-.265c-.814-.68-1.75-1.462-2.692-2.619a3.74 3.74 0 00-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 01.728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75z"></path></svg><span class="jsx-1138949640">Home</span></button><button role="tab" type="button" aria-selected="false" class="jsx-1138949640 UnderlineNav-item"><svg aria-hidden="true" role="img" class="UnderlineNav-octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom"><path fill-rule="evenodd" d="M0 1.75A.75.75 0 01.75 1h4.253c1.227 0 2.317.59 3 1.501A3.744 3.744 0 0111.006 1h4.245a.75.75 0 01.75.75v10.5a.75.75 0 01-.75.75h-4.507a2.25 2.25 0 00-1.591.659l-.622.621a.75.75 0 01-1.06 0l-.622-.621A2.25 2.25 0 005.258 13H.75a.75.75 0 01-.75-.75V1.75zm8.755 3a2.25 2.25 0 012.25-2.25H14.5v9h-3.757c-.71 0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324l.004-5.073-.002-2.253A2.25 2.25 0 005.003 2.5H1.5v9h3.757a3.75 3.75 0 011.994.574z"></path></svg><span class="jsx-1138949640">Blog</span></button><button role="tab" type="button" aria-selected="false" class="jsx-1138949640 UnderlineNav-item"><svg aria-hidden="true" role="img" class="UnderlineNav-octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg><span class="jsx-1138949640">Projects</span></button><button role="tab" type="button" aria-selected="false" class="jsx-1138949640 UnderlineNav-item"><svg aria-hidden="true" role="img" class="UnderlineNav-octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom"><path fill-rule="evenodd" d="M10.5 5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm.061 3.073a4 4 0 10-5.123 0 6.004 6.004 0 00-3.431 5.142.75.75 0 001.498.07 4.5 4.5 0 018.99 0 .75.75 0 101.498-.07 6.005 6.005 0 00-3.432-5.142z"></path></svg><span class="jsx-1138949640">About</span></button></div><button class="night-switch-button btn position-fixed top-2 right-2 px-2" type="button"><svg aria-hidden="true" role="img" class="octicon octicon-sun" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom"><path fill-rule="evenodd" d="M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z"></path></svg></button></nav><div class="d-block mx-auto container markdown-body py-4 px-3"><h2>Hi</h2><p>This is Yukai Huang&#x27;s personal website.</p><p>Here you can read my <a href="/blog">recent posts</a>, play with <a href="/projects">my side projects before</a>, or <a href="/about">get to know me more</a>.</p><p>安久吧！</p><h2>Recent posts</h2><div class="Box"><div class="Box-row Box-row--hover-gray d-flex flex-items-start"><div class="mr-2 mt-1 d-flex flex-items-start" style="color:var(--color-scale-red-2 )"><svg aria-hidden="true" role="img" class="octicon octicon-north-star" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom"><path d="M8.5.75a.75.75 0 00-1.5 0v5.19L4.391 3.33a.75.75 0 10-1.06 1.061L5.939 7H.75a.75.75 0 000 1.5h5.19l-2.61 2.609a.75.75 0 101.061 1.06L7 9.561v5.189a.75.75 0 001.5 0V9.56l2.609 2.61a.75.75 0 101.06-1.061L9.561 8.5h5.189a.75.75 0 000-1.5H9.56l2.61-2.609a.75.75 0 00-1.061-1.06L8.5 5.939V.75z"></path></svg></div><div class="flex-auto"><a href="/blog/2021/04/24/deploy-organization-repo-free-with-vercel-sync-repo"><strong>我就免費仔：同步 GitHub 組織的儲存庫到個人帳號，達成 Vercel 的免費部屬</strong></a><div class="text-small color-text-secondary">#<!-- -->38<!-- --> posted on <!-- -->April 24, 2021</div></div></div><div class="Box-row Box-row--hover-gray d-flex flex-items-start"><div class="mr-2 mt-1 d-flex flex-items-start" style="color:var(--color-scale-red-2 )"><svg aria-hidden="true" role="img" class="octicon octicon-north-star" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom"><path d="M8.5.75a.75.75 0 00-1.5 0v5.19L4.391 3.33a.75.75 0 10-1.06 1.061L5.939 7H.75a.75.75 0 000 1.5h5.19l-2.61 2.609a.75.75 0 101.061 1.06L7 9.561v5.189a.75.75 0 001.5 0V9.56l2.609 2.61a.75.75 0 101.06-1.061L9.561 8.5h5.189a.75.75 0 000-1.5H9.56l2.61-2.609a.75.75 0 00-1.061-1.06L8.5 5.939V.75z"></path></svg></div><div class="flex-auto"><a href="/blog/2020/03/12/getting-manual-transmission-drivers-license"><strong>我的駕照心得</strong></a><div class="text-small color-text-secondary">#<!-- -->37<!-- --> posted on <!-- -->March 12, 2020</div></div></div><div class="Box-row Box-row--hover-gray d-flex flex-items-start"><div class="mr-2 mt-1 d-flex flex-items-start" style="color:var(--color-scale-red-2 )"><svg aria-hidden="true" role="img" class="octicon octicon-north-star" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom"><path d="M8.5.75a.75.75 0 00-1.5 0v5.19L4.391 3.33a.75.75 0 10-1.06 1.061L5.939 7H.75a.75.75 0 000 1.5h5.19l-2.61 2.609a.75.75 0 101.061 1.06L7 9.561v5.189a.75.75 0 001.5 0V9.56l2.609 2.61a.75.75 0 101.06-1.061L9.561 8.5h5.189a.75.75 0 000-1.5H9.56l2.61-2.609a.75.75 0 00-1.061-1.06L8.5 5.939V.75z"></path></svg></div><div class="flex-auto"><a href="/blog/2019/03/02/chrome-netlog-and-netlog-viewer-hidden-header-credentials"><strong>使用 Chrome NetLog 解析隱藏在 DevTools 中的 Header 資訊</strong></a><div class="text-small color-text-secondary">#<!-- -->36<!-- --> posted on <!-- -->March 2, 2019</div></div></div><div class="Box-row Box-row--hover-gray d-flex flex-items-start"><div class="mr-2 mt-1 d-flex flex-items-start" style="color:var(--color-scale-red-2 )"><svg aria-hidden="true" role="img" class="octicon octicon-north-star" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom"><path d="M8.5.75a.75.75 0 00-1.5 0v5.19L4.391 3.33a.75.75 0 10-1.06 1.061L5.939 7H.75a.75.75 0 000 1.5h5.19l-2.61 2.609a.75.75 0 101.061 1.06L7 9.561v5.189a.75.75 0 001.5 0V9.56l2.609 2.61a.75.75 0 101.06-1.061L9.561 8.5h5.189a.75.75 0 000-1.5H9.56l2.61-2.609a.75.75 0 00-1.061-1.06L8.5 5.939V.75z"></path></svg></div><div class="flex-auto"><a href="/blog/2018/07/16/kabegami-new-page"><strong>Chrome Extension - Kabegami New Page</strong></a><div class="text-small color-text-secondary">#<!-- -->35<!-- --> posted on <!-- -->July 16, 2018</div></div></div><div class="Box-row Box-row--hover-gray d-flex flex-items-start"><div class="mr-2 mt-1 d-flex flex-items-start" style="color:var(--color-scale-red-2 )"><svg aria-hidden="true" role="img" class="octicon octicon-north-star" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom"><path d="M8.5.75a.75.75 0 00-1.5 0v5.19L4.391 3.33a.75.75 0 10-1.06 1.061L5.939 7H.75a.75.75 0 000 1.5h5.19l-2.61 2.609a.75.75 0 101.061 1.06L7 9.561v5.189a.75.75 0 001.5 0V9.56l2.609 2.61a.75.75 0 101.06-1.061L9.561 8.5h5.189a.75.75 0 000-1.5H9.56l2.61-2.609a.75.75 0 00-1.061-1.06L8.5 5.939V.75z"></path></svg></div><div class="flex-auto"><a href="/blog/2018/06/06/how-to-change-opera-new-start-page"><strong>更改 Opera 的新分頁</strong></a><div class="text-small color-text-secondary">#<!-- -->34<!-- --> posted on <!-- -->June 6, 2018</div></div></div></div><button class="mt-3 btn mr-2" type="button">Read More</button><a href="/feed.xml"><button class="mt-3 btn btn-primary" type="button">Subscribe via RSS</button></a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"id":"nt5N9ZwlSoys51f0SFONhg","meta":{},"title":"我就免費仔：同步 GitHub 組織的儲存庫到個人帳號，達成 Vercel 的免費部屬","content":"# 我就免費仔：同步 GitHub 組織的儲存庫到個人帳號，達成 Vercel 的免費部屬\n\n免費仔系列文。開發小專案想用 SaSS 服務但又不想花錢嗎？那這個系列文一定要讀讀，不過或許免錢的最貴呢 😂\n\n## Vercel \u0026 Next.js\n\n[Next.js](https://nextjs.org/) 這套框架讓你快速建構 React.js 的前端網站，甚至包含簡單的後端整合，SSR、SSG 等各項技術也都幫你整合好了。開發 Next.js 的公司就是 [Vercel](https://vercel.com/about)，他們的同名服務 [Vercel](https://vercel.com/) 就是幫你架設 Next.js 網站的最佳選擇。\n\nVercel 提供個人免費版，但是如果你想要部屬 GitHub 組織的專案就一定得付錢：\n\n![](https://i.imgur.com/V4PMopz.png)\n\n但有時專案一多，勢必要透過 GitHub 組織來管理專案，你又想免費使用 Vercel 時該怎麼做呢？\n\n## 直覺：同步到 GitHub 個人儲存庫\n\n很簡單，Fork 一份程式碼儲存庫到個人帳號就可以了，然後用 git 新增一個 remote，把程式碼推上去：\n\n```bash\ngit remote add personal git@github.com/Yukaii/my-personal-repo\ngit push personal main\n```\n\n但每次部屬都要手動推一次到不同 remote，好麻煩呀，我想要自動化！\n\n## 用 GitHub Actions 來自動化\n\nGitHub Actions 是 GitHub 內建的 CI/CD 工具，~~常常被人拿來挖礦~~。我們建立一個獨立的程式碼儲存庫來管理同步 Actions 設定檔。我自己的叫 `repo-syncer` (github.com/Yukaii/repo-syncer)，是私有的所以各位看不到，以下稱為「同步管理儲存庫」。\n\n**`.github/workflows/sync-repo1.yml`**\n\n```yaml= [3,16,18,20]\non:\n  schedule:\n  - cron:  \"*/60 * * * *\"\n  workflow_dispatch:\n\njobs:\n  repo-sync:\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v2\n      with:\n        persist-credentials: false\n    - name: git-sync\n      uses: wei/git-sync@v3\n      with:\n        source_repo: \"git@github.com:GitHubOrg/repo.git\"\n        source_branch: \"refs/remotes/source/*\"\n        destination_repo: \"Yukaii/my-repo\"\n        destination_branch: \"refs/heads/*\"\n        ssh_private_key: ${{ secrets.SSH_PRIVATE_KEY }}\n```\n\n強調幾行做說明：\n\n- `3`: 定時每個小時跑一次，雖然是免費仔但也不要太頻繁的利用資源。寫的是 Cron 語法，可以利用 [crontab guru](https://crontab.guru/) 這個工具來輔助，GitHub Actions 的編輯器也會提示你。\n- `16`: 記得改成 GitHub 組織內儲存庫的連結\n- `18`: 記得改成個人帳號儲存庫的連結\n- `20`: 到「同步管理儲存庫」的設定頁面加入 Secret，這裡填的是私鑰。建議可以 [產生一組新的 SSH 金鑰](https://docs.github.com/en/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent) 方便管理。記得加到帳號的 SSH 金鑰列表裡頭。\n\n## 就這樣了\n\n![](https://i.imgur.com/km7anw5.png =300x)\n\nVercel 綁定等等不在本篇討論範圍，就不寫了。設定完成後可以到 GitHub Actions 的分頁手動觸發 Action，看看程式碼是否成功同步。（點上圖那個 `Run workflow`）\n\nGitHub Actions 模組的設定檔讓我們可以快速復用別人寫好的 Actions，我這次用的 Actions 是 [`wei/git-sync`](https://github.com/wei/git-sync)，可以看到整份設定檔根本沒改幾行，輕輕鬆鬆啊！\n\n\u003e ~~如果對「我就免費仔」系列文有興趣，記得訂閱按讚並開啟小鈴鐺，浪漫 Duke 就會帶你找到屬於你的浪漫~~","date":{"year":"2021","month":"04","day":"24"},"slug":"deploy-organization-repo-free-with-vercel-sync-repo","tags":[],"publishedAt":"2021-04-24T02:57:09.184Z"},{"id":"5ZvVzYE6QseriSUV3cMhDQ","meta":{"published":true,"layout":"post","title":"我的駕照心得","date":"2020-03-12 21:28","comments":true},"title":"我的駕照心得","content":"\n# 我的駕照心得\n\n## 前言\n\nTL;DR 我順利通過手排車駕照考試了！\n\n從成年開始常常就會想是不是該考個駕照了。第一次出國時，看著朋友駕駛在加州的公路，幾度疲累卻又無人換手，就很懊惱自己怎麽還不會開車。過了幾個忙碌的暑假，終於等到今年初比較清閒，剛好朋友準備出國也需要駕照，於是相揪一起報名駕訓班。\n\n汽車駕照考試分成筆試和路考。筆試 85 分及格，路考 70 分及格；而路考又分成場內（號誌、直線換檔、上坡起步、S 彎、倒車入庫、路邊停車等）和道駕。真正「開車」的部分只有道駕，場內的部分單靠口訣記憶方向盤迴轉角度和時機，就能順利通關，儘管你可能會開的走走停停，被扣些無傷大雅的小分數，但確實不需要任何上路經驗就能拿到駕照。這也造成一票人雖然拿到了駕照，但卻零上路經驗的結果。\n\n從 2017 開始駕照才開始加考道路駕駛，雖然難度提高，但這項政策也確實擋下許多三寶，我朋友就開玩笑的和我說：「我是考完駕照才開始學車的」，可見一斑啊，喂！（不過該位朋友確實不是三寶，特此聲明）\n\n以下就來分享我的學車經驗吧！\n\n\n## 心態\n\n我自己學車是比較「感覺派」的。感覺派是相對「公式派」而言，我自己的定義來說就是：「方向盤的操控和速度都能依照感覺自由掌握」，而非運用記憶點和方向盤迴轉的角度來完成。\n\n但我想澄清一點，「感覺派」和「開車訣竅」或是「判定點」並沒有衝突。開車訣竅指的像是方向盤迴正時機或是煞車控制等，可能不影響實際的行車結果，彎還是轉的過去，車子還是停的下來，但有了這些訣竅卻會讓行車更加舒適。判定點指的是運用車子部件與視線的延伸延伸線，去得知車體與物體相對距離的技巧，在轉彎或停車抓距離時十分有幫助。\n\n「感覺派」像是千錘百鍊後的肌肉記憶，任何一個熟稔的駕駛人都會擁有的能力，只不過偏執的我硬要在短短幾周裡面掌握，為此還是挨了教練的不少念：「明明就有簡單的方法，為何你一定要自創呢？」。反正好玩嘛 😋\n\n## 學習歷程\n\n前前後後學車時間也就三週多三天而已，報名時間剛好在武漢肺炎剛爆發時，著實讓我緊張的一下，怕駕訓班會不會停課或爆發感染，好在台灣還沒開始大爆發（不要亂立 flag），駕訓班的防疫概念也做的不錯，讓我可以順利結束課程 :)\n\n### 第一週：場內練習\n\n我上的是平日班，此時剛好報名人數不多，頭一個禮拜比較需要教練指導時，因為起得早，加上教練後續沒有課程安排，我時常一次練超過兩節的分量。於是場內的大部分項目，在前三天就通通結束了。雖然和 S 彎奮鬥比較久，在第一週我的三項成功率（S 彎、倒車入庫、路邊停車）達到了七成。\n\n### 第二週：精熟場內\n\n第二週開始我持續的練習場內三項之力，加上新學會的上坡起步。說起來手排車的上坡起步也是挺玄的項目，簡單的步驟如下：\n\n1. 輕放離合器至車身微震\n2. 輕踩油門\n3. 再放離合器感到車身有稍稍往前，若無重複 2 步驟及 3 步驟\n4. 放下手剎車，車身即向上爬坡前進\n\n恩，說起來簡單。但我會說玄，是因為油門和離合器的踩放並不需要一定的比例，甚至失誤後（沒踩對）也有機會救回來，只要適時的補油和調整離合器。上坡起步學習到的不只是上坡，而是離合器和油門的動態控制，這項技術也能用在停止時手排車的快速起步。不過這都是我第三週後的理解了，還曾經卡在坡上五分鐘呢！~~真是恥辱~~\n\n在第二週之後，場內三項之力只要認真起來，基本上已經不會壓線失誤了，成功率大概在九成，甚至還能用怠速全速開秀過 S 彎，大約等同普通學員一次倒車入庫的時間，對於速度比較慢的學員，甚至還能做到兩次 S 彎呢。~~還是讓我自吹自擂一下~~\n\n### 第三週：道駕與筆試\n\n第三週開始，除了每天例行的場內練習外，我必須起個大早，由教練陪同進行道駕練習。因為學的是手排車，但道駕用的是自排，第一次上車時一時不知道怎麽打檔，還被坐在後座的學弟嗆（怒）。不過道駕用的自排車實在比手排教練車好開太多了，輕輕一踩就能剎住的剎車，還有軟軟的油門，方向盤又好轉，一上車就不想下來了 😆 我就這樣每天五點半起個大早，連天都還沒亮就騎著機車跑去駕訓班，練了好幾天。\n\n然後在考前的前一個週末，駕訓班安排了筆試的總複習，聽完課後就開始讀題庫。不過說起來我的運氣還真好，最後抽到的題目完全沒有罰鍰金額、罰則和數字計算，差不多就是裸考就能通過的程度 😅，不過你也不是天天在過年的，還是乖乖準備吧！\n\n### 考試當天\n\n練了快一個月的車都是晴天，結果考試當天早上竟然下大雨😂，心一橫就直接搭計程車去駕訓班了，想說也不差這次坐車的錢，要是騎車又淋溼等下考試一定很不爽。\n\n輪到我準備上車時還是有點緊張，心裡一直想會不會等會腳一抖就熄火，還沒開始就先被扣分了。結果還好一切順利，最怕的道駕路邊停車也停在完美安全的距離。一完成路邊停車，剩下的就只是開回駕訓班了，我的腦袋裡一直反覆著卡特的 It's over dunk 的 over 手勢，真的結束了，舒服！\n\n## 口訣：滿街的三寶\n\n如果要我給還沒學車的朋友一個建議，竊以為下面這兩張圖最為適合：\n\n![](https://i.imgur.com/BgwliLI.png \"自豪貌\")\n\n既然是三寶所以才要來學車嘛，所以就找自己節奏慢慢學就好了。遇到比較愛碎碎唸的教練抱怨你進度慢，你也要有自知之明，因為你就三寶，所以只能慢慢練培養肌肉記憶。~~教練的話就不用理他了~~\n\n![](https://i.imgur.com/ByvvUO7.png \"送給駕訓班的所有同學\")\n\n你可以把他解讀成防禦性駕駛。路上三寶就是這麼多，你自己也可能會失誤，既然如此就不要那麼貼彎，路線選擇安全點，預測一下前面三寶的行動，保持安全最重要。\n\n吹了這麼多，拿到駕照到現在我倒是還沒上過一次路。~~還是來繼續考 L2 駕照實在~~\n\n## 後遺症\n\n原本我對路上開什麼車一直都是沒啥興趣的，連車子的廠牌也叫不出大半，結果考完駕照後瘋狂看了一系列關於手排車換檔上路的實務影片，還學了一堆英文單字（Double clutch 啦 Heel Toe 啦 Downshifting 啦），搞得忽然很想弄台便宜的二手車來上路！\n\n更慘的是，YouTube 推薦影片慢慢出現一堆試新車的影片，看到公司樓下停了台可愛的歐洲車還會馬上去查型號（Abarth 595 真是太可愛啦 😍）。\n\n考駕照真是一條不歸路啊......😂\n","date":{"year":"2020","month":"03","day":"12"},"slug":"getting-manual-transmission-drivers-license","tags":[],"publishedAt":"2020-10-09T02:22:57.771Z"},{"id":"MPNd7ZOZQqSQNIJdnMU1Bw","meta":{"layout":"post","title":"使用 Chrome NetLog 解析隱藏在 DevTools 中的 Header 資訊","date":"2019-03-02 21:30 +0800","slug":"chrome-netlog-and-netlog-viewer-hidden-header-credentials"},"title":"使用 Chrome NetLog 解析隱藏在 DevTools 中的 Header 資訊","content":"\n# 使用 Chrome NetLog 解析隱藏在 DevTools 中的 Header 資訊\n\n在檢視 DevTools 網路頁的 Headers 資訊時，有時後會顯示下面這行警告訊息：\n\n![](https://i.imgur.com/P7WZcYY.png)\n\n\u003e Provisional headers are shown\n\n這就代表有些敏感資訊被 DevTools 隱藏。舉例來說，CloudFront 有一套 [基於 Signed Cookie 的驗證系統][1]，某些需要登入後才能存取的資源，比如 **電子書**、影音就需要用這種方式來防止外流。不過有做 DRM 還是比較好啦，畢竟沒 DRM 你的檔案還是跟裸奔一樣啊！😆\n\n## 該是 NetLog 登場的時刻\n\nNetLog 顧名思義，是一套 Chromium Project 內建的網路事件記錄系統 (Network Logging System)，因為我們需要拿取被 DevTools 隱藏的資訊，所以就要靠 NetLog 啦。有 Log 才能 Debug！\n\n1. 打開 [`chrome://net-export/`](chrome://net-export/)，你應該會看到以下的介面\n    ![](https://i.imgur.com/8qFazRw.png)\n2. 記得選擇第二項 **Include cookies and credentials**，這才是我們要的\n3. 點按鈕，選擇完 dump 位置後開始記錄網路事件。開始進行你要 Log 的操作，此時分頁開越少越好，輸出資料的雜訊不會那麼多比較好讀\n\n## 用 NetLog Viewer 來打開 dump 出的 log 檔\n\n那麼輸出的 JSON 檔要怎麼讀？Google 也幫你弄好了。\n\n1. 打開 [NetLog Viewer][2]\n2. 把剛剛輸出的 JSON 檔案，拖弋到視窗\n    ![](https://i.imgur.com/oJj7teQ.png)\n3. Bang!\n    ![](https://i.imgur.com/0K3spmz.png)\n4. 點開左側的 Event，搜尋框輸入你要找的東西就可以了\n    ![](https://i.imgur.com/pPYkL1f.png)\n5. 剩下來就不說啦，搜尋你要的 Request 或 Cookie 鍵值，拉出你要的資訊，就和使用 DevTools 一樣\n\n## 嗯\n\n所以說，你要解析的敏感資訊是什麼呢？\n\n光喜自得！\n\n[1]: https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-setting-signed-cookie-custom-policy.html\n[2]: https://netlog-viewer.appspot.com","date":{"year":"2019","month":"03","day":"02"},"slug":"chrome-netlog-and-netlog-viewer-hidden-header-credentials","tags":[],"publishedAt":"2020-10-05T01:25:40.109Z"},{"id":"yAVPHRLGRCCoZiOZIvVIMA","meta":{"layout":"post","title":"Chrome Extension - Kabegami New Page","date":"2018-07-16 20:30 +0800"},"title":"Chrome Extension - Kabegami New Page","content":"\n# Chrome Extension - Kabegami New Page\n\n## 先看 Demo\n\n![Imgur](https://i.imgur.com/CW9l7iA.gif)\n\n**TL;DR**，這是一個\b讓瀏覽器新分頁**每次隨機\b顯示桌布**的擴充功能。\b\n\n\b瀏覽器成為第二個桌面，我自幹這個功能也是相當合理的 =w=\n\n## 到哪下載？\n\n[這裡](https://chrome.google.com/webstore/detail/kabegami-new-page/fbbdincgjgdmbbkongmineooghpadbgk)\n\n## 技術架構\n\n- 好久沒玩的 Vue.js，做點小玩意兒剛剛好\n- \bJS 好朋友 TypeScript\b，沒這個真的不知怎麽寫前端了\n- Imgur API\b，流量無限我他媽還不傳爆！\n\n值得一提的是這次用 TypeScript\b Generics 搭配 localforage 弄了一層簡單的 [ActiveModel-like API](https://github.com/Yukaii/kanahei-wallpapers/blob/master/src/app/lib/store.ts#L26)，莫名的成就感啊 😂\n\n## Show me the code\n\n\b按照慣例一向開源開爆的，GitHub repo 在 [https://github.com/Yukaii/kanahei-wallpapers](https://github.com/Yukaii/kanahei-wallpapers)。為何名字裡有 kanahei？原因是一開始純粹想做他們家限定的桌布，沒想到回饋不錯只好一般化，讓大家可以上傳自己想用的桌布。之後可能會改名吧，再說。\n","date":{"year":"2018","month":"07","day":"16"},"slug":"kabegami-new-page","tags":[],"publishedAt":"2020-10-09T02:21:45.353Z"},{"id":"k4eIPbP5TeOCGzVqx9fuow","meta":{"layout":"post","title":"更改 Opera 的新分頁","date":"2018-06-06 09:57 +0800"},"title":"更改 Opera 的新分頁","content":"\n# 更改 Opera 的新分頁\n\n我從去年起開始使用 Opera，原因有二：基於 Chromium 以及內建的暗色主題。不過這不是本篇的主題，就讓我輕輕帶過吧 XD\n\n現在的 Opera 既然是基於 Chromium 改的，當然支援 Google Chrome 的瀏覽器擴充功能，只要安裝 Opera 官方出的 [Install Chrome Extensions](https://addons.opera.com/zh-tw/extensions/details/install-chrome-extensions/) 擴充套件，就能無縫直接在 Chrome Web Store 下載了，不過還是有些限制，比如 Chrome Apps 和主題就不支援，修改新分頁的擴充功能也沒辦法直接使用。\n\n接下來教你怎麽啟用 Opera 修改新分頁的擴充功能 😝\n\n1. 安裝完上面提到的 [Install Chrome Extensions](https://addons.opera.com/zh-tw/extensions/details/install-chrome-extensions/) 之後，到 [Chrome Web Store][new-tab-start-page-pro] 頁面安裝 New Tab Start Page Pro\n2. 安裝修改新分頁的功能，以 [Unplash Instant](https://chrome.google.com/webstore/detail/unsplash-instant/pejkokffkapolfffcgbmdmhdelanoaih) 為例，一樣先到 Chrome Web Store 安裝\n3. 複製擴充功能的 ID，在擴充功能 Web Store 網址的最後面，以 Unsplash Instant 為例，就是 `pejkokffkapolfffcgbmdmhdelanoaih`，也可以從 Opera 的擴充功能頁面拿到\n\n    ![ID](https://i.imgur.com/MCcnznn.png)\n\n4. 叫出 New Tab Start Page Pro 的設定頁，在 New Tab \u0026 Start Page URL 欄位填入：`chrome-extension://pejkokffkapolfffcgbmdmhdelanoaih/index.html`\n5. 其它照截圖的選起來\n\n    ![options](https://i.imgur.com/07NcIOh.png)\n\n6. 按 Save 存檔\n\n效果如下圖，雖然開啟新分頁之後會閃一下，聊勝於無啦\n\n![gif](https://i.imgur.com/Ctvff8y.gif)\n\n（完）\n\n[new-tab-start-page-pro]: https://chrome.google.com/webstore/detail/new-tab-start-page-pro/mjfahldkpjhcnfbbmdhpjolcjpcfhcpj\n","date":{"year":"2018","month":"06","day":"06"},"slug":"how-to-change-opera-new-start-page","tags":[],"publishedAt":"2020-10-09T02:21:17.960Z"},{"id":"vlZlmHyVRwui8C-0Vdohuw","meta":{"published":true,"layout":"post","title":"用 Gmail 的 SMTP 來寄信，但你的郵件伺服器沒有 SMTP 功能","date":"2018-04-13T00:00:00.000Z"},"title":"用 Gmail 的 SMTP 來寄信，但你的郵件伺服器沒有 SMTP 功能","content":"# 用 Gmail 的 SMTP 來寄信，但你的郵件伺服器沒有 SMTP 功能\n\n## 你到底再工啥小\n\n在啦幹。解釋一下，敝單位由於歷史因素及安全考量，所以內部的郵件系統在外網時，只開放收信（IMAP）而沒有寄信（SMTP）功能。這摸不方便的狀況一定要來 workaround，免費 Gmail 就有 SMTP 寄信功能，我們就直接用吧。值得一提的是這方法是我成功之後才去 Google 驗證解法的，難得一波直覺流 \u003c3\n\n## 設定步驟\n\n1. 設定電子郵件客戶端的寄信伺服器為 Gmail 的 SMTP，伺服器填：`smtp.gmail.com`，帳號：`xxx@gmail.com`，密碼為 gmail 密碼。若你有兩階段驗證，密碼就去[應用程式密碼][2-factor]產生\n2. 到 Gmail 的 **帳戶和匯入** -\u003e **以這個地址寄送郵件** -\u003e 點選 **新增另一個電子郵件地址**\n3. 把**視為別名**給取消勾選、填入你要用來寄信的 mail\n5. SMTP 伺服器欄位，填入 Gmail 的 SMTP（跟上面第一點填的一樣）\n6. 收信驗證 mail\n7. 搞定\n\n最近 Gmail 準備要推出改版了，希望這部分的 UI 不要差太多。另外本篇就先不截圖了，非開發者比較需要 XD\n\nvia [https://webapps.stackexchange.com/a/72975](https://webapps.stackexchange.com/a/72975)\n\n[2-factor]: https://myaccount.google.com/apppasswords\n","date":{"year":"2018","month":"04","day":"13"},"slug":"use-gmail-smtp-without-your-own-smtp-server","tags":[],"publishedAt":"2020-10-09T02:20:41.839Z"},{"id":"MMaY-LsRQ7e_7DOaHWwdPQ","meta":{"published":true,"layout":"post","title":"來推廣一下 Alfred 好了","date":"2018-02-19T00:00:00.000Z"},"title":"來推廣一下 Alfred 好了","content":"\n# 來推廣一下 Alfred 好了\n\n## 日常刷存在感開始\n\n三個月沒有發新的文章。雖然斷斷續續累積不少內容在 Evernote 和 GitHub 票上，但就是懶的整理成文章發表。看看我，連新年新希望都懶的刷啦。若是非要給去年來個總結，大致就是「運氣真好，幹得不錯」吧（結果還是總結了嘛，總結還是比開支票輕鬆）\n\n今天要來推廣一下 macOS 下的神器 Alfred，其實我也用了快四年，只是去年才還債 Powerpack（？）\n\n[Alfred][alfred] 除了能**快速啟動/切換**應用程式外，還能編寫自己的 workflow 腳本，來達成匯率轉換、[翻譯][alfred-translate]、即時顯示資訊等等。雖然理論上能透過 API 做到各種應用，但 UI 限制就擺在那，有些功能你硬要用 Alfred workflow 做就顯得彆鈕 😆。\n\n好，這樣就推廣完畢啦（逃）。接下來寫點我自己對 Alfred 做的修改和套件：\n\n[alfred]: https://www.alfredapp.com/\n[alfred-translate]: https://github.com/zetavg/alfred-google-translate-workflow\n\n## 自製的 macOS 風格主題 (macOS-styled alfred theme)\n\n![mac-os-styled-alfred-theme](https://i.imgur.com/zg25hcK.png)\n\n[下載連結][alfred-theme-dl]\n\n[alfred-theme-dl]: https://www.alfredapp.com/extras/theme/R20A5tyTVc/\n\n### 特色\n\n- macOS 標準藍色，參見 [Apple Human Interface Guidelines 的色彩部分][1]\n- ~~深度微調的背景糢糊和黑色~~ 其實就是肉眼觀測法\n- 還不錯的 scrollbar\n\n[1]: https://developer.apple.com/macos/human-interface-guidelines/visual-design/color/\n\n廢話一堆，受限於 Alfred 的 API，主題能調整的一些些，反正不要太突兀，和系統風格差不多就好。~~像我就只會抄 Spotlight~~\n\nBTW，Alfred 分享網址出來的預覽圖實在有點醜啊，應該很久沒更新了吧 XD\n\n## 自己來寫 Powerpack\n\n使用 JS Hero [sindresorhus][2] 大大的 [alfy][3] 套件，就可以輕鬆的用 Node.js 來寫 Alfred workflow，各種 `npm` 套件隨你用，還可以利用 `npm` 來發佈、安裝 workflow。\n\n像我就做了內部分機表速查的小工具，誰打電話來找麻煩，要接還是不接，一按就知道！❤️ （被揍）\n\n![alfred-contacts](https://i.imgur.com/9YzPPwQ.png)\n\n\u003e Skitch 馬賽克馬的好糾結\n\n[2]: https://github.com/sindresorhus\n[3]: https://github.com/sindresorhus/alfy\n\n## Awesome alfred\n\n[Awesome][awesome] 系列都這麼多年，什麼不會就讀一讀吧 XD\n\n[awesome]: https://github.com/derimagia/awesome-alfred-workflows\n","date":{"year":"2018","month":"02","day":"19"},"slug":"my-own-alfred-workflow-and-macos-sierra-theme","tags":[],"publishedAt":"2020-10-09T02:20:00.688Z"},{"id":"EL7yoeEAQru61WrO_CAccQ","meta":{"layout":"post","title":"用 ssh tunnel 連線到 router 背後的機器，並建立 SOCKS5 proxy 存取內網資源","published":true,"date":"2017-10-07T00:00:00.000Z"},"title":"用 ssh tunnel 連線到 router 背後的機器，並建立 SOCKS5 proxy 存取內網資源","content":"\n# 用 ssh tunnel 連線到 router 背後的機器，並建立 SOCKS5 proxy 存取內網資源\n\n## 這役男實在是...\n\n記一下最近遇到的問題。\n\n目前小弟正在公家單位服役。凡公家機關，內部架個外包的管理系統也是很合理的，不過因為是內部系統，所以只能透過區網來存取。對於我這個用自己機器的人來說就不太方便啦，連線的 Wifi Router 又不能和內網相通。\n\n剛好單位有台閒置的虛擬機，也可以存取內網，Google 了幾個方案之後發現 ssh tunnel 的影響最小：不用裝些有的沒的，也不用更改網路環境，加上我已經有了台 Linode 上的遠端開發機常駐，就來試試吧 =w=\n\n以下是環境的簡易說明圖。「那臺機器」就是閒置的內網虛擬機，「開發機器」是常駐 Linode 的遠端開發機，「Client 機」是任一台可以連線到開發機的裝置，可能是 Macbook Air、iPad，或是路邊撿來裝上 putty 的 Windows（逃）\n\n```txt\n                          +\n                          |\n                          |\n                   ssh with reverse port\n+---------------+  forwarding            +---------------+\n|               +------------------------\u003e               |\n|   那臺機器     \u003c------------------------+    開發機器    \u003c-----+ mosh + tmux\n|               |   ssh to localhost via |               |     |   掛上去\n|   (ubuntu)    |   forwarded port       |   (Linode)    |     |\n+---------------+         |              +---------------+     |\n                          |                                    +-------------+\n                          |                                    |             |\n                          |                                    |             |\n                          |                                    |  Client 機  |\n                          |                                    |             |\n                          |                                    |             |\n                          +                                    +-------------+\n\n                一堆 router 和防火牆等等\n\n```\n\n## ssh remote port forwarding\n\n先在 Ubuntu 上跑 ssh 指令連到遠端開發機，再加上 Remote port forwarding 參數：\n\n```bash\n# run on machine behind router\nssh -NfR 11111:localhost:22 REMOTE_SERVER_IP\n```\n\n可以看到 ssh 有三個參數，分別為：\n\n* `-N`: 單純連線，不送指令\n* `-f`: 放到背景執行\n* `-R`: Remote port forwarding，遠端埠重導\n\n上面指令的作用是，建立 ssh tunnel，讓遠端機器的 `11111` port 連回本機的 port 22 (localhost:22)。\n\n所以接下來在遠端機跑：\n\n```bash\n# run on remote machine\nssh localhost -p 11111\n```\n\n就可以 ssh 回 router 背後的機器啦。\n\n## SOCKS5 Proxy\n\n接下來我們修改一點指令，加上 dynamic port forwarding 參數 `-D`：\n\n```bash\n# run on remote machine\nssh -ND 0.0.0.0:8080 localhost -p 11111\n```\n\n另一個參數 `-N` 讓指令純建立 tunnel，`0.0.0.0` 讓所有 IP 都能連到這臺機器，`8080` 是綁定的 port。`-p` 指令連接埠，也就是方才 forward 過來的 `11111`。\n\n這樣 SOCKS5 Proxy 就算跑起來了，最後來設定 Client 端。我另外開了一個 Chrome 的 Profile，裝上 [Proxy SwitchyOmega][1] 插件，方便隔離：\n\n![image](https://i.imgur.com/kOjwrdw.png)\n\nRemote IP 就是遠端開發機的 IP。Bypass List 要檢查一下，`192.168.x.x` 也要 forward，記得從 List 刪掉。\n\n然後就可以在外網存取 `192.168.X.X` 的區網資源啦！太舒適啦！\n\n## 參考資料\n\n* [Accessing home services from anywhere, without port forwarding!][2] - 用 tinc 做 \bVPN，感覺\b更佳舒適\n* [ssh through a router without port forwarding][3] - SuperUser 日常爬文\n\n[1]: https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif\n[2]: https://jordancrawford.kiwi/home-server-without-portforward/\n[3]: https://superuser.com/questions/595989/ssh-through-a-router-without-port-forwarding\n","date":{"year":"2017","month":"10","day":"07"},"slug":"ssh-reverse-tunnel-behind-the-router-with-socks5-proxy","tags":[],"publishedAt":"2020-10-09T02:19:20.885Z"},{"id":"543BmFC_ShazQpoKUjqEzg","meta":{"layout":"post","title":"郵政 VISA 盜刷處理心得","date":"2017-10-02T00:00:00.000Z"},"title":"郵政 VISA 盜刷處理心得","content":"\n# 郵政 VISA 盜刷處理心得\n\n## 似乎月更已成慣例\n\n一個多月前，我剛結束成功嶺的新訓，來到高雄開始為期一週的專訓。才享受自由的空氣沒多久，第一天下午就收到一筆金額 4XXXX 的簡訊，騙鬼咧我明明就乖乖坐在這裡啊！\n\n接下來我就慢慢走過：~~[否認、憤怒、討價還價、沮喪、接受](https://zh.m.wikipedia.org/zh-hant/库伯勒-罗丝模型) 的過程~~。才不是咧，當然是趕快打卡片後面的號碼求救啊！我和郵局確認該筆\n交易的消費資訊（商家、消費國等），這真的不是我花的吼。\n\n確定之後就辦理卡片掛失，雖然卡片不是真的不見，但這樣就不會再有交易了。可是這張卡就沒用啦 XD，再換新卡之前只能臨櫃提款。\n\n##  跑行政流程\n\n因為專訓期間我也不能亂跑（其實還是可以，不過剛從陰間出來的都比較膽小 w），所以就拖到了禮拜六才弄。\n\n我帶著四神器：卡片、存摺、開戶印章、身分證，填了兩張表單：「持卡人聲明書」和「疑義帳款複查申請」，聲明真的不是媽媽的姊姊的叔叔的爸爸的弟弟把我的卡借去刷了。櫃檯小姐表示郵局會把這筆交易提交 VISA 審查，確認之後就會撥款回來。\n\n## 然後我就拿回錢啦\n\n就在昨天，郵局的承辦小姐通知我的錢已經回來了，爽啦！雖然前前後後跑了郵局三次（加換卡），但比當初說的兩個月還快啊，~~又可以大刷特刷敗家囉！~~\n\n這次也不知道是哪個網站洩漏卡號，之後要享受網路刷卡的便利前還是要做好準備，學學強者我朋友的作法：開另一個戶專門用來刷卡，只匯足夠的錢進去就好 :p\n","date":{"year":"2017","month":"10","day":"02"},"slug":"my-experience-with-chunghwa-post-visa-credit-card-fraud","tags":[],"publishedAt":"2020-10-09T02:18:26.403Z"},{"id":"X858sFn7QgysUaMOn5w37w","meta":{"published":true,"title":"用 PowerShell 批次轉換 docx 到 pdf","layout":"post","date":"2017-08-29T00:00:00.000Z"},"title":"用 PowerShell 批次轉換 docx 到 pdf","content":"\n# 用 PowerShell 批次轉換 docx 到 pdf\n\n## 近況\n\n內容與標題不符。\n\n我從今年的八月[開始登入](https://alive.yukaii.tw/)替代役 online。替代役自由多了，回想起成功嶺的那兩周，不僅餐餐吃不飽，還因為腸胃炎而再次掉了兩公斤多 Zzz，實在有夠悲劇。\n\n可能因為這麼悲慘的運氣補償機制吧(喂)，我來到了國訓中心開始了一年的役期，也多了些「閒暇時間」可以利用，無論如何都是非常幸運了 QAQ\n\n進入正題吧\n\n## 批次轉換 docx 成 pdf\n\n需求很簡單，也有現成軟體可以達成，不過身為一個開發者，連文書也要做的潮才行。以往一直沒什麼機會在 Windows 下進行自動化(多半是當時還太菜)，有了這個機會當然要好好利用。\n\n雖然沒寫過 PowerShell，不過 Google 第一項結果在 [StackOverFlow](https://stackoverflow.com/a/16537996) 就有了，輕鬆愉快。\n\n### 啟用腳本執行權限\n\n首先設定讓 powershell 可以執行腳本，以系統管理員身分執行 PowerShell 並跑起以下指令：\n\n```powershell\nSet-ExecutionPolicy RemoteSigned\n```\n\n### 寫 PowerShell 腳本\n\n然後把以下腳本存成副檔名為 `.ps1`，比如 `word-to-pdf.ps1`。其中 `$documents_path` 改成目標資料夾路徑。\n\n```powershell\n# From https://stackoverflow.com/a/16537996\n\n$documents_path = 'C:\\Users\\user\\Documents\\blahblahblah'\n$word_app = New-Object -ComObject Word.Application\n\n# This filter will find .doc as well as .docx documents\nGet-ChildItem -Path $documents_path -Filter *.doc? -Recurse | ForEach-Object {\n    $document = $word_app.Documents.Open($_.FullName)\n    $pdf_filename = \"$($_.DirectoryName)\\$($_.BaseName).pdf\"\n    $document.SaveAs([ref] $pdf_filename, [ref] 17)\n    $document.Close()\n}\n\n$word_app.Quit()\n```\n\n注意的是在 `Get-ChildItem` 方法我加上了 `-Recurse` 遞迴參數，讓所有子目錄底下的 `docx` 都能被轉換到。\n\n點擊兩下執行，所有 pdf 就會慢慢產生在 `docx` 檔的旁邊啦，瞬間開始耍廢！(喂)\n\n之後若有更多的 PowerShell 輔助使用腳本，我都會放在 [powershell-study](https://github.com/Yukaii/powershell-study) 這個 repo，歡迎自行取用 :p\n\n(完)\n","date":{"year":"2017","month":"08","day":"29"},"slug":"batch-convert-word-docx-to-pdf","tags":[],"publishedAt":"2020-10-09T02:17:42.134Z"},{"id":"a8RQegx6Q72SierjSikRZg","meta":{"layout":"post","title":"用 Travis CI 自動部署 Jekyll 部落格到 GitHub Pages","published":true,"date":"2017-08-01T00:00:00.000Z"},"title":"用 Travis CI 自動部署 Jekyll 部落格到 GitHub Pages","content":"\n# 用 Travis CI 自動部署 Jekyll 部落格到 GitHub Pages\n\n弄完 [ics-scheduler](https://github.com/Yukaii/ics-scheduler) 專案後沒多久就開了 [Travis Auto Build 的 issue](https://github.com/Yukaii/Blog/issues/2) 放置 Play。可惜我實在太懶，而現階段的部屬流程也很簡單： 建構、提交再推送。建構跑 `jekyll build` 指令，包成 bash script 更是秒秒鐘；提交完，fish 又有基於歷史的指令自動補全，推送的 `git subtree` 指令打到一半，後面的自動補完出來按個 enter 就好了。\n\n自動化永遠不嫌多，把建構出的結果一起加到進版控系統追蹤也不夠優雅的，每次新增一篇文章 diff 又一大堆。正巧今天早上收信的時候，看到以前關注的 GitHub 議題：「[將 jekyll-assets 整合到 github pages 官方 gem](https://github.com/github/pages-gem/issues/189#issuecomment-319070628)」有更新，留言提到 [Travis 現在也有 GitHub Pages 自動部屬的預設配置](https://docs.travis-ci.com/user/deployment/pages)了。機不可失，官方有支援，設定就簡單。來設定自動部屬吧 XD\n\n## 設置\n\n交互參照 [Travis CI 的文件](https://docs.travis-ci.com/user/deployment/pages)及 [Jekyll 的文件](https://jekyllrb.com/docs/continuous-integration/travis-ci/)，最後的 `.travis.yml` 長這樣：\n\n```yaml= [1,5,7-8]\nlanguage: ruby\nrvm:\n- 2.3.3\n \nscript: ./bin/cibuild\n \nbefore_script:\n - chmod +x ./bin/cibuild\n \ndeploy:\n  provider: pages\n  skip_cleanup: true\n  github_token: $GITHUB_TOKEN\n  repo: Yukaii/yukaii.github.io\n  local_dir: _site\n  target_branch: master\n  on:\n    branch: master\n```\n\n分三段來看。\n\n### `language: ruby`\n\n因為用的是 Jekyll，所以該有的 ruby 環境也要設定。Travis clone repo 下來之後便會自動 `bundle install` 裝完套件。\n\n### `script` \u0026 `before_script`\n\n這部份就是建制網站，cibuild 這個腳本長這樣：\n\n```bash\n#!/usr/bin/env bash\n \nset -e\n \nJEKYLL_ENV=production bundle exec jekyll build\n```\n\n就是 jekyll build 指令啦。\n\n### `deploy`\n\n最後 deploy 的部分，因為我部屬到 GitHub Pages 的 使用者頁面(User Site, **username**.github.io)，所以 `repo` 和 `target_branch` 要額外設定。其它就照著 [Travis 文件](https://docs.travis-ci.com/user/deployment/pages)預設填就好了。\n\nJekyll 建制完的檔案預設會在 `_site` 目錄底下，所以 `local_dir` 也要設為 `_site`\n\n## `No such file or directory @ rb_sysopen` 錯誤\n\n在 Travis CI 上面跑 Jekyll 就會炸掉 XDD 就照著 [jekyll/jekyll#2938]( https://github.com/jekyll/jekyll/issues/2938)，在 `_config.yml` 的 `exclude` 加入 `vendor` 解掉。\n\n## 成果\n\n以後只要用線上的 Markdown 編輯器寫完文章（比如 [HackMD](https://hackmd.io) ），再貼到 GitHub 線上 commit，部落格就能自動更新啦。也可以用 [prose.io](http://prose.io) 這類的線上 GitHub 內容管理工具，編輯提交一手包，還有草稿可以用 :p\n\nTravis 建構的缺點是 CI 服務裝完套件還是得花個幾分鐘，沒有以往那麼迅速。寫個文章而已嘛，還是可以忍受的，geek 到心理愉悅最重要（？）\n\n（完）\n","date":{"year":"2017","month":"08","day":"01"},"slug":"auto-deploy-jekyll-blog-with-travis-ci-official-gh-pages-plugin","tags":[],"publishedAt":"2020-10-09T02:16:57.642Z"},{"id":"-3_QAHoUSnq9zCsN3JKGBg","meta":{"layout":"post","title":"Jekyll 的文章搜尋功能","date":"2017-07-12T00:00:00.000Z"},"title":"Jekyll 的文章搜尋功能","content":"\n# Jekyll 的文章搜尋功能\n\n![Imgur](https://i.imgur.com/3y5O9tZ.gif)\n\n前幾天在 HackerNews 上看到了這篇文章：[A search widget for static web sites](https://news.ycombinator.com/item?id=14717182)，原理就是抓取 RSS 的 xml 檔案\b\b當做搜尋的資料庫。\n\n既然都用 Jekyll 了，那產生一個更容易使用的格式，比如 JSON，就不用手寫 regex 去 match XML 啦。\n\n我直接用了 [Jekyll search using lunr.js](https://learn.cloudcannon.com/jekyll/jekyll-search-using-lunr-js/) 這篇文章的做法，在 JavaScript 塞入文章內容：\n\n```javascript\nvar store = {\n  {% for post in include.posts %}\n    \"{{ post.url | slugify }}\": {\n      \"title\": \"{{ post.title | xml_escape }}\",\n      \"url\": \"{{ post.url | xml_escape }}\",\n      \"author\": \"{{ post.author | xml_escape }}\",\n      \"category\": \"{{ post.category | xml_escape }}\",\n      \"content\": {{ post.content | strip_html | strip_newlines | jsonify }},\n      \"url\": \"{{ post.url | xml_escape }}\",\n      \"date\": \"{{ post.date | date: \"%b %-d, %Y\" }}\"\n    }\n    {% unless forloop.last %},{% endunless %}\n  {% endfor %}\n}\n```\n\n產生出來的檔案長這樣：\n\n```javascript\nvar store = {\n  \"blog-2017-06-28-windows-unix-like-development-guide-nodejs-ruby\": {\n    \"title\": \"Windows Unix-Like 環境設定踩坑紀錄\",\n    \"url\": \"/blog/2017/06/28/windows-unix-like-development-guide-nodejs-ruby/\",\n    \"author\": \"\",\n    \"category\": \"\",\n    \"content\": \"...\",\n    \"url\": \"/blog/2017/06/28/windows-unix-like-development-guide-nodejs-ruby/\",\n    \"date\": \"Jun 28, 2017\"\n  },\n  \"blog-2017-05-04-deploy-redmine-with-puma-nginx-migration-from-mysql-to-postgresql\": {\n    \"title\": \"使用 puma 和 nginx 部屬 Redmine（加上從 MySQL 搬到 PostgreSQL）\",\n    \"url\": \"/blog/2017/05/04/deploy-redmine-with-puma-nginx-migration-from-mysql-to-postgresql/\",\n    \"author\": \"\",\n    \"category\": \"\",\n    \"content\": \"...\",\n    \"url\": \"/blog/2017/05/04/deploy-redmine-with-puma-nginx-migration-from-mysql-to-postgresql/\",\n    \"date\": \"May 4, 2017\"\n  },\n  // ...\n}\n```\n\n然後用 `lunr.js` 做搜尋：\n\n```javascript\nvar idx = lunr(function () {\n  this.field('id');\n  this.field('title', { boost: 10 });\n  this.field('author');\n  this.field('category');\n  this.field('content');\n  this.field('url');\n  this.field('date');\n\n  for (var key in store) { // Add the data to lunr\n    this.add({\n      'id': key,\n      'title': store[key].title,\n      'author': store[key].author,\n      'category': store[key].category,\n      'content': store[key].content,\n      'url': store[key].url,\n      'date': store[key].date,\n    });\n  }\n});\n\nvar results = idx.search(searchTerm); // Get lunr to perform a search\n```\n\n再把結果產生成列表就行了。花了比較多時間在處裡產生的 store 資料上，比如 `jekyll-mention` 插件會把 `@` 開頭的轉換成 GitHub User 連結，以及 `jemoji` 插件會把 `:smile:` 轉成 GitHub 的 emoji 圖片連結，但在：\n\n```txt\npost.content | strip_html | strip_newlines | jsonify\n```\n\n這個轉換 pipeline 裡面沒法被消除掉，於是轉出來的 JavaScript 就會出現 SyntaxError（多換行啦、double quote 沒有 escape 等）。\n\n另一個問題是因為用到 HTML5 History API，跟 Turbolink 尬在一起就會炸。現在有時還會「回到上一頁但頁面不切換」之類的問題。就暫時放置 Play 了 XD\n\n更多請參考 commit [`bb3a006`](https://github.com/Yukaii/Blog/commit/bb3a006f690f1ceed8793f9fa0b950f6c043bca9) 囉。\n\n（完）\n","date":{"year":"2017","month":"07","day":"12"},"slug":"search-in-jekyll","tags":[],"publishedAt":"2020-10-09T02:15:43.889Z"},{"id":"b0b4KArBS--CuveAYHje6A","meta":{"layout":"post","title":"Windows Unix-Like 環境設定踩坑紀錄","published":true,"date":"2017-06-28T00:00:00.000Z"},"title":"Windows Unix-Like 環境設定踩坑紀錄","content":"\n# Windows Unix-Like 環境設定踩坑紀錄\n\n## TL;DR\n\nHyper-V + Ubuntu Server + Samba + WSL ssh + cmder\n\n## 緣起\n\n自從印度人上臺之後，感覺微軟真的變了，從邪惡帝國主義（？）變成開源大法好，可惜基於歷史因素，社群圈講到微軟多半是酸居多，唉。至少從我這個 JavaScript 開發者兼 VSCode 愛好者來看，微軟真的進步超多了，害我都想拋棄 macOS、買台 Surface 跳槽 Windows 10 試試了。\n\n本文就是在購買 Surface 前的開發前置準備。如果買了 Surface 之後，整個開發 workflow 都要砍掉重練那也是滿累的 QQ。剛好最近回老家，就拿桌機的 Windows 10 來開刀吧！(至於我怎麼把 1G 的可用硬碟空間拉到 60G 那又是另一個故事了)\n\n## WSL - Windows Subsystem for Linux (Bash on Windows)\n\n在 Creators Update 之後，WSL 的能用度更高了，來試驗了一下 node.js 開發體驗揪竟是如何。\n\n* 存在 ulimit file descriptor 2048 限制 [BashOnWindows#1688](https://github.com/Microsoft/BashOnWindows/issues/1688)、[BashOnWindows#1576](https://github.com/Microsoft/BashOnWindows/issues/1576) 等。比如用 `copy-webpack-plugin` 就會噴錯，不過也有 `graceful-fs` 能解\n* 檔案系統還無法完美互通。官方文件是這樣說的：**DO NOT,** __**under ANY circumstances**__ **, create and/or modify Linux files using Windows apps, tools, scripts, consoles, etc.**。我遇到因為在 WSL 的 git 與 windows 的 git 交互使用，造成檔案遺失無法存取的狀況\n* 效能比想像中差，裝套件花的時間比想像中久(感覺上啦，沒真的測時間，Fall Creators Update 應該還會再提升)\n* 不太適合新手 w\n\n雖然開發程式跑得起來，但我只能用文字介面的 git？我才不要咧 XD 於是電梯向下，繼續找下一套替代方案。\n\n雖然遇到一些雷，可是 ssh、vim、tmux mosh 一系列工具在 WSL 裡面已經沒啥大問題了(好歹我沒遇到)，作為「原生 ssh 客戶端」算非常夠用啦 w。\n\n## Vagrant\n\nVagrant 可以說是虛擬機開發懶人方案，用 ruby 寫設定檔，幫你把資料夾、網路共享、port forwarding 一次搞定。\n\nVagrant 預設是用 virtualbox，也有 vmware 或 hyper-v 可以選用。就要另外找壓好的 vagrant box。因為 Hyper-V 似乎比 VirtualBox 的效能還要好，所以特別找了[基於 hyper-v 的 image](https://app.vagrantup.com/jjworren/boxes/xenial64) 來用，無奈就是跑不起來。看了一下命令列的輸出，發現他的目錄共享也是透過 samba 來弄。那就來自己搞吧！\n\n## Hyper-V\n\nWindows 內建的虛擬化方案，可以隨開關機自動啟動停止，完全無縫整合進 Windows 裡面！不過還不知道對續航力有啥影響，請期待 Surface 開箱文(誤)\n\n我直接裝上了 ubuntu server 16.04 版，反正桌面環境就用 Windows 10 的，UWP 大好。先建立一個虛擬交換器，之後日常照著裝完就好了。\n\n參考文件：\n\n* [Best Practices for running Linux on Hyper-V](https://docs.microsoft.com/en-us/windows-server/virtualization/hyper-v/best-practices-for-running-linux-on-hyper-v)\n* [Supported Ubuntu virtual machines on Hyper-V](https://docs.microsoft.com/en-us/windows-server/virtualization/hyper-v/supported-ubuntu-virtual-machines-on-hyper-v)\n\n### 設定 Samba 讓專案檔案共享\n\n弄到這的時候一直在想，到底要 **Windows 開共享資料夾讓 Ubuntu 掛載** 還是 **Ubuntu 開共享讓 Windows 掛載**呢？結論：**Ubuntu 共享讓 Windows 連線**。以 Node.JS 開發環境來說，`node_modules` 安裝的時候就要處理一堆 symlink 了，而 NTFS 不支援啊，所以前者一定爆的...（會這麼說是因為我在這卡很久 orz）\n\n(更新一下，其實 [Windows 是支援 Symlink](https://blogs.windows.com/buildingapps/2016/12/02/symlinks-windows-10/#oFj8QWsqO3o1e18O.97) 的，不過 linux 上的 samba client 不支援，還是掰呵呵)\n\n設定過程參考了以下資料：\n\n* [Ubuntu Server 設定 Samba 分享檔案](http://www.arthurtoday.com/2015/04/ubuntu-server-share-folder-samba.html)\n* [Ubuntu下samba安裝設定](http://flykof.pixnet.net/blog/post/23028119)\n* [使用Samba实现Linux与Windows文件共享实践](https://wsgzao.github.io/post/samba/)\n\n比較懶人的設定法，就是讓 samba 和 linux 的使用者共用，雖然這樣會降低安全性啦......記得不久之前的事件就是 samba 漏洞 XDrz\n\n先設定 samba 的使用者密碼：\n\n```bash\nsudo smbpasswd -a username\n```\n\n這裡請輸入和你自己使用者相同的密碼，samba 預設把 `unix password sync = yes` 密碼同步打開，理論上會同步回去你使用者的密碼。理論上啦(逃)\n\n再來編輯設定檔，在最下面加上以下內容(請修正為你自己的使用者和路徑)：\n\n```ini\n# /etc/samba/smb.conf\n\n[share]\n    security = user\n    comment = samba share folder\n    path = /srv/samba/share\n    user = \"username\"\n    force user = username\n    writable = yes\n    write list = username\n    browseable = no\n    map archive = no\n```\n\n最後重啟 samba 服務就行了\n\n```bash\nsudo service smbd restart\n```\n\n![drive](https://i.imgur.com/SJYhYwJ.png)\n\n自此專案資料夾便能無痛掛載到 Windows 內，由 Windows 內的 IDE 或編輯器存取啦！\n\n## cmder\n\n說到 Windows 平台下好用的 Terminal 大家都會推 cmder，就是 ConEMU 加上 Git for Windows 一整套幫你裝好了，直接上截圖。字體是我愛用的 [mononoki](https://github.com/madmalik/mononoki)。\n\n![cmder](https://i.imgur.com/VHM4USs.png)\n\n可惜的是還沒有滑鼠支援，大家可以到 [ConEmu#1114](https://github.com/Maximus5/ConEmu/issues/1114) 追蹤。\n\n## Git\n\n* filemode 要設為 false，不然權限會顯示成 diff\n* [修正 git over samba 的權限問題](https://stackoverflow.com/questions/20958888/preserving-file-permissions-for-samba-shares-when-file-is-edited)、[修正指令](https://stackoverflow.com/questions/6448242/git-push-error-insufficient-permission-for-adding-an-object-to-repository-datab/6448326#6448326)\n\n## 為何不用 Docker (moby)？\n\n[Docker for Windows 背後也是 Hyper-V 啊](https://docs.docker.com/docker-for-windows/install/#download-docker-for-windows) XD\n\n看論壇上的討論([stackoverflow](https://stackoverflow.com/questions/22842920/how-to-edit-code-in-a-docker-container-in-development)、[forum](https://forums.docker.com/t/best-practices-for-getting-code-into-a-container-git-clone-vs-copy-vs-data-container/4077))大都搭配 data container/volumn mounting/shared drive 的方式來弄，不過你也知道 NTFS 一扯到 symlink [目前還是沒戲兒](https://github.com/docker/for-win/issues/109)。\n\n另一種方法是用 [COPY](http://blog.cloud66.com/how-to-get-code-into-a-docker-container/) 來弄，不過跟 Windows 相容性如何，那畫面太美我不敢想 😂 所以囉\n\n## 結論\n\n說實話有點高估 WSL 的能耐了 XD 如果在輕量級開發(多輕量？我也不知道)之下，體驗說不定真的很好。\n\n剩下來的設定檔全面移轉、AHK Scripting、各式輔助軟體就等 Surface 開箱之後再說吧 XDD\n\n![VSCode](https://i.imgur.com/G09U4RQ.png)\n\n本篇文章就是在 Windows 下的 VSCode 編輯 Markdown、配上 Hyper-V 下的 Ubuntu 使用 Jekyll 生成的。讚讚 😍\n\n主題是 [Kary Light](https://github.com/karyfoundation/kf-theme-vscode) 配上 [Inziu Iosevka](https://be5invis.github.io/Iosevka/inziu.html)，Windows 跟這套字體真是絕配！\n\n（完）\n","date":{"year":"2017","month":"06","day":"28"},"slug":"windows-unix-like-development-guide-nodejs-ruby","tags":[],"publishedAt":"2020-10-09T02:14:53.230Z"},{"id":"H-EgR4niR6iGZbUoFbph2g","meta":{"layout":"post","title":"使用 puma 和 nginx 部屬 Redmine（加上從 MySQL 搬到 PostgreSQL）","published":true,"date":"2017-05-04T00:00:00.000Z"},"title":"使用 puma 和 nginx 部屬 Redmine（加上從 MySQL 搬到 PostgreSQL）","content":"\n# 使用 puma 和 nginx 部屬 Redmine（加上從 MySQL 搬到 PostgreSQL）\n\n前陣子看了幾篇 Linode 安利文，每月五鎂的機器好像就 Linode CP 值最高惹，管理界面雖然看起來陽春，使用起來倒挺有效率的。這幾天就把擺在 Vultr 上的自用服務 (Redmine，幾個 crontab 腳本) 搬到了 Linode 上。\n\n除了單純的搬家外，部屬的 Redmine 也做了一些調整：\n\n- 3.2 到 3.3\n- 資料庫由 MySQL 轉換到 PostgreSQL\n- Application server 由 passenger 換成 puma\n- 版控由官方 svn 換成 git mirror，方便操作 XD\n\n總之本篇除了是我的搬家筆記，還可以視為**自架 Redmine 指南**（大概啦）。\n\n## 設定新伺服器\n\n直接在 Linode 東京開了台 Ubuntu 的 Instance，然後 ssh 打密碼連進去。\n\n### 解決 apt-get update 卡住問題\n\n請參考 [apt-get update stuck: Connecting to security.ubuntu.com](https://askubuntu.com/a/787491)\n\n### 裝 Dependency\n\n首先當然就把系統的相依套件裝一裝，包含 tmux、postgres 資料庫等等。滿建議學習一下 tmux 的。可以開兩個 tab，一個 root 權限，一個一般權限，方便許多，不用一直切 su。\n\n```bash\napt-get update \u0026\u0026 apt-get upgrade \u0026\u0026 apt-get install -y git build-essential tmux postgresql libpq-dev # database\napt-get install -y libssl-dev libreadline-dev zlib1g-dev # ruby dependency\napt-get install -y imagemagick libmagickcore-dev libmagickwand-dev # redmine dependency\n```\n\n### 建立 deploy 用的使用者\n\n我不希望直接用 root 帳號跑起 Redmine 服務。總之就是安全性疑慮啦 XD。直接打 `adduser` 走完過程：\n\n```bash\nadduser deploy\n```\n\n### 安裝 Redmine\n\n#### 下載原始碼\n\n切到 `deploy` 帳號，把 redmine clone 下來，並把設定檔弄好：\n\n```bash\nsu deploy\ncd ~ # 切到家目錄\ngit clone https://github.com/redmine/redmine\n\ncd redmine\ngit checkout -b 3.3-stable origin/3.3-stable\n\ncp config/database.yml.example config/database.yml\ncp config/configuration.yml.example config/configuration.yml\n```\n\n#### 建立 Ruby 環境\n\n使用 [rbenv](https://github.com/rbenv/rbenv) 裝 ruby，直接照著步驟跑：\n\n```bash\ngit clone https://github.com/rbenv/rbenv.git ~/.rbenv\ncd ~/.rbenv \u0026\u0026 src/configure \u0026\u0026 make -C src\necho 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' \u003e\u003e ~/.bash_profile # linode 上是 .bashrc\n~/.rbenv/bin/rbenv init # 貼上輸出到 .bash_profile 或 .bashrc\ngit clone https://github.com/rbenv/ruby-build.git ~/.rbenv/plugins/ruby-build # 裝 ruby build\n```\n\n裝 ruby：\n\n```bash\nrbenv install 2.3.4\nrbenv global 2.3.4\necho 'gem: --no-ri --no-rdoc' \u003e\u003e ~/.gemrc\ngem install bundler\n```\n\n#### 設定資料庫\n\n用好棒棒的 [`pgcli`](https://github.com/dbcli/pgcli) 與本機 postgres 建立連線。上面 APT 套件裝完後應該就會自己跑起來了。\n\n```bash\napt-get install pgcli\nsudo -i -u postgres\npgcli\n```\n\n進去以後，建立使用者和資料庫：\n\n```sql\nCREATE USER redmine WITH PASSWORD 'PASSWORD';\nCREATE DATABASE redmine;\nGRANT ALL PRIVILEGES ON DATABASE redmine to redmine;\n```\n\n##### 測試連線(Optional)\n\n以防密碼打錯這種奇妙事件發生，我們可以測試一下連線。打開 `/etc/postgresql/9.5/main/pg_hba.conf`，找到下面加入這行：\n\n```txt\nlocal   all             redmine                                 md5\n```\n\n這行開啟本地端的帳密授權登入。然後用 `psql` 連線本機測試：\n\n```bash\npsql -U redmine -d redmine -W\n```\n\n成功連進去就 Ok 啦。\n\n#### 設定 Redmine 資料庫\n\n1. 編輯 `config/database.yml` 填入資料庫帳密，把 `mysql` 相關的都註解掉(development 等等)\n1. 然後安裝 redmine 的 gem dependency\n\n```bash\nbundle install --without development test\n```\n\n##### Migrate from old redmine (Optinoal)\n\n複製以下檔案：\n\n- `config/initializers/secret_token.rb`\n- `config/database.yml`\n- `config/configuration.yml`\n\n從 MySQL 搬家到 Postgres 的部分，因為都是同一個 App，Redmine 版本也只是小升沒有大型 migration，我直接利用[`yaml_db`](https://github.com/yamldb/yaml_db) 套件，把資料庫 dump 出來成 yaml，然後在 load 就行了 😍 可以參考 [`yaml_db`](https://github.com/yamldb/yaml_db) 套件 GitHub 說明。\n\n先跑 `RAILS_ENV=production bundle exec rake db:setup` 建立資料庫，然後在 `bundle exec rake db:data:load` 把檔案載入進來。\n\n## 設定 Puma\n\n在 Gemfile 加上 `gem 'puma'` 一行，然後跑 `bundle install --without development test` 安裝。再來編輯 `config/puma.rb` 貼上以下內容：\n\n```ruby\n#!/usr/bin/env puma\n\napplication_path = '/home/deploy/redmine'\ndirectory application_path\nenvironment 'production'\n# daemonize true\npidfile \"#{application_path}/tmp/pids/redmine.pid\"\nstate_path \"#{application_path}/tmp/pids/redmine.state\"\nstdout_redirect \"#{application_path}/log/redmine.stdout.log\", \"#{application_path}/log/redmine.stderr.log\"\nbind \"unix://#{application_path}/tmp/sockets/redmine.sock\"\n```\n\n記得建立 `pids` 和 `sockets` 資料夾：\n\n```bash\ncd ~/redmine\nmkdir tmp/sockets tmp/pids\n```\n\n可以用以下指令試跑 Server：\n\n```bash\nRAILS_ENV=production bundle exec puma -C config/puma.rb\n```\n\n## 設定 systemctl 自啟動\n\n用 root 權限編輯 `/etc/systemd/system/redmine.service`：\n\n```Ini\n[Unit]\nDescription=Rails-Puma Webserver\n\n[Service]\nType=simple\nUser=deploy\nWorkingDirectory=/home/deploy/redmine\nExecStart=/bin/bash -lc 'bundle exec puma -C config/puma.rb'\nTimeoutSec=15\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n```\n\n跑起來：\n\n```bash\nsystemctl daemon-reload # 重新載入設定檔\nsystemctl enable redmine.service # 設為開機啟動\nsystemctl start redmine.service # 啟動\nsystemctl status redmine.service # 看狀態\n```\n\n## 把 nginx 跟 puma socket server 接起來\n\n編輯 `/etc/nginx/sites-available/redmine`：\n\n```nginx\nupstream app {\n        server unix:/home/deploy/redmine/tmp/sockets/redmine.sock fail_timeout=0;\n}\n\nserver {\n        listen 80 default_server;\n        listen [::]:80 default_server;\n\n        server_name localhost;\n        root /home/deploy/redmine/public;\n        try_files $uri/index.html $uri @app;\n\n        location @app {\n                proxy_pass http://app;\n                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n                proxy_set_header Host $http_host;\n                proxy_redirect off;\n        }\n\n        error_page 500 502 503 504 /500.html;\n        client_max_body_size 4G;\n        keepalive_timeout 10;\n}\n```\n\n記得 soft link 回 `/etc/nginx/sites-enabled/`底下：\n\n```bash\ncd /etc/nginx/sites-enabled\nln -s ../sites-available/redmine .\n```\n\n重啟 `nginx`：\n\n```bash\nservice nginx restart\nservice nginx status\n```\n\n打開瀏覽器連 IP 應該就能看到辣！\n\n## 目前的 Plugin 列表\n\n- [redmine_emojibutton](www.redmine.org/plugins/redmine_emojibutton): Emoji 萬歲！\n- [redmine\\_markdown\\_task\\_list](https://github.com/eichisanden/redmine_markdown_task_list): Checklist\n- [redmine_mentions](http://www.redmine.org/plugins/redmine-mentions): Tag 人寄 email\n\n## References\n\n* https://gist.github.com/velenux/6883dc221a7d2eae7dcb\n* https://gist.github.com/jbradach/6ee5842e5e2543d59adb for config/puma.rb\n* https://www.digitalocean.com/community/tutorials/how-to-deploy-a-rails-app-with-puma-and-nginx-on-ubuntu-14-04\n* https://github.com/puma/puma/blob/master/docs/systemd.md\n* https://github.com/puma/puma/blob/master/docs/nginx.md\n* https://github.com/yamldb/yaml_db\n","date":{"year":"2017","month":"05","day":"04"},"slug":"deploy-redmine-with-puma-nginx-migration-from-mysql-to-postgresql","tags":[],"publishedAt":"2020-10-09T02:14:12.835Z"},{"id":"f-WCE22dQQCxIh1Ni7yyyQ","meta":{"layout":"post","title":"git cherry-pick 一整段的 commit","published":true,"date":"2017-04-24T00:00:00.000Z"},"title":"git cherry-pick 一整段的 commit","content":"\n# git cherry-pick 一整段的 commit\n\n簡單記錄下今天用到的小技巧。\n\n有的時候會加入多個 git remote，比如說 fork 出的原始碼，想要套用 upstream 的 PR，但那個 PR 又還沒合併；或是維護兩份原始碼，但又有共通的改動。這時候可以用 cherry-pick 指令，套用一整段 commit 到程式碼基礎上。\n\ncommit 粒度切的越細越好，這樣在 cherry-pick 時才好掌握（或是方便其它 git 指令操作，比如 rebase 也是粒度很細的行為）。當然其它工作流程另計了，合併到 master 時也可以 squash 起來。題外話。\n\ncherry-pick 的使用方法很簡單，後面加上 commit hash 就好了，如下：\n\n```bash\ngit cherry-pick COMMIT_SHA1\n```\n\n也可以 cherry-pick 一整段的 commit：\n\n```bash\ngit cherry-pick START_SHA1^..END_SHA1\n```\n\n多加了一個 `^` 是表示開始 SHA1 的前一個 commit。\n\n假如噴了合併衝突（merge conflicts），那就手動解決完，再用 `git cherry-pick --continue` 繼續套用剩餘的 commit。或是想回到還沒 `cherry-pick` 的狀態，用 `git cherry-pick --abort`，忽略這次的 cherry-pick。\n\n大 GUY 4 這樣\n","date":{"year":"2017","month":"04","day":"24"},"slug":"git-cherry-pick","tags":[],"publishedAt":"2020-10-09T02:13:32.697Z"},{"id":"5zAQviRCTnqumtMUx0rIOQ","meta":{"layout":"post","title":"部落格主題微調 - PrimerCSS 更新","date":"2017-03-29T00:00:00.000Z"},"title":"部落格主題微調 - PrimerCSS 更新","content":"\n# 部落格主題微調 - PrimerCSS 更新\n\n## 沒哏的時候就來換換主題\n\n沒哏也要想哏來寫，動物朋友也準備迎來最後一話了，不論要不要崩潰，動畫還是要看，生活還是要過，碼字的繼續碼，該睡時還是得去睡。\n\n最近最大的男性交友社群 GitHub 改了改樣式。說是最近，其實也一個月了。先是 Navbar 調成黑色，再來連按鈕顏色、超連結都改了。剛改變的那幾天為避免眼睛不適(?)，還特別找了 [MakeGithubGreatAgain](https://github.com/DennisSnijder/MakeGithubGreatAgain)、[MakeGithubPaleAgain](https://github.com/ricordisamoa/MakeGithubPaleAgain)、[各式第三方樣式表](https://userstyles.org/)來自救，沒想到過沒多久眼睛就自己適應了，該不會 GitHub 又偷偷調整了吧（喂）\n\n本站就是利用 GitHub 的 PrimerCSS 打造，依照慣例，每次換主題都應該發一篇文，截圖炫耀兼記錄一下。\n\n### Before\n\n![before](https://lh3.googleusercontent.com/_SWzvhF7-wB1dzmRRO0CRdbi2jQyqTEgbH294XcTdQr3OnZgmzKxg6wYbvnNAjAJwQmoua_6g18W_RXk1OdJVtu_Ot9k5eav4qsUsvPugPGYPOttmaC7uQ8VZD6SU2etaZlCq0rvja86XHH_buL8trOSs7SLXnvI1MNd8Vt3C7fzJ42L4QhGmXyFWaOguqf-9manBJBR4aVEcJCW5kUiCW7T8gTBa7QHgccckSWV_LM-vjEMJhb5GGf16mkYyO0kJanYFu20jK3PNHMauvlHHTxBs6nLIgyMlo-VIeAr2Lgyy2aJiPdc8HNHraBmFN3krTTeJMw2VFUfPfdp2UMkjJUQ3N43KEphpeOCIVCpXevYlVfdayh4x8__r3D8Sy9gqAjHX_J8Ny5TC4LwP54BoL8r4zj0HhOAQUbLDwWyjvGwuWzMXBz6uZyplFIH39HcSzptclkESQLWkwhUkhcQQX-1MHGBIZKpYED7X_-x-vlqsxRbM28RxzOKWuS7zsrGke_EDAXjdy88Z74efyWu79WnepRyTk519tcRcG7I-3qSgj9AIRr6mcX-3XS3pZ-LjAh346eH77al5UpKi3AYy3aKdyzUnmFVQMDiaiPu_-mcG-xF34z2_g=w867-h765-no)\n\n### After\n\n![after](https://lh3.googleusercontent.com/YazoIwe38_G40-g1sQNpktPrEUtbQxtGTBQqpyhZ-nQ5CzBoeQJzrgKGDLzjpQ206WYPFKywtzgRIpAjCj2HhG-o1fqYNuGOvYorJlRKVw_lzjUKFRxCXXcBQUhXyf601yWICtljNeiT2hK4DjPikb_3McotGE_rmaYNJHVAecB70o4Cwjea50Qux8uKYBcTmtbs5I0-_247C-MstkrWPRRb-8k0kBnGymkmE5OQufFhh8cnOZHYj60FT3Y4ZQOmGwl0AojSOAvr7tjo_ihi-YeFmYu2zJFvHB1UWFdOklTfmGBt-E0F7O2tT8ccE9H0eB1ij6jmGbkfgguOmVqnFhJN52SuK2las75hYX8LeWS32z0wzr6GtaNaxElMQ-gH0-Gt8Qe5JSEr3G-q0Yiu8qYXd9j3th6HBM_J6iCUJLXY8KD1abtamacX8cBr5XZ0HI067Geb_JHo6VKzfCH4CCKm2ARnQRlfPTZwXgvOVk_umPYzb7oeCGpymQQKkcCtBE5GBlrUb0B47ZAKkO1fJCiUne1hR1EXdCtHfAlFOl2VqMTAQBnWNc49tOZN3meXw-Dp9ODWEpnKx-7ocrvOOjmLHzss45ORw41Ja4-v5A6AHDrWY2tPLA=w869-h765-no)\n\n為求完美，連黑色 Navbar 也要照抄一下：\n\n![mobile](https://lh3.googleusercontent.com/JqHTFTmS4gGxjQygnJfH7ZwBI3bz0qT834X5fspQ2q-579HCYV0zoIgh5MbnYssnh8UpBD0XIPmnagd13pVbdag5-laqNevBHpJ0mu-3N1J_B2Fg66z1_p9mcXb3APRzBSUPbccebUz1HMRbLaAMh4NfwGDyY9nwjA3gk15QqPC3OB0VmO0jZYlp-sRHrgzSLLhZII7k9yuuWyHtmSaiMF0zJtsgAf0cDOR0yvb_beoXm7cGZwRqULL3ziKyMv5H7qaDZLFKFKKLE7ebtadNeTDA0RRt-0XbIL2eCG31CRHiLWS_7VYlz4BpAVGD0rm-85fk_WBRo0rdm278A0VWqQ7c6IoYdGWb1c97mO69zf46KAiMWo0V5eJqyMERPqtErZLjT6ZOZD1YvUv-N8kyEz_bhJXGcZ0P-PHE7W7ewfAblX823-bgtA5r1Ay_09uyqpofNq8hyB5_8KcuAHaGocxk4NaKV2Kcw5149l-k2Hz3qZ6zFzMwg1Jyob7TWWO-2NIiYSn_eOSq5Tkh6IQbLlu4B1eAjoxzsibjuvMNqxemO7mGilw0qj3PIMH9-fvE_xeatydxtBncjGJvbENBx7wbv2G8Bmo_a9Y3t-3JBbLZ8INxlDvSug=w399-h684-no)\n\n大GUY 4這樣\n\n認同請分享\n\n（完）\n","date":{"year":"2017","month":"03","day":"29"},"slug":"new-primer-css-github-theme","tags":[],"publishedAt":"2020-10-09T02:10:57.380Z"},{"id":"9T7UKX1KRDmrIjsFGbsp_Q","meta":{"layout":"post","title":"用 restore-source-tree 一次還原 source map 網站原始碼","date":"2017-02-21T00:00:00.000Z"},"title":"用 restore-source-tree 一次還原 source map 網站原始碼","content":"\n# 用 restore-source-tree 一次還原 source map 網站原始碼\n\n## 前提是在 Production 環境下有 sourcemap 可以拿辣！\n\n本篇內容也不多，大概就是介紹一下思路。\n\n前幾天看到這篇 [Dissecting Twitter's Redux Store](https://medium.com/statuscode/dissecting-twitters-redux-store-d7280b62c6b1) 覺得十分優雅，今天猛地想起某國內網站也是用 React/Redux 弄的，便依樣畫葫蘆，想從 redux store 裡看出些端倪。\n\n打開 Chrome Devtool，不開還好，一開便發現他們的 sourcemap 在 production 竟然拿得到啊 😂，於是就來找了 `restore-source-tree` 套件。\n\n由於該套件會把 webpack 產生的註解給移掉，而新版 webpack 註解格式又和舊版不太一樣，如下：\n\n```javascript\nconst WEBPACK_FOOTER = '/** WEBPACK FOOTER **'; // 舊版註解\n\nconst WEBPACK_FOOTER = '// WEBPACK FOOTER //'; // 新版註解\n```\n\n會造成該套件解析不出原始碼，不對啊，DevTool 明明就看得到。\n\n更麻煩的，Extract css plugin 產生出來的註解又和新版的不太一樣（搞啥啊），所以我在 [`74b32d`](https://github.com/Yukaii/restore-source-tree/commit/74b32d5beb73f28393a2a6fa152ba8a5e2633907) 這個 commit，乾脆就把移除註解的方法拿掉了 XD\n\n若大家想要使用我修改過版本的 `restore-source-tree` 請直接在終端機打上以下指令安裝吧：\n\n```bash\nnpm install -g Yukaii/restore-source-tree#98ccfc2\n```\n\n## 然後呢？\n\n比如說某站 production 的 js bundle file 長這樣：\n\n```bash\nhttps://xxxx.com/build/bundle-54fbd34f.js\n```\n\n**如果**有 sourcemap 的話，檔案結尾註解部分會長的像這樣：\n\n```javascript\n//# sourceMappingURL=bundle-54fbd34f.js.map\n```\n\n那我們就把 sourcemap 載下來：\n\n```bash\ncurl https://xxxx.com/build/bundle-54fbd34f.js.map \u003e bundle-54fbd34f.js.map\n```\n\n然後用剛剛裝好的 `restore-source-tree` 還原原始碼：\n\n```bash=\nrestore-source-tree -n --out-dir \u003cdir\u003e bundle-54fbd34f.js.map\n\n# -n 參數是包含 node_modules 資料夾\n# --out-dir 參數後面加要存進的目錄\n# 請參考原專案 github 說明：https://github.com/alexkuz/restore-source-tree\n```\n\n登愣，就好啦！（好了是長怎樣？不告訴你）\n\n## 欸嘿\n\n看到這邊就知道，其實我們要逆向操作網站的開源也是可以的，可以寫一個 cronjob，定時把 sourcemap 抓下來，如果 bundle hash  有更新的話，就重新還原一次並 commit 進某 repo。\n\n當我沒說啦(X)\n\n（完）\n","date":{"year":"2017","month":"02","day":"21"},"slug":"restore-source-code-from-sourcemap-file","tags":[],"publishedAt":"2020-10-09T02:10:24.591Z"},{"id":"TOIoH3JFTnawfst6_iV8VA","meta":{"layout":"post","title":"在 2017 年，我是怎麽看動畫的","date":"2017-02-15T00:00:00.000Z"},"title":"在 2017 年，我是怎麽看動畫的","content":"\n# 在 2017 年看動畫是怎樣的一番體驗\n\n標題下成這樣更有知乎味兒，不過就先這樣吧。一副就是要在西洽發自介文的節奏。\n\n我大概在 08/09 年左右入坑，入坑動畫是 K-ON。那時大概都是在**微笑動漫組**網站上看的，每週動漫組都會固定更新上傳到免空，還是個 MegaUpload 活躍的時代，就這樣陸陸續續看了幾部上面有的舊動畫。\n\n後來不知道為何，該站被抄家或不經營了，只好改入 BT 教。從 dmhy 找種下載，當然除了動畫也有不少奇妙的東西，這邊就不提了。熱門檔當然載很快，冷門的就有得等了。\n\n上大學後有了限制多多的宿網，既不能載 BT，一天也只有 5G 的流量限制，只好用各種方式突破。先是在老家架了 DD-WRT 的 VPN，連回家載 BT，因為流量限制，後來也找了各種免空、BT 代載的服務，比如 miroko、furk 啦等等，先幫你載好，接下來在換日前（就是午夜十二點啦）估算好網速流量，一次搞定好大檔案。不過說實話動畫那麼大的很少啦，大多是 XX 和 OO 比較多。\n\n再後來搬出去住，靠室友的神 NAS 擋著，既可以代載也可以當 VPN，已經什麼問題都沒了，不過還需要到 BT 站複製 magnet 連結，無法一次到位。\n\n還有段時間在臉書經營的動漫網站看，用 Facebook 影片看是挺方便的，不過以當時來說速度沒那麼理想 😅\n\n現在各式影音串流網站百花齊放，某 B 站可以加掛 Unblock Youku 解鎖，國內也有正版的動畫瘋可以用，還有各路大大用免洗帳號無時差上傳 Youtube，至此看動畫的成本已經非常低了。\n\n## 搭配 Chromecast 接上電視\n\n大量利用動畫瘋以及 Youtube 就是因為他們的 App 才有支援 Chromecast XDrz。因為目前還在使用 iPhone 而且沒有 Apple TV，真是奇妙的果粉狀態。\n\nChrome 目前可以用瀏覽器投影的方式來投影畫面，動畫的表現也還算順暢，這樣搭配起來倒也 OK。\n\n最近還多買了個 Android TV 放在老家，同樣支援 Chromecast 協定以及 AirPlay（付費 App），放起來也還不錯。還可以自行安裝 apk，不愧是 Android 啊 www\n\n總之大螢幕看起來就是爽啊，若有更高階的音響設置就更讚啦 XD\n","date":{"year":"2017","month":"02","day":"15"},"slug":"how-do-i-watch-anime-in-2017","tags":[],"publishedAt":"2020-10-09T02:09:54.078Z"},{"id":"rJK3-xMdRtuE2ORT_P0QVw","meta":{"layout":"post","title":"總結一下我身為開發者的 2016","date":"2017-01-01T00:00:00.000Z","published":true},"title":"總結一下我身為開發者的 2016","content":"\n# 總結一下我身為開發者的 2016\n\n## 新年快樂\n\n你說一月一號放假要幹嘛？除了出門曬曬太陽走走之外（天氣有夠好！），當然按照慣例的要來發一篇「新年新希望新目標」、「過往一年的總結」。不過常常年底到了，卻悔恨今年又一堆目標沒有達成。為了防止這種狀況發生，我們就別寫展望了，直接來寫回顧就好啦 XD！未來總是充滿變數而不可預知，總結過往一年的種種，應該能帶來一些前進的動力吧。\n\n作為一個**混亂邪惡**的學生開發者，學生當然只是個好用的擋箭牌身份，其實我的真實身份是...~~昆庫星團第十五號小行星的混血王子~~（太二了這個）。2016 是我個人專案多產的一年，雖然沒有到一個月一個作品，不過上的了檯面的倒是不少。「上的了檯面」當然是以目前自己的標準來看，再過不久可能就通通打入垃圾玩具的等級了哈哈！QAQ\n\n## 前端大平台\n\n從整整一年前的 [Imgur 相簿下載器](https://github.com/Yukaii/ImgurDownloader) 開始，踏入了 React/Redux 的大坑，再於過年期間開發了 [Kaif.io 論壇 iOS App](https://github.com/Yukaii/kaif-ios)，對 React/Redux 更進一步熟悉；五月左右，承先啟後的再度使用 React/Redux 加上 Electron 開發了 [Comics Reader 漫畫閱讀器](https://github.com/ComicsReader/app) ，然後到最近兩週的 [cafenomad 臺灣工作咖啡廳](https://github.com/Yukaii/cafenomad-app/) 專案。\n\n四月多時，把原本在 [Logdown](http://yukaihuang93.logdown.com) 的部落格搬到 [GitHub Pages](https://github.com/Yukaii/yukaii.github.io) 上，用 [Jekyll 建置](https://github.com/Yukaii/Blog)。承襲「用力操壞 GitHub Pages」的中心思想，在九月底做了致敬好碰友 Neson 前作的[行事曆課表產生器](https://github.com/Yukaii/ics-scheduler)，又在十月底開始了[桌面版噗浪 App 計劃 - Puraku](https://github.com/puraku/app)，首次嘗試 Vue.js 並結合 Electron。\n\n## 各式玩具\n\n大概在四月左右，在學校選了永遠做不爛的[黑白棋](https://github.com/Yukaii/reversi-js)當題目，於網頁上重新實作（Team Project）。\n\n大概六七月在寫 Comics Reader 時開了 [LiveCoding.tv 的直播](https://livecoding.tv/yukaii/)，第一次享受當直播主，雖然自嗨放歌居多但也挺有趣的。\n\n## 胎死腹中\n\n六七月時漸漸的對 Redmine 專案管理工具上癮，無奈沒有一個非常現代的 App 可以用，跟同事[開了個坑](https://github.com/ChengHsuanLiu/redminePro)不過就這樣放到現在......\n\n其它還有從 NTU Garage Demo Day 聽來的 [Idea](https://github.com/Yukaii/IgHero/issues/1) 啦、從 Reddit AppIdeas 版幹來的 [Idea](https://github.com/Yukaii/read-n-share/issues/1) 等等。\n\n## 總結\n\n總的來說 2016 是我自稱前端工程師**花式練手招搖撞騙**的一年，可惜的是作品平均完成度就差不多六七成上下，坑開的多，做完的少。因為時間有限又常常有緊急主線任務，一個個 Context Switch 間，原專案的衝刺週期斷了線，頓時失去維護前一個專案的拼勁。（怎麽說的好像 Side Project 才是我的本業 XDDD）\n\n前端大環境 Hype Driven Development 之下也讓我幾乎沒有忠誠度，反正就挑順手的，遵守拼湊型軟體工程師的教條，成品有出來就好。雖然也有對少數開源 Library 做點貢獻，但跳來跳去之下總沒有對框架工具深入研究，甚至發展出自己的，工程水平沒多少長進。\n\n另外，儘管做這些 Side Projects 之初，幾乎是以完整產品為目標開發的，但後續的打磨以及推廣宣傳幾乎沒達成，大多當成自己的玩具，除了噗浪桌面版 Puraku 好不容易有在臉書前端社群貼過一次文（好笑的是貼完就沒 commit 了）。\n\n對 2015 年的我來說，或許 2016 是個充滿驚喜的一年，如此多產的我是在 15 年無法企及的；不過說到底，工程師的價值也不在這種地方，只能說是興趣使然吧 XD。雖然文章開頭說了「沒有展望沒有期待」，但還是小小期許一下，希望 2017 的我能在這條路上走的更深入些（~~然後就被抓去當兵了~~）\n","date":{"year":"2017","month":"01","day":"01"},"slug":"my-2016-summary-as-a-developer","tags":[],"publishedAt":"2020-10-09T02:09:08.328Z"},{"id":"U0RTVptCTN2ey-ToJ1N9OA","meta":{"layout":"post","title":"React Native Facebook Native Ads 奮鬥戰記","date":"2016-12-22T00:00:00.000Z"},"title":"React Native Facebook Native Ads 奮鬥戰記","content":"\n# React Native Facebook Native Ads 奮鬥戰記\n\n## Native Ads?\n\n文章標題就出現了兩次 Native，實在有點拗口。關於甚麼是 Native Ads（原生廣告） 可以參見 Facebook 的[官方說明](https://developers.facebook.com/docs/audience-network/native-ads)，以下引用之：\n\n\u003e 原生廣告能讓您在為應用程式設計完美的廣告單位時，掌控所有細節。透過「原生廣告 API」，您可決定廣告的外觀、風格、大小和位置。因為廣告的格式由您決定，所以廣告能與應用程式搭配的天衣無縫。\n\n簡單來說就是「**將廣告和你的 App 更好的整合**」，以期能帶來**更多地的點擊**，~~騙~~更多的使用者按下去，比如最常見的就是你大狄卡留言區塊藏著的業配廣告啦，還有 twitter、Facebook 各平臺偽裝成一般貼文廣告等等。\n\n## React Native Integration\n\nReact Native 把網頁開發的體驗帶到 App 上，不過 Facebook 沒有提供官方版的 Native Ads 模組，我們只好自行想辦法啦。我們這裡選擇的是 [CallStack](https://callstack.io) 提供的第三方模組：[`react-native-fbads`](https://github.com/callstack-io/react-native-fbads)。\n\n## 花式踩雷\n\n先講結論：\n\n1. 開源專案當覺得 README 寫的不痛快的時候，去看 example code，找出範例比你多寫的地方。\n2. 有問題先看 Log。Native Module 的 Log 得用各平臺原生 IDE 看，比如 XCode 或 Android Studio。雖然不想開還是得開一下\n3. 噴錯誤訊息時從上游(原生模組的來源)文件查起\n\n### SDK 設定\n\n大多新版 React Native 原生模組的安裝都可以用 `react-native link xxx-module` 搞定，不過有些時候卻沒啥用，跑完指令之後還需要手動設定。\n\niOS 版 SOP：\n\n* 加入 `node_modules/xxx-module/ios/xxx.xcodeproj` 到 Library\n* 把 Product `xxx.a` 加到 Build Phase 裡\n* 若有額外引用 header，更新 Header search Path\n\nAndroid SOP:\n\n* 修改 `settings.gradle`、`build.gradle`、`MainApplication.java` 等\n* 檢查 `AndroidManefist.xml` 需不需要修改\n\n大 GUY 是這樣，~~react-native-fbads 的 README 就有些簡單，關於 Android 的寫的也不多，算是一個大坑，AndroidFanefist 的修改還是看他們範例才發現的，不知道到底寫在文件的哪裡，若有人知道希望可以回報下讓我瞭解（感謝）~~。原生如果設定到 Build 成功，而且引入之後沒有噴錯基本上就 OK 了。若還有其它錯誤可以視為上游問題或 Native 層的問題（汗）\n\n**更新：結果就寫在 README 裡，眼殘崩潰，不過還是給我遇到個新坑，參見 [callstack-io#17 (comment)](https://github.com/callstack-io/react-native-fbads/issues/17#issuecomment-269749636)**\n\n### Audience Network 驗證流程\n\n![audience-network-stage](https://lh3.googleusercontent.com/wbd3rYblzS8AnyIt1KPeYJcJW3oKcmk55Fa2K5wZj5d6mIkJ4Ir627vhrE4f7b3ukiim7pI92nZhZADT4C7quX_siaYWwUEOS0xeqsGpkz9k0OBHg9KGp_4xlUx0osVB_HUO4ZBb4sdziMM0bMXP7UgT1WlXx1ysG1XTcN5EHeLdtpBzBq-YUnK3yZ_gSaPJo6CusCaehMkym9FRr4hRBjyfVol4tMwZdzmtALbKMqhaiqfDkYuX8vsEeDp9Og2WhZSdigzVH8Q085LBg2AV0aG3-c5OXna50HavXEiE_T5baB-zPKoWlKiqDgflAM32_Br9DcXGxdHh7FxA6u7yS5I7Zj_Q1w5Ff_6Eo7RufuwkjnTyDxq8Y_PexEU2QhQmYAMjFNLkCQlzxzV6BRtb8oDOFc5c20c1OI2k7gagkVwXeUKfA1RBjihghVrpVMhCSbHiGohKA2ntI8Il6iXqcABQ0MWU90EmXJZaEsO7D9UU0VwC_GFWAw4aYvRQCTw7hLAm9FTQvS4okPGR47OmJpyXrf7l0Qv8VrgCEiigZos6NfmGceeBRkj8xBhv63F7WjGmT_He5DUtk8I6yce6_WRh8XQ0HwKJnkX19EHZqk02oDxzqy9PTw=w801-h353-no)\n\nAudience Network 分成好幾個驗證階段，簡略過程如下：\n\n1. 拿到版位 Placement ID 之後編寫 App 顯示廣告的程式碼\n2. 在 Audience Network 新增應用程式\n\u001f3. 用「原生模擬器」（iOS 就 Simulator，Android 要用 AVD）傳送廣告要求\n4. 等待應用程式審核通過\n\n其中第三點「**傳送廣告要求**」是最多雷的，iOS 早早就審核過了，Android 怎麽發要求 Facebook 就是無法接到，最後改用 Android Studio 原生的模擬器就一次 OK，原來是沒法用 Genymotion 的模擬器跑...\n\n最後上 TestFlight 之後在我自己手機上無法顯示，查了一下錯誤代碼 [1001 - No Fill](https://developers.facebook.com/docs/audience-network/testing)，發現原來是手機上沒有安裝 **原生 FB App**，難怪我 Dcard 從來沒看過廣告 XDD，以下是其它不會顯示廣告狀況，從文件引用：\n\n\u003e * Error 1001 - No Fill. May be due to one or more of the following:\n\u003e * User not logged into Native Facebook App on Mobile Device\n\u003e * Limit Ad Tracking turned on (iOS)\n\u003e * Opt out of interest-based ads turned on (Android)\n\u003e * No Ad Inventory for current user\n\u003e * Your testing device must have the native Facebook application installed.\n\u003e * Your application should attempt to make another request after 30 seconds.\n","date":{"year":"2016","month":"12","day":"22"},"slug":"react-native-facebook-native-ads-integration","tags":[],"publishedAt":"2020-10-09T02:08:36.789Z"},{"id":"6-e3Nu56To6LfEhtF8HPeQ","meta":{"layout":"post","title":"Electron 的 Trello 桌面版應用程式","date":"2016-11-12T00:00:00.000Z","published":true},"title":"Electron 的 Trello 桌面版應用程式","content":"\n# Electron 的 Trello 桌面版應用程式\n\n## 啊 Electron 不就好棒棒\n\nElectron 簡單來說就是加料版的 Chromium，可以跑 node 環境，還能讓 Web App 也能使用原生桌面環境的 API。我的桌面早就被一堆 Electron App 攻佔，最常用的就有：\n\n* [Nylas N1](https://nylas.com/) - Email 軟體\n* [Visual Studio Code](https://code.visualstudio.com/) - 微軟出的輕量級編輯器，兼具某種程度的 IDE 功能\n* [Postman](https://www.getpostman.com/) - API 輔助工具\n* [Slack](https://slack.com/) - 社內通訊\n* [Notion](https://www.notion.so/) - 筆記，雜想\n* [Hyper](https://hyper.is/) - 終端機，不過不能輸入中文所以就沒再用了。開發的 [zeit](https://github.com/zeit) 社也滿猛的\n* [Caprine](https://github.com/sindresorhus/caprine) - Facebook messenger 桌面版\n\n裝了這麼多 Electron App，相當於電腦裝了十幾個 Chrome，有夠肥一個就一百多 MB 😅，根本快速開發的代價（誒）。\n\nElectron App 相對於傳統的桌面軟體迭代應該算十分快速了啦，光 Flexbox Layout 就不知道方便多少了...~~好啦其實我唯一寫過的傳統桌面軟體也只有用 JavaFX 學校作業，也只花了三天趕工哈哈哈...也是沒慢到哪裡去啦（？）~~\n\n## Nativefier\n\n有段時間我很喜歡用瀏覽器的「Pin Tab」功能，現在 SPA 又那麼猖狂，App 用 Chrome 開就行了，只要用 Chrome 的快速鍵 cmd + 1/2 就能直接切換於瀏覽的網站和 Web App。不過因為我自己裝的擴充功能實在太多 拖慢了 Chrome，如果用 Electron App 就相當於用一個乾淨的瀏覽器，速度快了許多。~~其實你把擴充功能移乾淨不就得了。~~\n\n社群前陣子也有大大推了一個叫 [`nativefier`](https://github.com/jiahaog/nativefier) 的工具，只要敲幾行指令，就能把網站包到 Electron 的 WebView，立馬變桌面應用程式。\n\n通常用 Electron 將現有網站包成桌面程式時，除了用 `BrowserWindow` 或 `webview` API 載入 Web App 網址外，還需要外載一些額外的 JavaScript 或 CSS，來整合原生桌面功能、送通知、快捷鍵綁定、自訂介面等等。\n\n大神 sindresorhus 的 [Caprine](https://github.com/sindresorhus/caprine) 便是個好例子，在 Facebook Messenger App 上另外加了許多功能，甚至還有防止已讀功能 XDD。terkelg 的 [Ramme](https://github.com/terkelg/ramme) 插入 CSS 改變 Instagram 手機版網頁的排版、再加入了快速鍵綁定，便是一個**堪用**的 Instragm 桌面應用軟體了。BTW，真正好用的 IG 桌面版還是非原生莫屬，在此推薦一下 [Flume for Instagram](https://itunes.apple.com/us/app/flume-for-instagram/id792425898)，還是免費的 w。\n\n## Trello feat. Electron\n\n進入正題。最近重回了 Trello 懷抱，配合我的使用習慣，就去找了找對應的桌面軟體來用。找了兩個：\n\n* [Paws for Trello](http://friendlyfox.es/pawsfortrello/)\n* [Trello Desktop](https://github.com/danielchatfield/trello-desktop)\n\n這兩個 App 看起來就是把 macOS 的 titlebar 藏起來讓紅綠燈好看一些。儘管前者在 App Store 上架，但感覺功能沒比後者多多少哈哈。\n\n（**更新**：Paws for Trello 後來實作了一個漂亮的設定頁還有其它功能，嘴硬如我最後還是買了）\n（**再更**：Paws 後來被 Trello 買走了，現在 Trello 推出了官方版的 macOS App，嗯，當然是免費下載 XDDD）\n\n![](https://lh3.googleusercontent.com/gDwO7Rcc_DiHTqNTa9W8_u5WggQxm1km4TL630k66fGucUYCKoU4PEjqVodsSsB5wtw1rHket9Mnh-2qSyPWIU0Nn0TZsoLOitMniwifs2JFkgQJysppEK0rTDsPasRDvj1-axpA6oEanesF-42NvwTAWxeVmN-SjspdOPUxgdj8P9LkJPHACA49dCYXPfHrfbqP_SsFYKL7FlReq9b0Xbs5VWQmCPlWewyN12bZQq7-j3_POwhXRwPqFwvb5zfx9in7AibIxgz5wQAgNR-TUVwiPvN0nKIX5XrMVPCLHOgsHsIeFfQuHZuJaJ56kZ5kc-t9m11F5x0_BB6uoODrHd8UEumqEDA9hHGh8P4jnVMXYXmBZjGCcpSaIK_076JKVgUZ_cVxzcC_oDa0_YfS4Si-9qbT8RKEK-AMhvNKYVhsJ6z1N1ZCeG4O57uqmn0TzM6iBMQ_01LXYt1Db4AQxRdoE7m5PgbUU-WOkN_ZhJhRFcsIDxLoZT9gngSJlAZJT0j9t0G9hniF5uImwh7onklliQayTsA8N9PpJc-CpkrVjko3WjAbXyNqzrdm1QCDScI0PV2cEhFy4BJvsFFfZUrXl1W7PdYJJKHYfVUTRrDeAIIfiQ=w971-h626-no)\n\n\n後者 Trello Desktop 雖然免費，目前有個最大的問題：沒辦法[拖拉視窗](https://github.com/danielchatfield/trello-desktop/issues/6)。\n\n當然也有開發者直接發了 [Pull Request](https://github.com/danielchatfield/trello-desktop/pull/13) ，~~不過專案好像已經被放生了一樣，坑主都不回的~~。作為一個略懂 Electron 的開發者就來自行修正一下吧。(**更新：已經 merge 啦**)\n\n仔細看下 [PR#13](https://github.com/danielchatfield/trello-desktop/pull/13) 也就加三行到 css，我要做的就是把這個 PR patch 到本機的 Trello Desktop App 裡。\n\n做法有兩種，其中一種是 clone 改完的版本，重新建構 Electron 程式，不過太麻煩了，直接 patch 本機的 css 比較快。\n\n## Patch Elecron Client code\n\n[asar](https://github.com/electron/asar) 是 electron 封裝 client code 的格式，一般在建構 Electron App 會預設使用。我們先安裝下：\n\n```bash\nnpm install asar -g\n```\n\n現在就可以用 `asar` 指令解開 `.asar` 檔了，進到 App Package 裡：\n\n```bash\ncd /Applications/Trello.app/Contents/Resources/\nasar extract app.asar app # 解開 app.asar 檔案到 app 目錄\ncd app # 進去 app 目錄\n```\n\n編輯 `browser.css` 加入更改的 css\n\n```css\n#header {\n  -webkit-app-region: drag;\n}\n```\n\nElectron 會讀取 app 目錄或 app.asar 檔案，重新開啟 App 後就可以自由移動視窗啦，跟桌面軟體有 87% 像！\n\n![](https://lh3.googleusercontent.com/w7WF_SiDo7mrJanSRR72ieb_NTOPpblGcK-nMovxrnQvAG_1fcKuZ_EhIC_5_8-kXSIztIoEMk3l2gqoNlQx8VOS1UW98E6YVlBqV8qJOLD7YPAeY_eVZWWpdHkbtuBQh3O5g_xcFU-_IiHlVOcDVWiAdfdQipK7AmN7RHNs5fuTMLEo4ZDRZGH3ic9u92FT4A8n2z75P9y7kWMmYhQ_lyuFWaOSyxwXke_iJR0UY9L1uMnW856i651cuQNlp2br9rGAB-LSGKElDQpI64h2HxTk9eln2tMcvMG1SO9Qz6AF7kcbFanCL7uKv1AoGGX81qlGugiUtkq_I8uNASIVbPaeVxSdJniKa46DJuc-twautw6qdHUQ5jgpJyKOmUtbosVeJK5DS50jrsGzyOQPVbH7SzVpavlpKqnUAxOZ9AEAsxX0sf6cROCPtvHe3UvUqSTEwXk841vTgoxrS27ysLXVRVhdZe8CEE5vSbDIIObdHkV0CVULCWRKspmFInNEd4m-cvE4pHWdycItvMJo7dqN5gydHPIBZzU7z50b8Hn2_wYzUA7miYPvpMpOmsaW4BSOwkW1bPHGG0_2mf0gGWlR8URwayBvSouObSCoaDDGostsNw=w1188-h737-no)\n\n（完）\n","date":{"year":"2016","month":"11","day":"12"},"slug":"patching-trello-desktop-electron-app","tags":[],"publishedAt":"2020-10-09T02:07:56.604Z"},{"id":"W0mKxwoTSoi4Cf-RIrl1aA","meta":{"layout":"post","title":"在 Electron 使用 IPC 串聯前端和 Node API","date":"2016-11-02T00:00:00.000Z"},"title":"在 Electron 使用 IPC 串聯前端和 Node API","content":"\n# 在 Electron 使用 IPC 串聯前端和 Node API\n\n這是我最近在實作噗浪 electron app - [**Puraku**][puraku] 時，使用的抽象化寫法。\n\n先談一下背景。其實在官方的 [Plurk API][plurk-api] 頁面上就已經有 [JavaScript 的噗浪 API Library][purakujs]了，不過它沒有包成 npm 可以直接使用，而且還相依於 [node-oauth][node-oauth] 套件，看名字就知道和 Node 有關。\n\n這次寫的 [puraku][puraku] 是一個以前端為主的桌面軟體，所以我勢必要對噗浪的 API 套件做些改寫。\n\n**更新**： 其實 Electron renderer process 就能呼叫 node API 了，只是我先入為主的以為 main process 才能使用，所以引發了這個軟體問題 XDrz。\n\n## 重新封裝 API Library\n\n我已經包裝成 [purakujs][purakujs]，它是個可以直接使用的 Plurk API Node library，雖然這年頭也沒多少工程師在串噗浪 API 了 😅 。值得一提的是 yarn 對 `npm link` 的支援不太好，在設定本機開發環境跑完 `npm link` 後，不要在 `package.json` 修改套件版本，防止在跑 `yarn install` 指令時又噴錯。\n\n### Electron\n\n關於 Electron 是啥便不再贅述。~~要知道的是只有在 Electron 的 Main Process 裡才可以呼叫 node 的 api~~（錯了），所以把 node-oauth 套件放在這跑是沒問題的，但 Renderer Process 才是主要觸發 API 的地方（換頁、捲動、按鈕等）。Electron 提供了 IPC 的 API 界面實作，可以這樣寫：\n\n\u003e commit [df4c8a2](https://github.com/puraku/client/pull/5/commits/df4c8a225a36485747f7022b1391b50ee9e9f19c)\n\n```javascript\n// Renderer Process\nimport { ipcRenderer } from 'electron';\n\nexport function request(method, endpoint, params=null) {\n  return ipcRenderer.sendSync('puraku:api', {method, endpoint, params});\n}\n\n// Main Process\nipcMain.on('puraku:api', (event, args) =\u003e {\n  const { method, endpoint, params } = args;\n  myApiClient.request(method, endpoint, params).then(({data}) =\u003e {\n    event.returnValue = JSON.parse(data);\n  }).catch(error =\u003e {\n    event.returnValue = { error };\n  });\n});\n```\n\nRenderer Process 送出 API 請求到 Main Process，已經正在監聽的 Main Process 在呼叫完 API 請求(`myAPIClient.request`)之後，返還資料給 Renderer Process。在這裡透過 ipcMain 建立叫做 `puraku:api` 的事件監聽，由 `ipcRenderer` 送出事件請求。`event.returnValue` 是 ipc 的同步寫法。一旦使用同步，整個 Renderer Process 在送出事件請求(`ipcRenderer.sendSync`)之後會被 Block，所以我改用非同步的 IPC 寫法，再用 Promise 封裝。\n\n### Asyncronous IPC\n\n\u003e commit [3f2fee](https://github.com/puraku/client/pull/5/commits/3f2fee64664c4082520a3a8b9ffe6d90cb6cfdbd)\n\n```javascript\n// Renderer Process\nimport { ipcRenderer } from 'electron';\n\nexport function request(method, endpoint, params=null) {\n  return new Promise((resolve, reject) =\u003e {\n    const timestamp = Date.now();\n    const result = ipcRenderer.send('puraku:api', {method, endpoint, params, timestamp});\n\n    ipcRenderer.once(`puraku:api:${endpoint}:${timestamp}`, (event, result) =\u003e {\n      if (result.hasOwnProperty('error')) {\n        reject(result);\n      } else {\n        resolve(result);\n      }\n    });\n  });\n}\n\n// Main Process\nipcMain.on('puraku:api', (event, args) =\u003e {\n  const { method, endpoint, params, timestamp } = args;\n  myApiClient.request(method, endpoint, params).then(({data}) =\u003e {\n    event.sender.send(`puraku:api:${endpoint}:${timestamp}`, JSON.parse(data));\n  }).catch(error =\u003e {\n    event.sender.send(`puraku:api:${endpoint}:${timestamp}`, {error});\n  });\n});\n```\n\n這一版跟上面的差別在於，Renderer Process 送請求給 Main Process 之後，馬上建立另一個 IPC 的 Listener 等待 Main Process 回調，而 Main Process 在處裡完 API 請求之後(`myAPIClient.request`) 再用 IPC 非同步寫法回傳資料(`event.sender.send`)。在這個版本 IPC 關係變得比較複雜，簡單畫了一下：\n\n```txt\nPromise start  +-----+\n                     |           Renerer Process                 Main Process\n                     |\n                     +-----\u003e +--------------------+\n                             |                    |\n                             |  ipcRenderer.send  |\n                             |                    |         +---------------------+\n                             +------------------------------+                     |\n                             |                    |         |  API request        |\n                             |  ipcRenderer.once  |         |                     |\n                             |                    |         |  event.sender.send  |\n                             |  create listener   |         |                     |\n                             |                    |         |                     |\n                             +---------+----------+         +-----------+---------+\n                                       |                                |\n                                       |                                |\n                                       |                                |\n                             +---------+----------+                     |\n                             |                    \u003c---------------------+\n                             |   Event received   |\n                             |                    |\n                     +-----+ +---------+----------+\n                     |                 |\n                     |                 |\n Promise end   \u003c-----+                 |\n                                       |\n                                       |\n                                       |\n                                       |\n                                       |\n                                       |\n                                       |\n                                       |\n                                       v\n```\n\n### IPC 事件一對一對應\n\n可以發現在這一版的 Renderer Process 我加了一個 `timestamp` 來簡單的區分不同的 API request，因為如果光用 API 的 Endpoint 當做事件的鍵值，戳相同 API 兩次時就會衝到。\n\n```javascript\nconst timestamp = Date.now();\nconst eventKey = `puraku:api:${endpoint}:${timestamp}`;\n```\n\n不過卻發現每次取的 timestamp 還是有機會一樣，經過 Google 之後我把 `timestamp` 亂數的產生方法改成 `performance.now()`：\n\n```javascript\nconst randomSeed = performance.now();\nconst eventKey = `puraku:api:${endpoint}:${randomSeed}`;\n```\n\n到這裡，我們就可以用熟悉的 Promise 介面，在 Renderer Process 輕鬆地串接 Main Process 的 API 啦！以下是目前的實作：\n\n```javascript\n// Renderer Process\nimport { ipcRenderer } from 'electron';\n\nexport function request(method, endpoint, params = null) {\n  return new Promise((resolve, reject) =\u003e {\n    const randomSeed = performance.now();\n    ipcRenderer.send('puraku:api', { method, endpoint, params, randomSeed });\n\n    ipcRenderer.once(`puraku:api:${endpoint}:${randomSeed}`, (event, result) =\u003e {\n      if (result.hasOwnProperty('error')) {\n        reject(result);\n      } else {\n        resolve(result);\n      }\n    });\n  });\n}\n\n// Main Process\nconst { ipcMain } = require('electron');\n\nipcMain.on('puraku:api', (event, args) =\u003e {\n  const { method, endpoint, params, randomSeed } = args;\n  myApiClient.request(method, endpoint, params).then(({data}) =\u003e {\n    event.sender.send(`puraku:api:${endpoint}:${randomSeed}`, JSON.parse(data));\n  }).catch(error =\u003e {\n    event.sender.send(`puraku:api:${endpoint}:${randomSeed}`, {error});\n  });\n});\n```\n\n在 Renderer Process 裡（在我的例子裡是 Vue 前端 App）就可以用簡單的介面來呼叫 API 啦！\n\n## 其它\n\n聽說用 message queue 來實作比較好，不過 It works for now，就暫時沒有更新實作的動力（懶）\n\n可以在 [puraku/client PR#5](https://github.com/puraku/client/pull/5) 閱讀實作的過程。自從對 Redmine 上癮之後，連 GitHub Flow 也一併愛上了，在本 Repo 一個功能就開 Branch 做成 Pull Request，就算一個人的 GitHub Flow 也能玩的愉悅 XD\n\n\n[plurk-api]: https://www.plurk.com/API\n[puraku]: https://github.com/puraku/client\n[purakujs]: https://github.com/puraku/purakujs\n[plurkjs]: https://github.com/clsung/plurkjs\n[node-oauth]: https://github.com/ciaranj/node-oauth\n","date":{"year":"2016","month":"11","day":"02"},"slug":"use-electron-ipc-to-call-api-from-main-process","tags":[],"publishedAt":"2020-10-09T02:07:25.677Z"},{"id":"LqieVzG8QuisCJ6YFIdebA","meta":{"layout":"post","title":"開源貢獻初體驗","date":"2016-10-17T00:00:00.000Z"},"title":"開源貢獻初體驗","content":"\n# 開源貢獻初體驗\n\n## 第一次的 PR\n\n在兩個月前的暑假，還在努力當個 Rails 工程師的我，為了進行我社產品的重構，想先找個專案練練手。當時 VSCode 開源專案管理的 GithHub 令我好生羨慕，覺得所有的開源專案，如果都能如此有條理的讓人參與貢獻，那該有多好呀。我找了找 Rails 專案，發現之前有在關注的校園專案 [NCTU+](https://plus.nctu.edu.tw/) 當時也在進行改版。\n\nclone 下來看了看，發現 rubocop 上色還挺多的，於是就想也沒想開始玩了起來。煞有介事的開了個 [issue](https://github.com/Yukaii/nctuplus/issues/1)，描述專案多有技術債云云，列出了各式 Todo。首先著手的就是升級 Rails，並且把過時的套件都升級一番。\n\n經過了兩天的折騰後，送出了第一支 [Pull Request][nctuplus]。結果就失敗了 XD。\n\n## 自我愉悅\n\n我想了想，覺得當時的問題有三：\n\n1. PR 太大包\n2. 對 Roadmap 不瞭解\n3. 沒有測試\n\n最後再附加一個，太自我中心，加了一堆東西卻又沒有附上 Getting Started。\n\n當時我覺得 PR 太大包，其實現在看來也還好，因為「順便」把重複的目錄移除，所以 Git 更改看起來比較多。但是這「順便」就是問題所在了。在跑 GitHub Flow 時，Feature branch 應該單一目的，我雖然 PR 名為「升級 Rails/Ruby/gems」，實際上還是混雜了[多個目標](https://github.com/nctuplus/nctuplus/pull/6#issuecomment-238025911) ，現在看來有點可惜。\n\n對 Product Roadmap 的不瞭解這部分，其實也算該專案的特性。校園團隊的運作方式，大概是[徵才](https://www.facebook.com/nctuplus/posts/1069989203046912) 後大家一起共同成長，所以 Roadmap 既沒有公佈在 GitHub 也沒有在粉專，我這個亂入的傢伙，照著自己意圖亂升級，終究也只是自己的實驗 XD。\n\n最後一點關於測試，其實專案本身就沒啥測試 XD，所以[幫忙 Review 的同學](https://github.com/nctuplus/nctuplus/pull/6#issuecomment-238018884)也有提到，我的 PR 還需要花大把的時間確認能不能運作。這對於當時還在衝刺功能的 NCTU+ Team 來說，確實是個沒有必要的 PR。\n\n總結一下，我既不熟悉 NCTU+ 團隊的運作方式，開出的問題也是假議題（沒必要升級呀），還需要花大把的成本驗證，那這個 PR 就完全是自嗨嘛 :p。\n\n## 於是跑來寫 JavaScript\n\n在大約一個月前~~把自己開除~~轉職回學生之後，除了玩弄下 [SICP](https://mitpress.mit.edu/sicp/) 之外，另一項規劃就是把幾個月前開的坑 [Comics Reader](https://github.com/ComicsReader/reader) 補了補進度。該專案也是 [fork](https://github.com/zeroshine/ComicsScroller) 來的，不過到後來幾乎整個重寫，除了一樣是用 [Material-UI](http://www.material-ui.com/) 界面配色照著改之外，還多了一卡車東西。\n\n起初想要 fork 是因為與其砍掉重練專案，不如發 PR 給原專案，一步步~~入侵~~影響原專案，把它變成自己的形狀。要知道重寫專案成本也是很大的，現在輪子這麼多就別再造了啦，而且原本的插件我也用的很開心。儘管如此，每個人還是都有自己的主觀意識~~工程師的浪漫~~，這世界的輪子才這麼多，我終究還是重造了船 😂。\n\n## 跳入神坑 HackMD - The Realtime Collaborate Markdown Platform\n\nComics Reader 寫著寫著，對於 JavaScript 這奇妙~~垃圾~~語言的熱情也回來了，也想跳個坑玩一下。常在 [g0v slack](http://join.g0v.today/) 潛水的我注意到 hackfoldr 常常拿來搭配 [HackMD](https://hackmd.io) 使用，一個支援多人即時協作的線上 Markdown 編輯平臺。看了看 [GitHub Repo](https://github.com/hackmdio/hackmd)，發現技術架構剛好與我目前的技能表吻合，那就開始貢獻吧！\n\n## 為 Legacy JavaScript 導入 Webpack\n\n經過幾個開發流程改進的 PR 後([#187][pr187]、[#190][pr190])，我開始[導入 Webpack][pr195] 前端打包器。\n\n此時我對 JavaScript 的理解還停留在 React 這種 SPA 應用上，於是把許多 vendor package 都轉到 npm，然後在進入點引用進來，產生的 JS Bundle 也隨著引用的套件增加而擴大。我後來才理解到把常用的 vendor 放在 CDN 才是好的優化方法，因為瀏覽器會幫你快取，於是我又慢慢地把放到 npm 的套件在 extract 出來，簡直是繞了一大圈啊（汗）。[#195][pr195] 就記錄了這過程。\n\n隨著這份 PR 越來越大包，我也開始覺得緊張，要是合併回去之後，功能通通炸掉怎麽辦？結果確實也是如此，我另外花了 [#202][pr202]、[#205][pr205]、[#206][pr206] 三個 PR 來把大部分的功能修復 😅。\n\n[#195][pr195] 做出改變實在太大了，當時也是邊做邊找資料學習，於是發生了這種繞圈子的意外。好險原作者 jacky 非常 nice 的接受了 PR，也一起確認了各功能是否運作正確 😂。現在上線的版本就是小弟我加料過的，實在緊張刺激 XD。\n\n## 更多的 PR，更多的 Open Source\n\n跳入一個新專案，從 run 起來開始瞭解架構，然後開始惡搞，這就是我最近在幹的事。時常有「挖坑給自己填」之感，這就是_惡搞系工程師_的人蔘啊。\n\n最後再推一下 [HackMD](https://hackmd.io) 這個專案，作者 jacky 在設計上實在加入許多巧思，希望有一天能長成工程師每天用的筆記軟體，繼續填坑讓專案更好！\n\n[nctuplus]: https://github.com/nctuplus/nctuplus/pull/6\n[pr187]: https://github.com/hackmdio/hackmd/pull/187\n[pr190]: https://github.com/hackmdio/hackmd/pull/190\n[pr195]: https://github.com/hackmdio/hackmd/pull/195\n[pr202]: https://github.com/hackmdio/hackmd/pull/202\n[pr205]: https://github.com/hackmdio/hackmd/pull/205\n[pr206]: https://github.com/hackmdio/hackmd/pull/206\n","date":{"year":"2016","month":"10","day":"17"},"slug":"contributing-to-open-source","tags":[],"publishedAt":"2020-10-09T02:06:47.408Z"},{"id":"0ywU9WWiTPG8V1eX7bOkDA","meta":{"layout":"post","title":"用 jadx 來玩玩 Android 逆向工程","date":"2016-09-23T00:00:00.000Z"},"title":"用 jadx 來玩玩 Android 逆向工程","content":"\n# 用 jadx 來玩玩 Android 逆向工程\n\n## 你幹嘛沒事要來逆向工程啦\n\n~~就是因為沒事啊~~。呃不對，其實以前就有聽說過 Android 逆向工具很成熟，不過自從換 iPhone 後就沒怎麼關注 Android 發展了，一直沒機會玩到。\n\n昨天下午剛好就在臉書刷到一款課表 App，就簡稱為 「X 社小工具」好了，可以幫你匯入學校的課表，支援多個學校。看了看截圖，感覺是在手機端輸入校務系統登入帳密達成，X 社小工具會幫你抓下來，只是不知道後面 API 怎麽跑（誰知道）。秉持著好奇的心，就讓我來逆向看看吧 XDDD。\n\n## 沒手機也要下載 APK\n\n直接把 APK 的 bundle id 貼到 [androidapk](https://androidappsapk.co/apkdownloader/) 這個網站就可以下載了，bundle id 長得像 `com.facebook.katana`。\n\n## jadx 反編譯工具\n\n![jadx](https://camo.githubusercontent.com/bd3c0ea851c23c4535e43590a86c940a0786faa6/687474703a2f2f736b796c6f742e6769746875622e696f2f6a6164782f6a6164782d6775692e706e67)\n\n借一下[官方][jadx]的截圖，[jadx][jadx] 可以直接開啟 apk 檔，把 decompile 過的原始碼顯示出來；除了 gui 界面也有 command line 工具可以讓你直接轉存 source。\n\n載下來解壓縮後有四個檔案：\n\n```bash\n.\n├── jadx\n├── jadx-gui\n├── jadx-gui.bat\n└── jadx.bat\n```\n\n`cd` 進去目錄後執行 `./jadx-gui`，GUI 界面開啟照著操作，選擇你要解開的 apk 就會顯示 Java code 了，也可以選擇轉存，用你喜歡的 Editor 或 IDE 開起來。\n\n## 讀讀讀讀讀 code\n\n不像當初 [Pokemon Go 被逆向](https://applidium.com/en/news/unbundling_pokemon_go/) 一樣，竟然連個混淆都沒做，X 社小工具解出來的原始碼裡，變數都被換成英文字母 abcde，不過想想我的目的就是拿到 API，就直接搜尋 `http://`、`https://` 網址開頭的字串~~\n\n### Retrofit\n\n然後就找到了這段：\n\n```java\npublic Retrofit a(as asVar) {\n    return new Builder().baseUrl(\"https://容我隱藏一下.appspot.com/\").addConverterFactory(GsonConverterFactory.create()).addCallAdapterFactory(RxJavaCallAdapterFactory.create()).callbackExecutor(AsyncTask.THREAD_POOL_EXECUTOR).client(asVar).build();\n}\n```\n\n看網址 Server 還是用 Google App Engine 架的 XD\n\n[Retrofit](https://square.github.io/retrofit/) 是 Android 用的 HTTP 客戶端，雖然沒用過，不過對於 Retrofit 用 Decorator 標記各個 Endpoint 的寫法印象很深，Retrofit 首頁的範例就這樣寫：\n\n```java\npublic interface GitHubService {\n  @GET(\"users/{user}/repos\")\n  Call\u003cList\u003cRepo\u003e\u003e listRepos(@Path(\"user\") String user);\n}\n```\n\n接下來只要再找出各式 Decorator 就行啦！\n\n### API Endpoints\n\n```java\npublic interface a {\n    ...\n    ...\n\n    @GET(\"schools\")\n    h\u003cMap\u003cString, j\u003e\u003e a();\n\n    @POST(\"login\")\n    h\u003cf\u003e a(@Body e eVar);\n\n    @GET(\"users/{uid}/schedule\")\n    h\u003cg\u003e a(@Path(\"uid\") String str, @Header(\"Authorization\") String str2);\n\n    ...\n    ...\n}\n```\n\n上面是其中一段程式碼，看起來主要的 API Endpoint 都在這了。\n\n接下來可以用 `curl` 或 [Postman](https://www.getpostman.com/) 來試打 API，從 GET 的 Endpoint 開始，照著 Login 流程做。不過打 schedule API 的時候卻發現重大問題：\n\n\u003e 我的課表根本就沒課啊！！\n\n所以 `schedule` 只好當做不知道怎麽解了哈哈哈😂\n\n### RxJava\n\n題外話一下，X 社小工具也用了當紅的 Reactive Programming，反編譯後的原始碼就看到一堆短短的 presenter 檔案。\n\n### 其實要拿 API 也不需要反編譯\n\n可以用 [Wireshark](https://www.wireshark.org/) 之類的封包擷取工具撈一下，不過還是看原始碼直接啦😅\n\n## 感想\n\n看來 ProGuard 一類的混淆工具還是有用的，變數、類別都被換掉，腦內理解搜尋速度至少慢了十倍啊，還沒辦法直接 Go to Definition...\n\n本來想寫個免責聲明，不過敏感資訊都已經藏起來了，應該還好吧 XD 這篇只是個人純粹玩工具、讀讀 code 的心得而已，不要追殺我啊 😂😂😂\n\n[jadx]: https://github.com/skylot/jadx\n","date":{"year":"2016","month":"09","day":"23"},"slug":"play-android-reverse-engineering-with-jadx","tags":[],"publishedAt":"2020-10-09T02:06:04.037Z"},{"id":"JZtp7KBDT8-cJ8Tufszxxw","meta":{"layout":"post","title":"Rails Girl #7","date":"2016-08-28T00:00:00.000Z"},"title":"Rails Girl #7","content":"\n# Rails Girl #7\n\n有幸在第七屆的 Rails Girl 活動中擔任教練，就來寫寫感想好了 w\n\n在當 Rails Girl 教練之前，我雖然「算是」有帶過幾位實習生，不過跟這種馬拉松式的教學完全不同，平常都不太說話的我，這兩天竟都沒怎麽停嘴，也真佩服自己了 😅\n\n## Day 1 - 裝機\n\n對於這種體驗性質的活動，浪費時間在安裝開發環境就太可惜了。主辦的大大在會前教練通知信裡寄了一份 [CodeAnywhere](https://codeanywhere.com/) 網站的說明。如同名字所述，CodeAnywhere 可以讓你 **Code Anywhere**（在哪裡都能寫程式），運用 Linux Container 和 Web 技術，使用瀏覽器便能連接機器、開發網站服務。只可惜 Bug 還是挺多的，比如說：\n\n1. 無法做到即時 Filesystem Refresh，每次新增檔案後，都要手動重新整理專案，新增的資料夾才會出現在列表\n2. Terminal SSH Session 在重新整理瀏覽器後不會自動 kill，所以開啟的 Rails server 佔用 port，但 terminal tab 已經消失，需要找出 pid 後 kill 掉（`lsof -i tcp:3000`）\n3. 在 Terminal 界面無法使用貼上快捷鍵（`Ctrl + v` or `CMD + v`），對於經常性 Copy \u0026 Paste 的這堂課來說十分不便呀\n\n附上 rails 簡易裝機指令，無論是 CodeAnywhere 環境或是 Ubuntu/macOS 應該都能使用。Ubuntu 需要事先安裝好 Git，macOS 則需安裝 XCode Developer Tools。\n\n```bash\ngpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3\n\\curl -sSL https://get.rvm.io | bash -s stable\n\nrvm reload\nrvm install 2.3.1\nrvm use 2.3.1 --default\n\necho 'gem: --no-ri --no-rdoc' \u003e\u003e ~/.gemrc # 不需要安裝 rdoc\n\ngem install bundler\nbundle config --global --jobs 4\n\necho 'source \"https://rubygems.org\"\nruby \"2.3.1\"\ngem \"rails\"\n' \u003e\u003e ~/Gemfile\n\ncd # 切換至家目錄\nbundle install\n```\n\n個人認為裝機階段實在也不需要特別解釋，說明一下 Ruby 和 Rails 的關係和豐富的套件生態系就行了~~（什麼？Rails 不是語言嗎？）~~\n\n作為一個信仰不夠忠貞的 Rails 信徒，自然會從廣義的 Web 開始講起。想到在行前會說明時，提到有個萬用便當遊戲[^1] 可以用，自然就偷跑進度，直接拿便當圖來講故事啦。講故事的重點就是**凡事回顧個兩三次**，並在不同時機再次連結。另外身為一個自學者，當然還是把肌肉記憶拿出來講了講，我還是覺得這挺有用的 XD\n\n\n## Day 2 - 跑跑進度啦\n\nCodeAnywhere 有分享專案和 pair programming 的功能。先對專案點右鍵，並在跳出的選單選擇 Share、並輸入對方 Email 即可；而 Pair Programming 比較麻煩，每個檔案或是 Terminal 都要分享一次。如下圖所示，按下紙飛機按鈕，並輸入對方 Email：\n\n![Imgur](https://i.imgur.com/ky0B3yd.png)\n\nTHE 紙飛機\n\n![Imgur](https://i.imgur.com/8XTdMEr.png)\n\n透過 Pair Programming 的方式，即使是一次帶兩個人，也只要維護一份環境、一份專案，真是怠惰啊 😇\n\n第二天白天，我們這組跑了 Rails Girl 的兩篇教材，分別是 [Idea Scaffold][rails-1] 還有[留言功能][rails-2]，途中也不時對教練解釋的地方自我吐嘈了一番；下午就在各種~~傳教~~閒聊之中度過了，比如 [Rails 基本主義][the-rails-doctrine]啦、[編輯器之戰][editor-war]、[鄙視鏈](https://vinta.ws/blog/695)、GitHub 文化、[Stylish](https://userstyles.org/) 自訂網頁樣式表、[Coding Font with Ligature support](https://github.com/larsenwork/monoid)，還有 [DjangoGirls](https://djangogirls.org) 等等（在 Rails 的場子談 Django 是不是搞錯了什麼？）。畢竟這個圈子最好玩的就是聖戰以及用不完的攻城獅哏，體驗文化也是學習不可分割的一環啊！\n\n## After Party\n\n據說 After Party 才是 Rails Girls 活動的精華......欸就這樣一行？\n\n## 結語\n\nRails Girls 對於想接觸 Rails 或是網站入門的女性朋友來說，自然是個非常好的機會，手把手帶你寫程式還不用錢，實在是值回票價（等等！免費的活動哪來的票啊）；對身心疲憊、忙於工作的工程師教練們，也是個調劑身心的好時機，讓平常沉默的宅宅有了練蕭維的舞臺。最後感謝本活動的唯一贊助商[五倍紅寶石](https://5xruby.tw)，下次活動詳情就請繼續關注 [Rails Girls Taiwan][rails-girls-fb] 粉絲專頁啦！\n\n[the-rails-doctrine]: https://medium.com/@juanitofatas/ruby-on-rails-%E5%9F%BA%E6%9C%AC%E4%B8%BB%E7%BE%A9-f4cde39292a4\n[rails-1]: http://railsgirls.tw/app\n[rails-2]: http://railsgirls.tw/commenting\n[editor-war]: https://yukaii.tw/blog/2016/06/22/sublime-atom-vscode-comparison-mid-2016/\n[rails-girls-fb]: https://www.facebook.com/railsgirlstw/\n\n[^1]: 參見 [Rails Girls 官方部落格](http://blog.railsgirls.com/post/20405930015/bentobox-learn-the-language-of-technology)\n\n","date":{"year":"2016","month":"08","day":"28"},"slug":"rails-girl-7","tags":[],"publishedAt":"2020-10-09T02:05:11.828Z"},{"id":"gNuV4-E7RJyDnnuCfIcgBg","meta":{"layout":"post","title":"部落格 GitHub 新版型主題","date":"2016-08-22T00:00:00.000Z","comments":true,"published":true},"title":"部落格 GitHub 新版型主題","content":"\n# 部落格 GitHub 新版型主題\n\n過程可以看 [PR#1](https://github.com/Yukaii/Blog/pull/1)，大致上是：\n\n1. 引入 [primer css](https://primercss.io)\n2. 清掉原本沒用到的 css\n3. Post Layout 加上 `markdown-body` 的 class（[31360b](https://github.com/Yukaii/Blog/commit/31360b)）\n4. 從 GitHub 上面拿 css 來用 XD\n\n不囉嗦，直接上圖了。\n\n## Before\n\n![before-1](https://i.imgur.com/3rBAve0.png)\n\n![before-2](https://i.imgur.com/bXb19SE.png)\n\n## After\n\n![after-1](https://i.imgur.com/McEpFdB.png)\n\n![after-2](https://i.imgur.com/PqH6sup.png)\n\n## Misc\n\n另外附上最近弄的 VSCode Markdown Preview Theme。我習慣用暗色的 syntax highlight theme，但是 VSCode 的 Markdown Preview 會根據目前使用的 Theme，來使用亮色或暗色，所以我寫了一些覆蓋的 css，讓不論選亮色或是暗色主題都能使用明亮的 Markdown 預覽主題。與 [BigstickCarpet](https://gist.github.com/BigstickCarpet/) 的 GFM Theme 一起使用效果更佳 😁\n\n[vscode-markdown-github-css](https://github.com/Yukaii/vscode-markdown-github-css)\n\n![md1](https://i.imgur.com/hHbhwHJ.png)\n","date":{"year":"2016","month":"08","day":"22"},"slug":"blog-new-github-theme","tags":[],"publishedAt":"2020-10-09T02:04:02.162Z"},{"id":"fXFHMfVzRR6NtK0QPfvP3g","meta":{"layout":"post","title":"從 1Password 搬家到 pass","date":"2016-08-19T00:00:00.000Z","comments":true,"published":true},"title":"從 1Password 搬家到 pass","content":"\n# 從 1Password 搬家到 pass\n\n## Why?\n\n引用[官網][1]的說法，pass 是一套 「標準 unix 密碼管理工具」（the standard unix password manager），簡單好用。雖然 1Password 我已經設定用 Dropbox 同步，應該還算安全，不過多個開源選擇也好。\n\npass 也有社群版套件，在手機上也可以用，引用一下官網：\n\n\u003e The community has even produced a [cross-platform GUI client](http://qtpass.org/), an [Android app](https://github.com/zeapo/Android-Password-Store), an [iOS app](https://github.com/davidjb/pass-ios#readme), a [Firefox plugin](https://github.com/jvenant/passff#readme), a [Windows client](https://github.com/mbos/Pass4Win), a pretty [Python QML app](https://github.com/TheLastProject/Pext), a nice [Go GUI app](https://github.com/cortex/gopass),  an [interactive console UI](https://github.com/Kwpolska/upass), Alfred integration [(1)](https://github.com/CGenie/alfred-pass) [(2)](https://github.com/MatthewWest/pass-alfred) [(3)](https://github.com/johanthoren/simple-pass-alfred), a [dmenu script](https://git.zx2c4.com/password-store/tree/contrib/dmenu), [OS X integration](https://git.zx2c4.com/password-store/tree/contrib/pass.applescript), [git credential integration](https://github.com/languitar/pass-git-helper), and even an [emacs package](https://git.zx2c4.com/password-store/tree/contrib/emacs).\n\n## 安裝 pass\n\n在 macOS 上十分容易，先裝好 Homebrew，然後：\n\n```bash\nbrew install pass\n```\n\npass 也提供 shell completion 可以用，bash 預設就會裝好了，`fish` 需要在 `~/.config/fish/config.fish` 裡加上：\n\n```bash\nsource /usr/local/share/fish/vendor_completions.d/pass.fish\n```\n\n## 設定 pass\n\n完成之後我們要看一下有沒有 gpg 金鑰，如果沒有的話要新增個\n\n```bash\ngpg --gen-key # 產生 gpg key\n```\n\n記住產生時輸入的 key phrase，每次解鎖密碼都會用到（就跟 1Password 一樣）。用 `gpg --list-keys` 查看剛剛產生的 key，輸出像這樣：\n\n```bash\n/Users/username/.gnupg/pubring.gpg\n-------------------------------\npub   2048R/A534B400 2016-08-18\nuid                  My Name \u003cyour_email@gmail.com\u003e\nsub   2048R/E1001945 2016-08-18\n```\n\npublic id 就是 `A534B400`，拿這組 id 來初始化 pass\n\n```bash\npass init A534B400\n```\n\n完成！之後就可以用 pass 指令管理密碼了，可以下一些測試的指令試試，比如 insert 一組 foo 的密碼：\n\n```bash\npass insert foo\n```\n\n然後顯示 foo 的密碼\n\n```bash\npass show foo\n```\n\n## 由 1Password 匯入\n\n官網上就寫上匯入 1password 的 [ruby script][2] 😍 ，直接使用就行了。在 1Password 匯出 txt 時，記得勾選 `Include Column Labels`，如下圖：\n\n![1password-export-option](https://i.imgur.com/YsoUQcv.png)\n\n把匯出的檔案和匯入腳本準備好，跑一下：\n\n```\nruby 1password2pass.rb /path/to/1password_exported.txt\n```\n\n密碼就通通匯入至 `~/.password-store` 底下囉~\n\n## 基礎使用\n\npass 的管理可以說是相當自由，通通放在 `~/.password-store` 目錄，底下可以建立任意的目錄分類，或是乾脆不分 XD\n\n一些基本指令：\n\n```bash\npass show PROFILE # 印出 PROFILE 的密碼\npass -c PROFILE # 複製 PROFILE 的密碼到剪貼簿，如果不想印到 terminal\npass edit PROFILE # 編輯密碼\npass ls # 列出所有密碼設定檔\n```\n\n我做了以下 alias，方便快速密碼搜尋：\n\n```bash\nalias passgrep=\"pass ls | grep -i\"\n```\n\n就可以用 `passgrep` 來搜尋現有設定檔了。\n\n## Pass for iOS\n\n![pass](https://i.imgur.com/tWUOkAo.png)\n\npass 也有 iOS 的客端軟體可以用，還不用 jailbreak Q_Q 照著 [wiki](https://github.com/mssun/passforios/wiki#quick-start-guide-for-pass-for-ios) 設定就可以了，我自己在 GitHub 開一個 private repo，然後設定 ssh key，再由手機 pull 下來。下面秀一些截圖：\n\n![passforios-1](https://lh3.googleusercontent.com/yttCY9Onc6P_z-1O5m5g6LQI2AtXUn8-p9SeoYDLJgbziTBvBgKGXA1Q1EaUM-MwG16QhAfgIli0DTy2HvT6JGutPvd-7g1lI1tn5RB60PA0dwIxAFYHhS4L3RsJ3JV1hyWp-adEaNLPj8M5Ja9h1AIU-lZ1QkYLZM9bCBCORGIPAspD2f3a7mtJ3-PyVE4KyqwXxn_9CIMZQprAiz8Msi9aSJ_IJZEnBIFq2JAo_H7hejKK2NASCUDET2eHiuV9U5e4bf90-OG53ODs3jJ4WiHbgeNuGqqynJ9YYgqSPmdtNhsrYcwNrXKsvtY_H80UPmvvTbkKj1Obwg93hQBRLFWQU08CdZY7Q0jrtRSK8qC3LCjdfMx_6_-yAnklym5J5jGyKEPAtHZ-yPYYwibmg-9LCFQtr_2edv9740DJO1CcrxV0ufhajkqB2rSd2eAJSwH6LjwfHe6Y4INpGPiYX69odirAjFQ6B-BzYGsGyjgNOPg3A8l2XqH5psHZ1oIZUmYAAmhR_Nlv44-JZDpdTE9KayjKeMTPe8ZBWd6-fQq8QRjanX48QVzVsOmFrONOaYQO7ni1O0yCYV6E6hBfGnZTcxP_TEXf9qISvM9O5BRQ5SnMOdUfBuoGlA=w438-h776-no)\n\n![passforios-2](https://lh3.googleusercontent.com/lpSzfHVslm8B57tYU_Vwu0t3cMAn6kR5M4cTItZ0H3gM-BaC3VLRbwOeL7iZO9OfG6fDU0w5pATbq5_bm2JaMyDqVDDcyNdVuYxk_nvcjQL1EHweu7brbXXQaHPe26wGi4MvuT7UPrIbPtCFyyHXv2bONJcOALLuCqGuQJeJRJrEe2FM-1HHlf7Ox2zuUYew58r1PHpyEjD0WoYP8nvHPxMLCC5V_Bp470xL2jP3ikD6FCtU3O2_oDIzFd-4BHVCkPlwGKLLzYN-aXwJ47PIqSDspunUIfGDEcTIYPa2scAZemR0bLo6F6irP27_tEAfACshnKqBFsYJ0ZMii1YdPv27End-hjEqXCO5P8Ot2D_c-Hjfh6Gtq1B6tWU8Ka3DMcyuKKuY8YfCcuPvBYuP5vx3vfenhOWljDuiKvmyxUykWcWqJ9-dMVu4pqQM22wWs82h8k44agkPqIbn7nxK3SZLY7p65B2iGjIGuIv8f2-Ehepnu4-_8i4A_dGcMWc2VGAriJRUSzfzC7-N8dTGdUcK1RcMhv8AceRQKNZCShy4ny9lGlFmsZ0sgIxo2U_ig9abcUX3fPGguYrmL8p0SrQu1_w5ZEbrj2Vhd8ENw85KyizOpWhak8kO9A=w438-h776-no)\n\n![passforios-3](https://lh3.googleusercontent.com/ROHUYtj3ggs3qHPSOCL9emx0zanp1mYoRCJVyxKfRjobO8JsORfn_bFXkVPNuswQ1EnQYnPgM04u8Eo87OFnL68RKQD7kGUo7I0BOO1ogewTxTnK2VcGaqr-p4LlOR3KlnAqDWakcuYr-gE6nsPU7po-mMQY5SCoGPy9cRjlA33Nee8orgUt_VbY2YO99f9BQIgVbfsc3_uVYT0F7tbtyAOQj7A1LSitOTgKiJygyLQPJQjKMsVaH0gg9L0xCvgw8sJjv5jVi15OK0flvqzH5mivR1ntbUIqqKNlYk4Xstcv6x1kJQp1g49nkayRylZznwPSn0aFn4-XsSWI3Oanesjd5hjmJEzj3aWKkUzaqjJVyx0dScMJfU8fLiRFOzjgbedoGvy7a8Tdo45MW6BQPFjn-La4ypf1P-cd2GbWdaozX9Yb5_ynUCAKhfNdDiwuEBpt0EbolBUQF8FU1ELWsZZx82MUvdWlNlazH3p503JowOt3ZgxWdG5T0YQWliJgz2Jo_tLvHez0gXSevu9ZufEPPJwGpgXjlB5MiOjTDa9Rki4dvPmpeQHJzCzoaWjWbrs88SOLnwGWNggwTrHDcZlEKDdTiv9vn8W69VtaWrV5Ly11V3231rFjhw=w438-h776-no)\n\n用起來就跟原本 1Password 有 87% 像啦 XD\n\n（完）\n\n[1]: https://www.passwordstore.org/\n[2]: https://git.zx2c4.com/password-store/tree/contrib/importers/1password2pass.rb\n","date":{"year":"2016","month":"08","day":"19"},"slug":"migrate-1password-to-pass","tags":[],"publishedAt":"2020-10-09T02:03:27.310Z"},{"id":"8lix9WPoQIyZcbE11rCPhg","meta":{"layout":"post","title":"使用 Chrome 在快速鍵切換至網址列後，再用快速鍵切換回來","date":"2016-08-12T00:00:00.000Z","comments":true,"published":true},"title":"使用 Chrome 在快速鍵切換至網址列後，再用快速鍵切換回來","content":"\n# 使用 Chrome 在快速鍵切換至網址列後，再用快速鍵切換回來\n\n## 啥？\n\n在 Chrome 要把焦點切到網址列（omnibox）進行搜尋時，有組合鍵：\u003ckbd\u003e⌘\u003c/kbd\u003e/\u003ckbd\u003eCtrl\u003c/kbd\u003e + \u003ckbd\u003eL\u003c/kbd\u003e 可以用。但 Chrome 卻沒有快速鍵能夠把焦點設回網頁，非得要用滑鼠或觸控板點一下，這對 Vim 插件（[Vimium][vimium]、[cvim][cvim]）使用者來說實在太不舒適了，要知道雙手不用離開鍵盤才是**真正的舒適圈**啊，而擴充套件的作用範圍也不包含網址列，經過一番 Google 後我終於找到一個 Hacky 的解法。\n\n(**更新**：改自 Chromium 的 Opera 按 \u003ckbd\u003eESC\u003c/kbd\u003e 鍵就有同樣效果了，不需要再改啦！在此推薦 :p)\n\n## 建立自訂搜尋引擎\n\n在設定頁點開「搜尋引擎」設定：\n\n![search-engine](https://i.imgur.com/qmkSYvX.png)\n\n在最底下新增一個搜尋引擎，三個欄位分別填入\n\n* `Refocus` （自訂搜尋引擎名稱）\n* `i` （要綁定的關鍵字，越短越好）\n* `javascript:`\n\n如下圖：\n\n![add-search-engine](https://i.imgur.com/J5d9Kec.png)\n\n現在在焦點切到網址列後，只要輸入綁定的關鍵字（比如我綁的是 `i`）、再按下 enter，就能把焦點切回頁面囉：\n\n![address-bar](https://i.imgur.com/tgxysRe.png)\n\n## 參考資料\n\n* [Google Chrome (Mac) set keyboard focus from address bar back to page - Super User](http://superuser.com/questions/324266/google-chrome-mac-set-keyboard-focus-from-address-bar-back-to-page/324267#324267)\n\n[vimium]: https://github.com/philc/vimium/\n[cvim]: https://github.com/1995eaton/chromium-vim\n","date":{"year":"2016","month":"08","day":"12"},"slug":"refocus-from-chrome-address-bar","tags":[],"publishedAt":"2020-10-09T02:02:53.144Z"},{"id":"Q1WmHFH8QL-6eiLkfOX8eg","meta":{"layout":"post","title":"rbenv、fish 與 VSCode 設置之路","date":"2016-07-22T00:00:00.000Z","comments":true},"title":"rbenv、fish 與 VSCode 設置之路","content":"\n# rbenv、fish 與 VSCode 設置之路\n\n在最新的 VSCode 1.3.1 版裡，Integrated Terminal 變得更加好用，但由於上游套件 `xterm.js` 的緣故，`zsh` 還是有無法捲動的問題。不過作為一個 Rails 開發者，VSCode 已經是個足夠好用的、足矣媲美 Sublime Text 的編輯器了。為了能夠在 VSCode 開發 Rails，特別對目前的開發環境做出調整。\n\n## 由 RVM 轉換至 rbenv\n\n聽聞 [rbenv][rbenv] 相較 rvm 來說，是對系統較為乾淨的 ruby 版本管理工具。就趁這次更新開發環境一起重置吧！\n\n### 移除 rvm\n\n套件也內建了一鍵移除的方式：\n\n```bash\nrvm implode\n```\n\n做完之後也可以將 rvm 剩餘的檔案移掉：\n\n```bash\nrm -rf ~/.rvm\n```\n\n### 安裝 rbenv\n\n參照了[專案官網][rbenv]的說明，只要把該 repo clone 下來，設置好 `PATH` 變數，在為 shell 加上一些設定便可以開始安裝 ruby 了。在 OS X 環境又更容易，只要用 Homebrew 一鍵安裝便成。\n\n```bash\nbrew install rbenv\n```\n\n裝完之後就可以發現 rbenv 已經被裝到 Homebrew 的可執行位置了，可以跑 `which` 指令檢驗\n\n```bash\nwhich rbenv\n# =\u003e /usr/local/bin/rbenv\n```\n\n在 Homebrew 安裝跑完之後，安裝腳本會提示已在 shell profile(.zshrc/.profile/.bash_profile) 加上 rbenv 初始化腳本，預設內容如下：\n\n```bash\nexport PATH=\"$HOME/.rbenv/bin:$PATH\"\neval \"$(rbenv init -)\"\n```\n\n第二行的 `rbenv init -` 指令輸出，在你一般開啟的 Terminal 會跑出：\n\n```bash\nexport PATH=\"/Users/USERNAME/.rbenv/shims:${PATH}\"\nexport RBENV_SHELL=zsh\nsource '/usr/local/Cellar/rbenv/1.0.0/libexec/../completions/rbenv.zsh'\n# ... 下面一串\n```\n\n不過在 VSCode 內建終端機卻會跑出：\n\n```bash\nexport PATH=\"/usr/local/opt/rbenv/shims:${PATH}\" # 就這行不同\nexport RBENV_SHELL=zsh\n\n# ... 下面一樣\n```\n\n大概是執行權限不同的關係吧，rbenv 執行的位置不同也會讓 `gem`/`bundler` 裝到不同的位置，為了方便起見，一律設成一般終端機跑出來的那串。把下面這串貼到 `~/.zshrc` 最下面就是。\n\n```bash\nexport PATH=\"/Users/USERNAME/.rbenv/shims:${PATH}\"\nexport RBENV_SHELL=zsh\nsource '/usr/local/Cellar/rbenv/1.0.0/libexec/../completions/rbenv.zsh'\ncommand rbenv rehash 2\u003e/dev/null\nrbenv() {\n  local command\n  command=\"$1\"\n  if [ \"$#\" -gt 0 ]; then\n    shift\n  fi\n\n  case \"$command\" in\n  rehash|shell)\n    eval \"$(rbenv \"sh-$command\" \"$@\")\";;\n  *)\n    command rbenv \"$command\" \"$@\";;\n  esac\n}\n```\n\n若是 fish 就貼下面這個：\n\n```\nsetenv PATH '/Users/USERNAME/.rbenv/shims' $PATH\nsetenv RBENV_SHELL fish\n. '/usr/local/Cellar/rbenv/1.0.0/libexec/../completions/rbenv.fish'\ncommand rbenv rehash 2\u003e/dev/null\nfunction rbenv\n  set command $argv[1]\n  set -e argv[1]\n\n  switch \"$command\"\n  case rehash shell\n    . (rbenv \"sh-$command\" $argv|psub)\n  case '*'\n    command rbenv \"$command\" $argv\n  end\nend\n```\n\n### 裝 ruby\n\n```bash\nrbenv install 2.3.1\nrbenv global 2.3.1\ngem install bundler\n\nbundle install\n```\n\n搞定！\n\n### Pow 的額外設定\n\n其實在 Pow 的 [wiki](https://github.com/basecamp/pow/wiki/Troubleshooting) 就有解答，不過因為我又對 rbenv 做了 PATH 的改動，所以設定也不太一樣。\n\n打開 ~/.powconfig 並貼入\n\n```bash\nexport PATH=\"/Users/USERNAME/.rbenv/shims:/Users/USERNAME/.rbenv/shims/bin:$PATH\"\n```\n\n然後重啟 pow service\n\n```bash\ntouch ~/.pow/restart.txt\n```\n\n## 將主要 shell 由 zsh 換成 fish\n\nzsh 有著非常有名的 [oh-my-zsh][oh-my-zsh] 設定檔管理框架，fish 底下也有個好用的叫 [fisherman][fisherman]。不過我終究是沒有把系統預設的 shell 換掉(`chsh` 指令)，因為挺多工具與 fish 不相容。\n\nfish 啟動速度飛快，帶我重回還沒有裝一堆 zsh 套件的美好往日時光。\n\n### VSCode\n\n講來講去這篇好像跟 VSCode 沒啥關係耶？那就附張截圖好了，VSCode 也是十分優秀的 Markdown 編輯器，內建了快速的 Preview，碼 code、寫文件、Terminal、Task Runner 全都內建了，還夠輕量快速，Extension 也陸續多了起來，還真不好挑剔啊 XD。\n\n![][screenshot1]\n\n\n[rbenv]: https://github.com/rbenv/rbenv\n[oh-my-zsh]: https://github.com/robbyrussell/oh-my-zsh\n[fisherman]: https://github.com/fisherman/fisherman\n[screenshot1]: https://lh3.googleusercontent.com/-o17HvZ1w7k6NzK0kw84uJNdhTmnWCH1hGyHduSokRnhgdeoaIh8reqDVrlAc43uGIN9K5KZYpujZuuSdqrV5BiuBhYNsQlubHEfAPut1pGvbkYzw3zKLfuEpphlj7JpBKj9x3m-Zk-rA4s-xFXnagC3vO8otXWOAH7qXYg47kx8D1qHVDpwHjD4WW8yd1jV_CYZlL5VWfrbbiVAdlwBDalB_UexT8emkhqTMjNwQMhIwMyqEXk8LcsfuI5IqgpdR488KovW9Z3ckMJjMbMWSpYOUfMuJ4_pRgYPMla9cm-h6QcP5PXIyhfTERUTRUyUAawcJAWC74R519UVe_gLizh0RqvKazWU0ISCjXVOmbH_bljBAwRIBZobMme9W3deBztAMd0asjKFJnjsviDKDgb1n5y8wS6z5nfNGWijNJbl2JwpVv9EVStbGM4OoqM-9st2MO5oVZJEK8PgtNp1LvuBr3Qkch_k2RXnSZJTfxs4aYZroTJTplZI2XEZS8bkK6Xlczod9rFAvsBdSK2G1A3rixmyBrTOkb7YE7Z8E5NRGWXx3mJns607eu00e69bzGlSe7kc_IpwN1wiYUtqWuRjABPqIhsV=w1046-h781-no\n","date":{"year":"2016","month":"07","day":"22"},"slug":"rbenv-fish-and-vscode","tags":[],"publishedAt":"2020-10-09T02:02:23.944Z"},{"id":"zE2XukITTd28CpD6AsVaSg","meta":{"layout":"post","title":"2016 年中、編輯器三雄大對決！","date":"2016-06-22T00:00:00.000Z","comments":true,"published":true},"title":"2016 年中、編輯器三雄大對決！","content":"\n# 2016 年中、編輯器三雄大對決！\n\n**TL;DR**: 立馬下載 [VSCode](https://code.visualstudio.com/)！！本文將會持續更新\n\n## 前言\n\n這題目一直以來都非常想戰啊，身為一個設定狂，什麼編輯器都要玩玩，惡搞到每個編輯器開啟時間都變超久...XDrz\n\n這次選了三個主流的編輯器：Sublime Text、Atom、Visual Studio Code，下面就來簡介一下各編輯器的特性、好用插件，以及本部落格最愛的：秀截圖 😆\n\n## Sublime Text\n\n原生就是順暢來著，又擁有豐富成熟的插件體系，一直以來都受到前端社群的愛好與推廣，可惜現在來看更新頻率還是比較慢的，[dev builds](https://www.sublimetext.com/3dev) 大概三四周不定期發佈，也要 $$ 使用者才能下載 XD。小弟最愛的 [Font Ligature](https://sublimetext.userecho.com/topics/4719-does-sublimetext-support-programming-ligatures-fontlike-fira-code/) 似乎遙遙無期啊（BTW，這串留言實在很有趣）！以下推薦幾個我用的插件：\n\n* [SublimeLinter](https://github.com/SublimeLinter/SublimeLinter3) 配上給 JavaScript 用的 `eslint` 和 Ruby 用的 `rubocup`，搞定靜態語法檢查\n* [GitSavvy](https://github.com/divmain/GitSavvy) ，Sublime 的 Git 輔助套件，有如 emacs 底下的 magit 般，讓日常 commit、diff、merge 輕鬆寫意，有時還是得用 GUI 或 CLI 工具輔助啦\n* [EasyMotion](https://github.com/tednaleid/sublime-EasyMotion) 還有內建的 `Vintage Mode`，身為一個 vim 控，這兩個插件讓我不動滑鼠就能輕鬆編輯\n* 最近突然喜歡起亮色系主題，使用 [Ayu Light](https://github.com/dempfi/ayu) 和 Monaco 字體。為了簡潔我把 Tab 關掉了，反正我也沒在用（咦）\n\n![Sublime Text](https://lh3.googleusercontent.com/I-ggZpsG4xXRmwlqr3kC3Aax3_656hf2zbJyMRi0aV7NjgtgkThU_fTR2rRq82OHmTXFvCBqwfZAkvHbJ8Y93ebi2w5z2heodfxDI9P8vU3zcdQzzrxUxF9zkFM2jJ1c3Mq4xjLPABXBdawvScurqbrtJFEJniwstfLNpiFwPNrXItvPGfl_3DWsjSS6ovPgMI6CeeDfGIgBJGIOaV4wVpeja0OtxROyXn44oNhX1t1FdzGCJIuUiGmClpFttAeKyy1JPYMMduNP59M0Euj-B5TM3PwMJgHDluv7uoSKbUlr1ZisCu86nqf8YYXj5oMM46cUTky2_6Vt7sQwmNDcjbAX1zuEyiWB3IHbS31tZbqxWfPaLIlmz-sCuTQ-y2CXcHGYYCEmawW51OP94DYtQW1MS1TcUmkAgaWSzfWea9NrxVl5zhDvfgh5CLwbTmONVX2IZz0AoHwN1RUjLh56EwR-YV4obV0JNJvGvA5solfLocNoaO9A70Qc4EXWeIKgx55e1mkD_YhrmIlSCqLRHv42_1ZDnJGwnIljPIDkbi3MIEzncmExbBA4lUCscEC5zGjbz8I9AN1UXhzQbx4fDnpv2bZnUBhEk-4CTSBOKW1Vpc4KuV8LLaJC4g=w1080-h768-no)\n\n## Atom Text Editor\n\n* 套件裝不完編輯器系列。有著比起 Sublime 更好用的套件管理界面，不過在我的 MBA 13 early 2014 上，開啟大量檔案編輯、或開啟稍大的檔案時（也才數 MB 吧 XDD），程式碼高亮緩慢，外加捲動頓挫感明顯。\n* 介面單靠 css 就可以自訂，有著比起 Sublime 更加一致性的自動補全（Auto complete）及錯誤提示介面。\n* 有內嵌的第三方 terminal 插件（`platformio-ide-terminal`），不過多開仍舊頓挫（汗）\n* 資料夾內搜尋**預設**排除 `.gitignore` 列表。不會像 Sublime **預設**一樣搜出一堆 `node_modules` 的套件（不用另外設定就是方便）\n* 內建 `timecop` 插件，可以監看每次啟動時各個插件所消耗的時間。真是走到另一個奇妙境界去了，是有多需要調教啊（~~的確很需要~~）\n* 社群能量驚人（看那精美的星星數），或許過不了多久效能就能大躍進...吧。[會有軟黑出沒](https://github.com/atom/atom/issues/10188)\n\n下圖是 Atom 1.18 版的截圖，VSCode 的 Git 整合似乎驚動了 Atom 圈，迫使 Atom 推出了一樣的功能（笑）我用的是內建的 One Light 主題和 [kary-foundation-light](https://atom.io/packages/kary-foundation-light) syntax scheme\n\n![Atom](https://lh3.googleusercontent.com/uJIO6dyRP2DqYcQGmRac7NCZFkXD2O8_5A4Gxkfv31QmvG98CtA-1Y2gxTLN21df1nqIow9VWgjViuub3lsFQtJ9bAuRKdnwQnHR2ahy94Kl8Q_MUtSzcMT97iOqZJmeSHeCXF-Df1Cy_Q1n5ZtXNR9JZQeenEUlRGvyOVqCSKB6gcIk_Ng180j078ZM2oTamj0tEcAuM7nXXIfdmCrYoioYhcM5E5Fuc52poqu10e8SHlwfL0ge_QSe8nj_Vt1S2LCCTenpqgN19Pedj1_CWULicD7SxGwbvGsW4bXsmLQ7gBPVFHOjAbftcVD1om8Uj1It2Pcn5kxwdDJ7t1un-g494zKmcCkocCmfm0tOo5j1vRSPiEFrr91OPfzuijeVyQ13qHdcEkoPNlEPoAbcdaHaVeCZTpQF1B7kNnkBfWccZyf6v5e7qWYyLgnVDVPrGqFsKRGoDMXapGfMUbssYDYjf_GHoesPOiUeVbRWGq2ihPO7AjKPqXsa0zd3piHUuglie8mnQjN74WCL2fuBwWWW6ZpcZiurutNIafzw5ZpkRGpPufWIjvanXN7K8xRBo4EUg6rngr344OnqCGkvZgXULz0-Jfk8DDDSUBKl1jHbrs7yyQeX3dZPCg=w1080-h685-no)\n\n## Visual Studio Code\n\n* 三者中的後起之秀，快讚歎我軟技術力威能。\n* 基於 Atom 同樣使用的 [Electron](https://github.com/atom/atom/issues/10188) 框架開發，不過卻被我軟寫的更佳滑嫩順暢，順暢程度宛若原生應用，~~早就叫你不要用 CoffeScript 要用 TypeScript 了吼~~（欸）\n* 在即將推出的六月份更新，加入了 Tab 、內建 Terminal 支援，以及新的插件安裝介面。Tab 竟然是後期才加入的，害我被調教成不需要 Tab 的形狀了\n* 我軟不斷採納 [UserVoice](https://visualstudio.uservoice.com/forums/293070-visual-studio-code/) 上的使用者反饋，GitHub 上詳細的列出開發 VSCode 的[產品規劃 (Product Roadmap)](https://github.com/Microsoft/vscode/wiki/Roadmap)、[迭代計劃 (Iteration Plan)](https://github.com/Microsoft/vscode/wiki/Iteration-Plans)、[開發程序 (Development Process)](https://github.com/Microsoft/vscode/wiki/Development-Process) 等等，甚至開發討論和會議記錄都會在上面，十分**公開透明** www，每個月的 [Iteration Plan](https://github.com/Microsoft/vscode/issues?utf8=%E2%9C%93\u0026q=is%3Aissue%20label%3Aiteration-plan%20) 更是有如等待漫畫月更一般期待 😍\n* 內建 intellisense、debugger 還有 git 工具，界面一致性、統一的 API 更是**碾壓**前兩者。作為開源專案，當然連實作規格也要公開啊，[Language Server Protocol(LSP)](https://github.com/Microsoft/language-server-protocol) 希望作為一個統一標準，語法檢查、自動完成、重構等功能都交給 Language Server，編輯器或 IDE 當前端接。~~當然我軟有大一統的想法就是政治不正確了（誤）~~ 在 [wiki](https://github.com/Microsoft/language-server-protocol) 列出了目前有實作 LSP 的編輯器或 IDE 們\n* [套件商店](https://marketplace.visualstudio.com)蓬勃發展中，套件數達到了 3776，逐漸追上了 Sublime Text [Package Control](https://packagecontrol.io/stats) 上的 4229 個欸嘿 😎 (2017.8.3)\n* 本身就是個超大型的開源 TypeScript 專案，由 GoF 四人幫的 Erich Gamma 領軍，值得一提的是插件在獨立的 Extension Process 執行，寫爛的 Extension 不會影響到 VSCode 本身的速度，請參考官方的[介紹](https://code.visualstudio.com/docs/extensions/our-approach)，不知道有沒有針對哪個編輯器啦（摁！）\n\n![VSC settings](https://i.imgur.com/orxXv4J.png)\n\n上圖是幾經迭代之後的 VSCode 編輯設定檔介面，和 Sublime 一樣直接用文字界面編輯，但在 Sublime 下，每個套件的設定檔都是分開的，在 VSCode 卻是用 namespace 的方式寫在**同一個**設定檔裡面，方便管理許多，加上 Intellisence 支援，寫設定值自動跳出**該設定的說明**及**可以使用的值**，易用性碾壓 Sublime 啊 😆\n\n![vscode-without-activity-and-status-bar](https://lh3.googleusercontent.com/_tjXgabmWCEdPJSosgaUshNNNMz8Ohfjhu2ohPxetmLu4UdYSVCAFTTAmaDwcpNLvDlYDOrNlTBPepSzLjzne5eqx651rGe7pt9GamQwfQ9kXQqtHzzLAqypjEwBMAIY9cewdqN931JXhgekWWOPTSCRnyOznIQexXV4XyeFOW4OzlqJUh2_OIvcJ0jji2bZ-sgJh1HHSldGewvyqu3E-BqKeEt3TwxE5j21G3Z8H9_YLf5JYvPj6NPx6Pum4IRen7JeJ0ltRgwt6NXA67kpLVJnH2KFZEg3QQJ_VhuJ3s9g18b-4_XNStZRDmgWnVWeGS40Bfk_Fn-RJLioGFGdWwh6_iW5vT0KsEE8n-7ckZYKLnPyUwKsc2mGOrwHfapwO9mDRuvPjLq69egOfRZIIOxD-qymahAowjqceik0sDcIg57s6AqW14s2X7AtgYNzeziPg8z0HpoP_wsCdA-eWoshoy7TbHwZro2AHAgMVEF62Vga2wCVQ-eRTbN-Hr6XQpq24rDBKuKuGsXK3asfyfsCZ0JjX1DeMXLdQVUgIZzpuA3ITyCiB1JLBy2_pa1Ukjgz_SAMZhLN3XvvTcDcoVnueIfFoiPjiYGiR41eZ1cl9Zj9Bg8_bQ=w1093-h776-no)\n\n在自訂介面上，雖然不如 Atom 和 Sublime 那樣自由，改到媽媽都不認得，但介面都是由 HTML/CSS 描述，你要自己 hack 也是可以的，套件 [vscode-custom-css](https://github.com/be5invis/vscode-custom-css) 安裝後就可以插入自訂的 css。目前 VSCode 支援了還算完整的顏色自定義(Theme Color)，從編輯器介面到內建終端機(Terminal)的顏色都可以改，算是暫時對自訂介面的議題有了個交代。當然大家要的還不止這些啊，但要做的功能實在太多了，只好改天吧（？）\n\n## 結論\n\n**TL;DR**: 快去下載 [VSCode](https://code.visualstudio.com/) 就對惹。\n\n**我已經變成 VSCode 的形狀**了，Sublime 也被打入冷宮，偶爾拿出來回味一下倒還可以。說到本文沒提到的 vim，在伺服器上偶爾編輯設定檔、臨時修改原始碼倒還可以，但我已經被自動補全和除錯器慣壞，回不去了。那麼 Atom 呢？毫無反應，就是個 Hackable 的編輯器，十分適合拿來惡搞，只要你想，回到 90 年代也未嘗不可，不過永遠就是卡，嗯。\n\n![](https://lh3.googleusercontent.com/79NInG4caoVFAZlGOUKajtxlw5692Y3dnQDHwDomsBGKoT3q4hOaYGnSUUQCTyvSJO7ikL1DvsAH6n81kDWsx-36QtQM8VnfK5R-aJiFqP2W5vdQpzfwKjw7iw771dzP_eWf9eMU2DYDVX-WAg_Q_V_LmmQDqJMyx9Jx_Rx05Td15P6hzAmnJhSXuHlKUtVg2dChf22kOwZU2AvtHEOa5qhbTBI2pu6nbUwEODaEKpX5MIG5D0r-fobk9NrgkdGrGr6ZdaLy0iFJtqVNdRB3JolAU3yttOgWG_Nfp3Rihn9YZ-WDexU_d4A9D-Vu241WKnl9B0Y9oZ9gVjC7vbfhkbliGI9hfLWuusUVCAMjdBfRcH1lohoLifYeEnDJz2m7Qa88wbJxmCdoK8pNy50fAks8KehaQYI4FcKHg6GvyBbCoxOqTbX37VcEj8KA7owoF9OaFjWnbM0ngWOrqvjz7xwjMsSQS0l_zZzmQZAmIT7Dw8IPZQ4yb_W-16-Qu3fdw3kjsGfPWpAnb1l2kPMpX-BPwjk8GCX7ao2cHdsJz1R_MDmnu-XtBPiNV05kXlfoTucjmCBnSWK4Agd5TE05YQRFtqWq-iJs=s800)\n\n（完）\n","date":{"year":"2016","month":"06","day":"22"},"slug":"sublime-atom-vscode-comparison-mid-2016","tags":[],"publishedAt":"2020-10-09T02:01:49.626Z"},{"id":"Y1lkHiPLQMSsAwzHkKEgXQ","meta":{"layout":"post","date":"2016-04-07 13:43","comments":true,"categories":["Elasticsearch","Logstash","Kibana","安裝魂","就只是篇筆記"],"published":true},"title":"ELK 安裝筆記","content":"\n# ELK 安裝筆記\n\n這份其實是學校作業（逃）。雖然說是作業，但也還算有分享的價值，就在此整理出來。因為主力機 MBA 的儲存空間快炸了，所以我在 AWS 上開了一台 `t2.medium` 的機器來跑 Spark 以及 ELK Stack。在課堂中， ELK 是以下載 binary zip 包的方式設定，因為小弟習慣用 APT 套件管理程式，所以裝 ELK 相關設定方式也和 binary zip 不太一樣。\n\n安裝過程主要參考[數位海的這篇][1]，還有上課簡報。數位海這篇超詳細的，可以交互對照一下。\n\n[1]: https://www.digitalocean.com/community/tutorials/how-to-install-elasticsearch-logstash-and-kibana-elk-stack-on-ubuntu-14-04\n\n## 安裝 Java 8\n\n```bash\nsudo add-apt-repository -y ppa:webupd8team/java\nsudo apt-get update\nsudo apt-get -y install oracle-java8-installer\n```\n\n## 安裝 ElasticSearch\n\n```bash\nwget -qO - https://packages.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -\necho \"deb http://packages.elastic.co/elasticsearch/2.x/debian stable main\" | sudo tee -a /etc/apt/sources.list.d/elasticsearch-2.x.list\nsudo apt-get update\nsudo apt-get -y install elasticsearch\n```\n\n到這邊裝完，然後編輯 ElasticSearch 設定檔：\n\n```bash\nsudo vi /etc/elasticsearch/elasticsearch.yml\n```\n\n把 network.host 改成 `0.0.0.0`，讓外網也可以存取。\n\n![](https://i.imgur.com/dlKuGDm.png)\n\n\u003e 註：之後還會搭上 nginx 的 reverse proxy，並裝上前端 kibana，這裡為了安全性也可以不要改。\n\n重啟 elasticsearch 的服務：\n\n```bash\nsudo service elasticsearch restart\n```\n\n讓它開機時自動啟動（Optional）\n\n```bash\nsudo update-rc.d elasticsearch defaults 95 10\n```\n\nElasticSearch binary 檔的位置在 `/usr/share/elasticserach/bin`。\n\n安裝 head plugin：\n\n```bash\nsudo /usr/share/elasticserach/bin/plugin install mobz/elasticsearch-head\n```\n\n把 iptable 打開\n\n```bash\nsudo iptables -A INPUT -m tcp -p tcp --dport 9200 -j ACCEPT\nsudo iptables -A INPUT -m udp -p udp --dport 9200 -j ACCEPT\n```\n\n記得在 EC2 打開 9200 port，這時候開啟瀏覽器，進到\n\n```bash\nhttp://YOUR_IP_ADDRESS:9200/_plugin/head\n```\n\n就有一個簡單的圖形界面啦。\n\n## 安裝 Kibana\n\n```bash\necho \"deb http://packages.elastic.co/kibana/4.4/debian stable main\" | sudo tee -a /etc/apt/sources.list.d/kibana-4.4.x.list\nsudo apt-get update\nsudo apt-get -y install kibana\n```\n\n到這裡裝完，然後編輯 kibana 的設定檔：\n\n```bash\nsudo vi /opt/kibana/config/kibana.yml\n```\n\n把 server.host 從 `0.0.0.0` 改成 `localhost`，因為稍後會裝 nginx 來做我們的反向代理：\n\n```bash\nserver.host: \"localhost\"\n```\n\n加入開機啟動，然後啟動服務：\n\n```bash\nsudo update-rc.d kibana defaults 96 9\nsudo service kibana start\n```\n\n安裝 nginx 啥的\n\n```bash\nsudo apt-get install nginx apache2-utils\n```\n\n建立一個 kibanaadmin 的認證使用者（名稱可換）\n\n```bash\nsudo htpasswd -c /etc/nginx/htpasswd.users kibanaadmin\n```\n\n編輯 nginx 設定檔\n\n```bash\nsudo vi /etc/nginx/sites-available/default\n```\n\n換成下面這個\n\n```nginx\nserver {\n    listen 80;\n\n    server_name example.com;\n\n    auth_basic \"Restricted Access\";\n    auth_basic_user_file /etc/nginx/htpasswd.users;\n\n    location / {\n        proxy_pass http://localhost:5601;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_set_header Host $host;\n        proxy_cache_bypass $http_upgrade;\n    }\n}\n```\n\n`example.com` 的地方，看你要換成 Instance 的 IP 或是 domain name 都可以。EC2 可以換成 public dns name。\n\n重啟 nginx\n\n```bash\nsudo service nginx restart\n```\n\n## 安裝 Logstash\n\n```bash\necho 'deb http://packages.elastic.co/logstash/2.2/debian stable main' | sudo tee /etc/apt/sources.list.d/logstash-2.2.x.list\nsudo apt-get update\nsudo apt-get install logstash\n```\n\n中間數位海插了一段設定 SSL 的，因為我沒有要用就跳過這部分。\n\nLogstash 安裝完的 binary 會在 `/opt/logstash/bin` 。\n\n## 設定 Logstash\n\n```bash\nsudo vim /etc/logstash/conf.d/02-twitter.conf\n```\n\n填入以下內容\n\n```logstash\ninput {\n    twitter {\n        consumer_key =\u003e \"\"\n        consumer_secret =\u003e \"\"\n        oauth_token =\u003e \"\"\n        oauth_token_secret =\u003e \"\"\n        keywords =\u003e [\"beauty\"]\n        languages =\u003e [\"en\"]\n        full_tweet =\u003e true\n    }\n\n}\noutput {\n    elasticsearch {\n        index =\u003e \"twitter\"\n    }\n}\n```\n\noauth 的 key 就填自己申請的，keywords 填自己要的，然後存檔離開。\n\n接下來跑\n\n```bash\nsudo service logstash configtest\n```\n\n看一下設定檔有沒有寫錯， 然後重啟 logstash 服務，並加入開機自啟動(Optional)\n\n```bash\nsudo service logstash restart\nsudo update-rc.d logstash defaults 96 9\n```\n\n原則上這時候登入 kibana 或是在 head 儀表板就可以看到記錄數一直增多了 :p\n\n## 匯出資料\n\n我用了 [elasticsearch-dump](https://github.com/taskrabbit/elasticsearch-dump) 套件，記得先裝好 node v1.0 以上版本。\n\n```bash\nnpm install elasticdump -g # 安裝\nelasticdump --input=http://localhost:9200/twitter --output=twitter.json # 一鍵匯出\n```\n\n## 上傳\n\n之前 Github 推了 LFS(Large File Storage)，json 雖然純文字檔很好壓縮，但無論怎麽壓還是有點難推進到 100 MB ，也就是 Github 支援的最大容量，以內。勢必就要來用下 git-lfs 了。\n\n![](https://i.imgur.com/ypwyyN4.png)\n\n## 匯出的資料格式\n\n搜尋的關鍵字是 beauty，你知道 twitter 上最多這種圖帳了，多訂閱幾個總是使人心情愉悅 #)\n\n```json\n{\n  \"_index\": \"twitter\", // 灌入到 elasticsaerch 裡的資料表\n  \"_type\": \"logs\",\n  \"_id\": \"AVPCY9McFvHLlvNymVV9\", // elasticearch 產生的 id\n  \"_score\": 1,\n  \"_source\": {\n    \"created_at\": \"Tue Mar 29 12:40:34 +0000 2016\", // 建立於\n    \"id\": 714794377491587100, // twitter 的 tweets id\n    \"id_str\": \"714794377491587072\",\n    \"text\": \"Regina King On The 'Fascinating' Beauty Of Black Women's Hair https://t.co/0838uXkQ1e @HannahOliver152\",\n    \"source\": \"\u003ca href=\\\"http://dlvr.it\\\" rel=\\\"nofollow\\\"\u003edlvr.it\u003c/a\u003e\",\n    \"truncated\": false,\n    \"in_reply_to_status_id\": null,\n    \"in_reply_to_status_id_str\": null,\n    \"in_reply_to_user_id\": null,\n    \"in_reply_to_user_id_str\": null,\n    \"in_reply_to_screen_name\": null,\n    \"user\": { // twitter user 的資料\n      \"id\": 2558258431, // user id\n      \"id_str\": \"2558258431\",\n      \"name\": \"Hannah Oliver\", //名字\n      \"screen_name\": \"HannahOliver152\", //帳號名\n      \"location\": null,\n      \"url\": \"http://www.wordpress.com\",\n      \"description\": \"Our life always expresses the result of our dominant thoughts.\",\n      \"protected\": false,\n      \"verified\": false,\n      \"followers_count\": 31,\n      \"friends_count\": 11,\n      \"listed_count\": 6,\n      \"favourites_count\": 0,\n      \"statuses_count\": 17481,\n      \"created_at\": \"Tue Jun 10 05:18:02 +0000 2014\",\n      \"utc_offset\": null,\n      \"time_zone\": null,\n      \"geo_enabled\": false,\n      \"lang\": \"en\",\n      \"contributors_enabled\": false,\n      \"is_translator\": false,\n      \"profile_background_color\": \"C0DEED\",\n      \"profile_background_image_url\": \"http://abs.twimg.com/images/themes/theme1/bg.png\",\n      \"profile_background_image_url_https\": \"https://abs.twimg.com/images/themes/theme1/bg.png\",\n      \"profile_background_tile\": false,\n      \"profile_link_color\": \"0084B4\",\n      \"profile_sidebar_border_color\": \"C0DEED\",\n      \"profile_sidebar_fill_color\": \"DDEEF6\",\n      \"profile_text_color\": \"333333\",\n      \"profile_use_background_image\": true,\n      \"profile_image_url\": \"http://pbs.twimg.com/profile_images/476232749041201152/yWKGqAkC_normal.jpeg\",\n      \"profile_image_url_https\": \"https://pbs.twimg.com/profile_images/476232749041201152/yWKGqAkC_normal.jpeg\",\n      \"profile_banner_url\": \"https://pbs.twimg.com/profile_banners/2558258431/1402377722\",\n      \"default_profile\": true,\n      \"default_profile_image\": false,\n      \"following\": null,\n      \"follow_request_sent\": null,\n      \"notifications\": null\n    },\n    \"geo\": null,\n    \"coordinates\": null,\n    \"place\": null,\n    \"contributors\": null,\n    \"is_quote_status\": false,\n    \"retweet_count\": 0,\n    \"favorite_count\": 0,\n    \"entities\": {\n      \"hashtags\": [],\n      \"urls\": [\n        {\n          \"url\": \"https://t.co/0838uXkQ1e\",\n          \"expanded_url\": \"http://dlvr.it/Kw7QcG\",\n          \"display_url\": \"dlvr.it/Kw7QcG\",\n          \"indices\": [\n            62,\n            85\n          ]\n        }\n      ],\n      \"user_mentions\": [\n        {\n          \"screen_name\": \"HannahOliver152\",\n          \"name\": \"Hannah Oliver\",\n          \"id\": 2558258431,\n          \"id_str\": \"2558258431\",\n          \"indices\": [\n            86,\n            102\n          ]\n        }\n      ],\n      \"symbols\": []\n    },\n    \"favorited\": false,\n    \"retweeted\": false,\n    \"possibly_sensitive\": false,\n    \"filter_level\": \"low\",\n    \"lang\": \"en\",\n    \"timestamp_ms\": \"1459255234488\",\n    \"@version\": \"1\",\n    \"@timestamp\": \"2016-03-29T12:40:34.000Z\"\n  },\n  \"fields\": {\n    \"@timestamp\": [\n      1459255234000\n    ]\n  }\n}\n```\n\n（完）\n\n[1]: https://github.com/Yukaii/CS5124701\n[2]: https://www.digitalocean.com/community/tutorials/how-to-install-elasticsearch-logstash-and-kibana-elk-stack-on-ubuntu-14-04\n","date":{"year":"2016","month":"04","day":"07"},"slug":"elk-installation-notes","tags":[],"publishedAt":"2020-10-09T01:59:51.188Z"},{"id":"hkWfsFE-RgOQgyiJcu8tiw","meta":{"layout":"post","date":"2016-04-01 14:46","comments":true,"categories":["aws","codedeploy","wordpress","official","tutorial","workthrough","notes"]},"title":"使用 AWS CodeDeploy 跑起你的 WordPress - 官方教學筆記","content":"\n# 使用 AWS CodeDeploy 跑起你的 WordPress - 官方教學筆記\n\n為何要部屬 WordPress？就因為他是 [CodeDeploy][1] Tutorial 的第一個範例。AWS Documention 有個特點，就是到處 Reference 來 Reference 去，你很難在單一流程完整跑完所有的任務，非得要搭著其它份文件一起對照。筆者英文也沒那麼好，看著看著就會漏東漏西，文件又滿滿的都是字，沒有圖片可以參考，真令人崩潰。\n\nCodeDeploy 是 AWS 眾多部屬方案中，看起來比較單純的一種。寫好 Setup 程式的 Shell Script，再聲明好 `appspec.yml`，定義每個 deploy life cycle 不同的階段要跑的動作，用 AWS CLI Tool 把 repo 打包上傳到 S3，再到 CodeDeploy console 定義應用程式部屬規則、後臺發起一個 deployment（一個部屬行動），CodeDeploy Service 便會把你的 code 部屬到你設定的 Deployment Group，依照 Group 設定的機器不同，你可以在同一個機器部屬很多個 Application，或是同一個 Application 部屬到很多台機器，端看設定，啦。\n\n當然，AWS 系列就是啥都可以用 CLI 跑，只要開好對應權限的 role 並拿到 Access ID 和 Secret Key，我們也可以交由第三方 CI 服務，比如說 CodeShip，來幫我們完成「打包程式碼並上傳 S3」、「發起部屬行動」這種的工作。\n\n以下便大致記錄一下本日折騰的感想與流程。\n\n\u003c!--more--\u003e\n## 概念\n\nCodeDeploy 約略是 14 年 11 月推出的服務，在此幹一張官圖，看圖說故事。\n![CD](http://docs.aws.amazon.com/codedeploy/latest/userguide/images/sds_architecture.png)\n\n1. 在你的開發機器上寫好 code 、設定好 appspec.yml，上傳到 github 或是打包傳到 s3\n2. 在 CodeDeploy 設定好部屬邏輯\n3. 每一台 instance 的 agent 把 codebase 從 s3 或 github 拉下來\n4. 跑部屬 script！裝裝裝\n\n大概醬，英文版可以看[這][3]，另外強烈建議 aws 系列最好都先從 [Concept][4] 開始看，要不然鐵定被無限連結地獄搞死，崩潰。\n\n## 名詞解說\n\n可以開好[官方教學][5]的分頁，淨身準備一下，接下來講解教學中會出現的名詞。其實名詞解釋放在教學開頭實在是挺不好的，我自己跑教學也是跟著實作之後才有點感覺，在還沒進行操作前做的說明都是廢話。話雖然是這樣說啦，可是這是筆記又不是演講，你翻到下面還是可以翻回來看啊，所以我還是寫在這了。呵呵。滿多中文名詞都我隨便翻的 XD，中文文件越少，我就掌握著更多的話語權（才怪），大家趕快來寫文件吧哈哈。\n\nAWS 在各種服務開 API 開很大開不用錢的狀況下，權限的管理便十分重要，阿罵爽雲端福利社使用 IAM 角色權限管理服務，來區分出不同服務或使用者，對於 AWS 服務使用的權限隔離。舉例來說，CodeDeploy 在 AWS 裡算是一個服務(Service)，雖然通通都是在 AWS 裡啦，但是你還是要給他一些對 AWS 資源的存取權限才可以，比如說當我們對好幾臺 EC2 Instances 設定了標籤（Tag），我們也要給 CodeDeploy 讀取 EC2 Intance 標籤的權限，CodeDeploy 才知道要部屬到哪幾台機器上啊，這就是權限管理的作用。\n\n不同的權限，在 IAM 裡就叫做 Policy（方針）。當人有了多項 Policy 之後，能力越大，責任越重，你所要承擔的就是職責了（屁話），在 IAM 裡我們把他稱作角色職責 (Role）。在 AWS 裡面有不同的服務，Role 的類型也都不同，比如 EC2 Instance 的 Role 就叫 Instance Profile，用來管理 EC2 能有那些權限，在 CodeDeploy 官方教學裡，EC2 的職責是把用 agent 把 codebase 從 s3 拉下來，所以在啟動 Instance 之前，我們必須先設定好能夠存取 S3 的 Instance Profile，並在啟動(Launch) Instance 把 Role 指派給他。\n\n![](https://i.imgur.com/0ulM7UH.png)\n不同的 Role Type。CodeDeploy 教學中用到的分別是 CodeDeploy 和 EC2 的 Role Type。\n\n![](https://i.imgur.com/on614NX.png)\nCodeDeploy 的 Service Role，直接掛上 AWS 建立好的 Policy，可以直接看出使用了那些權限。\n\n## 跑教學...咦\n\n我前面嫌的要死，就因為這次跑教學真的打死也找不到安裝 CodeDeploy agent 的步驟，反反覆覆翻了教學幾次，卻一直找不到哪裡出錯。以下來回顧一下。\n\n首先，[照著教學][5]的說明先在 EC2 Launch 一個 Instance。他第一步教學的作用其實就是給你一個預先裝好 aws cli tools 的環境，好使用 cli 界面打包上傳 code 到 s3，用你自己的電腦其實就可以了。設定好 Keypair，透過 pem 檔 ssh 進機器後，先來[安裝 codedeploy agent 到機器上][6]。裝到一半你會發現連 agent 的 aws s3 bucket 都抓不下來，原來是我們還沒設定 EC2 的 [Instance Profile][7]，也就是 EC2 類型的 Role。請去 IAM 設定，並如同連結裡面加上 S3 的存取權限。這權限一定要開，即使現在用 wget 直接拉 bucket 的 agent install script 下來裝完，之後要從 s3 部屬時沒開也沒法抓啊。\n\n```json\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n      {\n        \"Action\": [\n          \"s3:Get*\",\n          \"s3:List*\"\n        ]\n      }\n    ]\n  }\n```\n_範例 S3 的 widecard 權限，當然還是詳細指定比較好。先新增 Policy，在建立 EC2 Type 的 Role Attach 上去，或是建立 Role 時寫成 Inline Policy。_\n\n是的。就是這兩點搞死我。**第一，EC2 Role 要先設定 S3 存取權，並在 Instance 建立時掛載。第二，CodeDeploy Agent 要先裝上 Instance**。\n\n教學是都搜尋的到啦，可是排成一個完整版不好嗎，都已經拆 Step by Step 了，還 Lost 一堆，崩潰啦，難怪各種 AWS 代管服務蓬勃發展啊無誤 XDDD\n\n## 再跑一次\n\n* 首先在 IAM 建立兩個 Role ，一個是給 EC2 的，一個是給 CodeDeploy 的。EC2 Role 直接用上面提到的 S3 Bucket 權限寫進去，EC2 的 Role 又稱 Instance Profile，呵。CodeDeploy 的 Role 直接掛上官方的 CodeDeployPolicy，如圖：\n    ![](https://i.imgur.com/F15UVaN.png)\n* 依照教學 Launch Amazon 的 Linux Instance，記得掛上剛剛建立的 EC2 Role。成功 ssh 連進去後安裝 [code deploy agent][6]，ubuntu 就選 apt 的那個，Amazon 自家 Linux 就選 yum 的那個，把他裝起來。\n* 依照教學，把 WordPress 的 Repo 載下來，建立相應的 init script 還有 `appspec.yml`。\n* 依照教學，利用 aws cli 建立 application，上傳 s3，這邊依照教學要開一份 IAM 的 User，掛上 s3 put 的權限，下載 User 的 credential (id \u0026 secret key)，跑 aws configure 填入設定，這樣才可以在這臺暫時的工作機上傳檔案到 s3。依照教學打包 WordPress 上傳 s3。\n* 到 CodeDeploy Console 建立 Deploy 設定。設定 DeployGroup，權限記得掛上之前建立的 CodeDeploy Service Role，其它照著跑。\n* 建立部屬行動(Deployment，the 名詞)，看有沒有部屬成功。假如連 Events 都沒顯示，大概是 IAM 權限設定有問題，看一下 EC2 Role 和 CodeDeploy Role 有沒有設定正確\n\n大概就這樣啦，這還只是 WordPress 而已，我要部屬的可是 Rails App 欸，之後想必有更細節的其它地方。這樣跑完了一次（還順便被雷了一下午），對 AWS 的理解就更深了，請期待之後的後續文章，哈哈哈（不要說一說就不寫了）\n\n（完）\n\n\n[1]: http://docs.aws.amazon.com/codedeploy/latest/userguide/welcome.html\n[2]: http://www.slideshare.net/masonmei37/aws-59233295\n[3]: http://docs.aws.amazon.com/codedeploy/latest/userguide/welcome.html\n[4]: http://docs.aws.amazon.com/codedeploy/latest/userguide/concepts.html\n[5]: http://docs.aws.amazon.com/codedeploy/latest/userguide/getting-started-set-up-instance.html\n[6]: http://docs.aws.amazon.com/codedeploy/latest/userguide/how-to-run-agent.html\n[7]: http://docs.aws.amazon.com/codedeploy/latest/userguide/how-to-configure-existing-instance.html","date":{"year":"2016","month":"04","day":"01"},"slug":"use-aws-codedeploy-deploy-wordpress","tags":[],"publishedAt":"2020-10-09T01:58:49.901Z"},{"id":"z1ql3aEJRB2T_VbIu83hAg","meta":{"layout":"post","date":"2016-03-26 04:25","comments":true,"categories":null},"title":"從 Hackpad 搬家到 Quip","content":"\n# 從 Hackpad 搬家到 Quip\n\n![hackpad](https://i.imgur.com/pubL39L.png)\n\n你知道，Hackpad 自從[被 Dropbox 買走之後][1]就沒增加新功能了，從 15 年四月[收到信說要幾周後開源][2]，也是過了很久的[八月][3]才完成(雖然也沒有很久啦)。當然技術公司的整並進去必定要做一堆的交接、磨合、修改成能開源的版本；不過十二月時又有 Dropbox 關掉 Mailbox 的[前車之鑑][4]，一路看下來我們還是多做幾個備份好 :p\n\nQuip 的好就不用多說了，由 Facebook 前 CTO Bret Taylor [創立][5]，最近才在 15 年十月拿到 [30M 的 B 輪投資金][6]，結合 [React Native C++ Binding][7] 強大技術力的 Desktop Client，近幾個月來也[持續在 UI、功能][8]上優化，前途真是一片光明啊(?)。\n\n把 Hackpad 轉移到 Quip 確實是個不錯的決定（鋪陳這麼久就為了這句 XD），加上 Quip 也非常 Nice 的提供此功能：\n\n\u003cblockquote class=\"twitter-tweet\" data-lang=\"zh-tw\"\u003e\u003cp lang=\"en\" dir=\"ltr\"\u003eSome of our users have asked us for a \u003ca href=\"https://twitter.com/hackpad\"\u003e@Hackpad\u003c/a\u003e import tool, and we wanted to share it with you. Check it out! \u003ca href=\"https://t.co/VstwZVEiLb\"\u003ehttps://t.co/VstwZVEiLb\u003c/a\u003e\u003c/p\u003e\u0026mdash; Quip (@quip) \u003ca href=\"https://twitter.com/quip/status/475767564383961088\"\u003e2014年6月8日\u003c/a\u003e\u003c/blockquote\u003e\n\u003cscript async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"\u003e\u003c/script\u003e\n\nWell, 早在 14 年吶。雖然 Dropbox Paper（前 Hackpad）也有[提供導入功能][9]，不過竟然還需要寫信到客服信箱，告知要匯入的 workspace 之後才能匯入。產品已經變你們家的，竟然還沒有無痛一鍵匯入是哪招啦 XDD。於是我的 Quip 搬家行動是勢在必行了，以下就略述這個從 hackpad 搬家到 quip 的過程。\n\n\u003c!--more--\u003e\n\n## 由 Hackpad 匯入至 Quip\n\n1. 首先進入網頁版的 quip，點選右上的「新增文件」，依序選擇 「Upload or Import」、「Hackpad」：\n\n    ![Screen Shot 2016-03-26 at 12.49.26 PM.png](http://user-image.logdown.io/user/1128/blog/1112/post/682044/fQIA64NTvGEeUis5Kor4_Screen%20Shot%202016-03-26%20at%2012.49.26%20PM.png)\n\n    ![Screen Shot 2016-03-26 at 12.49.33 PM.png](http://user-image.logdown.io/user/1128/blog/1112/post/682044/xfyJX8pgRryigqZyf1GL_Screen%20Shot%202016-03-26%20at%2012.49.33%20PM.png)\n\n2. 填入 hackpad 的 workspace name（`workspace_name.hackpad.com`）：\n\n    ![Screen Shot 2016-03-26 at 12.49.43 PM.png](http://user-image.logdown.io/user/1128/blog/1112/post/682044/s6j3UXgnSkOgGrjhHJxS_Screen%20Shot%202016-03-26%20at%2012.49.43%20PM.png)\n\n3. 點入 Quip 提示的連結（`https://workspace_name.hackpad.com/ep/account/settings`），並填入 `Client ID` 和 `API Key`：\n\n    ![Screen Shot 2016-03-26 at 12.50.13 PM.png](http://user-image.logdown.io/user/1128/blog/1112/post/682044/75bxVjF0Sc6RSyb5JhCh_Screen%20Shot%202016-03-26%20at%2012.50.13%20PM.png)\n\n4. 點 Import Pads to Folder，Quip 就會開始匯入了，結果如圖：\n\n    ![](https://i.imgur.com/NgGR1vi.png)\n\n## 修正 Quip Importer 權限\n\n如果你是 workspace 的 admin，你會發現在 workspace 中，**由其他人建立的 pads 不會被 Quip 匯入**，我們需要修正權限才能讓其它 pads 被正確的匯入。\n\n1. 首先到 Hackpad 的 account manager（`https://workspace_name.hackpad.com/ep/admin/account-manager/`）\n\n    ![](https://i.imgur.com/13MF60X.png)\n\n2. 由把 Quip Importer 的權限由 Guest 調整成 Member，選完之後點 Update\n\n    ![](https://i.imgur.com/hcLssW5.png)\n\n3. 再等一下，剩餘文件就會陸續匯進 Quip 中。\n\n（完）\n\n[1]: https://hackpad.com/Hackpad-is-teaming-up-with-Dropbox-m1Fne5A6Lzn\n[2]: https://github.com/hackpad/hackpad/issues/1\n[3]: http://venturebeat.com/2015/08/21/dropbox-finally-open-sources-its-hackpad-collaborative-document-editor/\n[4]: https://blogs.dropbox.com/dropbox/2015/12/saying-goodbye-to-carousel-and-mailbox/\n[5]: https://en.wikipedia.org/wiki/Quip\n[6]: https://www.crunchbase.com/organization/quip/funding-rounds\n[7]: https://medium.com/@btaylor/react-with-c-building-the-quip-mac-and-windows-apps-c63155c1531b#.cmtg0ajpc\n[8]: https://quip.com/blog/\n[9]: https://paper.dropbox.com/doc/Dropbox-Paper-beta-Is-Ready-For-You-Xlvlkb3yI23hLvuZxvn2Q\n","date":{"year":"2016","month":"03","day":"26"},"slug":"from-hackpad-to-quip","tags":[],"publishedAt":"2020-10-09T01:58:05.379Z"},{"id":"nsbhQV9ASpiNKwg7YP91UA","meta":{"layout":"post","date":"2016-03-19 13:17","comments":true,"categories":["ruby","gem","欸嘿"]},"title":"弄了一個統一發票查詢的 gem","content":"\n# 弄了一個統一發票查詢的 gem\n\n感覺很久沒發文章了。\n\n因為正在準備大重構敝司的程式碼，最近這兩天，就把八個多月前寫的一個「統一發票兌獎」的 gem 給重構了一番，順便找一下手感。\n\n其實無非就是加些 class，修一些 bug，補些測試，還是來這邊記錄一下，畢竟也半年多沒更新了 XD\n\n[Uniform Invoice Lottery(Github)](https://github.com/Yukaii/uniform-invoice-lottery)\n\n## 安裝\n\n一如往常在 `Gemfile` 加上\n\n```ruby\ngem 'uniform_invoice_lottery'\n```\n然後跑 bundle\n\n\n## 使用範例\n\n```ruby\nrequire 'uniform_invoice_lottery'\nprize = UniformInvoiceLottery.check '82930261', time: Time.new(2015, 7, 26)\nprize = UniformInvoiceLottery.check '82930261', year: 2015, month: 7 day: 26\n\nputs prize.amount # =\u003e \"10000000\"\nputs prize.title  # =\u003e \"特別獎\"\n```\n\n大概這樣，資料是從[財政部這](http://www.etax.nat.gov.tw/etwmain/front/ETW183W1)抓的。不過我的 css selector 過了八個月又大修了一番，希望別再無效了 :p","date":{"year":"2016","month":"03","day":"19"},"slug":"taiwan-uniform-invoice-lottery-ruby-gem","tags":[],"publishedAt":"2020-10-09T01:56:54.254Z"},{"id":"NRiCPs0KTguj2N4uDC84gg","meta":{"layout":"post","date":"2015-04-26 15:44","comments":true,"categories":null},"title":"讓免費 Heroku App 不會自動關機","content":"\n# 讓免費 Heroku App 不會自動關機\n\n免費的 Heroku 開的 App 只要過半小時，就會自動關機。雖然啟動很快，不過體驗就差了。\n\n一般的做法是安裝 [newrelic](https://newrelic.com) 監控，每隔一段時間交流一下，就可維持開機狀態。不過本 ghost 部落格一直設定不起來 newrelic 的 node 套件，只好找了個替代品 [UptimeRobot](https://uptimerobot.com) 來使用。免費的方案可以 monitor 五十個站台，最短 interval 為五分鐘，夠用了。\n\n表現倒是不錯，設定每十五分鐘左右自動 ping 個，就和一般網站一樣啦，皆大歡喜 XD。\n\n\n![螢幕快照 2015-04-23 上午1.46.37.png](http://user-image.logdown.io/user/1128/blog/1112/post/261901/XxmpYw7CQkESsvFqbM9n_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202015-04-23%20%E4%B8%8A%E5%8D%881.46.37.png)\n","date":{"year":"2015","month":"04","day":"26"},"slug":"eighth-get-free-heroku-app-does-not-automatically-shut-down","tags":[],"publishedAt":"2020-10-09T01:52:28.790Z"},{"id":"-EDcBkAmQW6IUSe5rsdExQ","meta":{"layout":"post","date":"2015-04-26 15:49","comments":true,"categories":["just","for","fun","哈哈","沒有反串","真實經營","小編胖胖","不要問我","到底是誰","我會被打","哈哈哈哈"]},"title":"綜合外電施旖婕(41J)","content":"\n# 綜合外電施旖婕(41J)\n\n以下轉自我的 [Github](https://github.com/Yukaii/Apple-Watch)。\n\n## 蘋果日報即時新聞監看，簡稱 Apple Watch\n\n## 這是幹嘛的？\n\n不知大家有沒有聽過「施旖婕」這響叮噹的名號，總之就是蘋果日報專發腥羶色新聞的專用作者名，\u003cdel\u003e不管了就是我老婆\u003c/del\u003e。詳細可以 follow [八卦版系列文](https://www.ptt.cc/bbs/Gossiping/M.1429255977.A.672.html)。\n\n於是就寫了一份可以監看[蘋果日報即時新聞](http://appledaily.com.tw/realtimenews/section/new/)的 Rails 服務，目前在上面可以看到每天蘋果日報上，記者施旖婕所 PO 的綜合外電，感受世界各地滿滿的惡意(X)。\n\n目前部署在 heroku，因為是，定時用 [UptimeRobot](posts/261901/eighth-get-free-heroku-app-does-not-automatically-shut-down) 戳一下讓它自動跑 task 即可。\n\n## Todos\n\n* 前端\n* 統計圖表(等資料量至少累積一個月吧 XD)\n* Administration(爽度問題)\n* 串 Facebook Message API，讓你隨時感受 1J 的愛\n* \u003cdel\u003e自動 PO [粉絲專頁-綜合外電施旖婕](https://www.facebook.com/ShiYiJieJournalist)\u003c/del\u003e 已完成\n* 熱門度(自動更新蘋果上面的熱門度，加上自己站上的)\n\n等等，好像還挺多的。\n\n好玩嘛\n","date":{"year":"2015","month":"04","day":"26"},"slug":"tenth-chapter-new-york-shi-yijie","tags":[],"publishedAt":"2020-10-09T01:54:07.701Z"},{"id":"J2c3hG2FRWSS_HXmJkhrPg","meta":{"layout":"post","date":"2015-02-19 13:13","comments":true,"categories":null},"title":"CampusBooks.com API 使用記錄","content":"\n# CampusBooks.com API 使用記錄\n\n好久不見！忙裡偷閒的來篇小記，重理思路再出發。\n\n近一兩個月都在都在處理跟書相關的事，畢竟也算半個書商了，在書籍資料搜尋上，和大家介紹個好站。\n\n## 簡介\n\n[CampusBooks.com](http://www.campusbooks.com/)，據說也是做 SEO 的公司起家，透過此網站，你可以方便的搜尋各類教科書的資料，書名作者 isbn 都基本，還可以直接顯示在各大書店價錢：\n\u003c!--more--\u003e\n\n\n![螢幕快照 2015-02-19 下午9.17.53.png](http://user-image.logdown.io/user/1128/blog/1112/post/255688/ELEkkxHRTyZG68ICOkhQ_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202015-02-19%20%E4%B8%8B%E5%8D%889.17.53.png)\n\nGoogle 得知他也是有[開放 api 的](http://www.campusbooks.com/company/api3_documentation.php)，只是要合作才能申請 API key，想想也沒美國時間，就 inspect 了一下他的網站，發現十分工整 rest url：\n \n![螢幕快照 2015-02-16 下午2.55.17.png](http://user-image.logdown.io/user/1128/blog/1112/post/255688/iMXYb7oGQmSFYrw7ny9v_%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202015-02-16%20%E4%B8%8B%E5%8D%882.55.17.png)\n\n就直接拿 api key 來用了哈哈。\n\n```shell\nSITE_API_KEY = PA52HnTGaTSyizTOq4j1\n```\n\n## API\n\n對照了網路上僅存的[第三版 api document](http://www.campusbooks.com/company/api3_documentation.php) 看，先列出幾個基本的，有需要再慢慢找啦：\n\n### 透過 isbn 拿書資料\n\n```shell\nGET http://api2.campusbooks.com/13/rest/bookinfo?key=API_KEY_HERE\u0026isbn=xxxxxxx\u0026format=json\n```\n\n可以把 json response 打開，否則預設是 xml：\n\n```\n\u0026format=json\n```\n\n範例結果：\n\n```json\n{\n    \"response\": {\n        \"status\": \"ok\",\n        \"version\": \"13\",\n        \"label\": {\n            \"plid\": \"0\",\n            \"name\": \"CampusBooks.com\",\n            \"website_id\": \"0\",\n            \"website_name\": \"CampusBooks.com\"\n        },\n        \"page\": {\n            \"name\": \"books\",\n            \"f\": \"search\",\n            \"books\": {\n                \"page\": 1,\n                \"limit\": 1,\n                \"results_returned\": 1,\n                \"total_pages\": 1,\n                \"total_results\": 1,\n                \"book\": [\n                    {\n                        \"isbn10\": \"1111570051\",\n                        \"isbn13\": \"9781111570057\",\n                        \"author\": \"\",\n                        \"binding\": \"Paperback\",\n                        \"edition\": \"\",\n                        \"image\": {\n                            \"width\": 60,\n                            \"height\": 75,\n                            \"image\": \"http://ecx.images-amazon.com/images/I/51XzAECQ6xL._SL75_.jpg\"\n                        },\n                        \"msrp\": 97.62,\n                        \"pages\": \"\",\n                        \"publish_date\": \"\",\n                        \"publisher\": \"Example Product Manufacturer\",\n                        \"rank\": 1603132,\n                        \"rating\": 0,\n                        \"title\": \"Brief Applied Calculus. James Stewart, James Stewart, Dan Clegg\"\n                    }\n                ]\n            }\n        }\n    }\n}\n```\n\n### 拿書價格\n\n把 price field 打開\n\n```shell\nGET http://api2.campusbooks.com/13/rest/bookinfo?key=API_KEY_HERE\u0026isbn=xxxxxxx\u0026format=json\u0026f=prices\n```\n\n輸出有點長就不貼了。\n\n## 小結\n\n根本沒長到需要寫小結啊（飛踢）\n\n如果沒差舊版的 API 文件太多，其他還有 search / bookprices 可以用，不過我沒有用到就暫時不寫了。\n\n基本上 campusbooks 的書是非常齊全了，他們有從 1998 開始的資料，[OpenLibrary](https://openlibrary.org/) 有些找不到的書，這裡都找的到；順帶一提，OpenLibrary 也有好用的 api，也有 ruby gem，就單本書的資料上會比 campusbooks 更齊。\n\n新年第一篇文，就祝大家新年快樂啦！\n","date":{"year":"2015","month":"02","day":"19"},"slug":"campusbooks-com-api-usage","tags":[],"publishedAt":"2020-10-09T01:51:21.792Z"},{"id":"1WoGTxuOR4GpNW7PcTqA7w","meta":{"date":"2000-01-01 00:00"},"title":"HackMD 相容 Markdown 測試","content":"\n# HackMD 相容 Markdown 測試\n\n\u003e 註：以下的內容取自 [HackMD Features](https://hackmd.io/s/features) 頁，用以比較 markdown-it 渲染成果\n\n**[English version](/features)**\n**[中文版](/features-tw)**\n**[日本語版](/features-jp)**\n\n**[:arrow_right: Check the source of this note :arrow_left:](/features?both)**\n\n**[Read the complete tutorial](https://hackmd.io/c/tutorials)**\n\nIntroduction\n===\n\u003ci class=\"fa fa-file-text\"\u003e\u003c/i\u003e **HackMD** is a realtime, multi-platform collaborative markdown knowledge base.\nYou can write notes with other people on your **desktop**, **tablet** or even on the **phone**.\n\nPlease report new issues in [GitHub](https://github.com/hackmdio/hackmd-io-issues/issues/new).\nIf you need instant help, please send us a [Facebook message](https://www.messenger.com/t/hackmdio).\n**Thank you very much!**\n\nWorkspace\n===\n## Modes\n**Desktop \u0026 Tablet**\n\n\u003ci class=\"fa fa-pencil fa-fw\"\u003e\u003c/i\u003e Edit: See only the editor.\n\u003ci class=\"fa fa-eye fa-fw\"\u003e\u003c/i\u003e View: See only the result.\n\u003ci class=\"fa fa-columns fa-fw\"\u003e\u003c/i\u003e Both: See both in split view.\n\n**Mobile**\n\n\u003ci class=\"fa fa-eye fa-fw\"\u003e\u003c/i\u003e View: See only the result.\n\u003ci class=\"fa fa-pencil fa-fw\"\u003e\u003c/i\u003e Edit: See only the editor.\n\n## Image Upload:\nYou can upload an image simply by clicking on the camera button \u003ci class=\"fa fa-camera\"\u003e\u003c/i\u003e.\nAlternatively, you can **drag-n-drop** an image into the editor. Even **pasting** images is possible!\nThis will automatically upload the image to **[imgur](http://imgur.com)**, nothing to worry. :tada:\n![](https://i.imgur.com/9cgQVqD.png)\n\n:::info\n:bulb: **Hint**: In the private team plan, the image will be uploaded to a private S3 storage and only accessible through the note.\n:::\n\n## Share Notes:\nPress the share button \u003ci class=\"fa fa-share-alt\"\u003e\u003c/i\u003e on the top right of the menu and click **Copy** button to copy the note URL link to your clipboard.\n\nTo publish and customize the note URL with permalink, please read **[How to Publish a Note with Permalink](https://hackmd.io/c/tutorials/%2Fs%2Fhow-to-publish-note)**.\n\n## Save a Note:\nCurrently, you can save to **Dropbox** \u003ci class=\"fa fa-dropbox\"\u003e\u003c/i\u003e, **Google Drive**, **Gist \u003ci class=\"fa fa-github\"\u003e\u003c/i\u003e** or save an `.md` file \u003ci class=\"fa fa-file-text\"\u003e\u003c/i\u003e and `.html` locally.\n\n## Import Notes:\nSimilarly to the _save_ feature, you can also import an `.md` or `.html` file from **Dropbox** \u003ci class=\"fa fa-dropbox\"\u003e\u003c/i\u003e, **Google Drive**, **Gist \u003ci class=\"fa fa-github\"\u003e\u003c/i\u003e** or import content from your **clipboard** \u003ci class=\"fa fa-clipboard\"\u003e\u003c/i\u003e, and that can parse some **HTML** which might be useful :smiley:\n\n## Permissions:\nIt is possible to change permissions to a note through the button on the share button \u003ci class=\"fa fa-share-alt\"\u003e\u003c/i\u003e on the top right of the menu, click the button and you will see the **Sharing** menu.\n\nFor **read** and **write** permissions, you can either choose: **Owners**, **Signed-in users** or **Everyone**.\n\nFor **commenting** permission, please click **More** in the sharing menu and choose either: **Forbidden**, **Owners**, **Signed-in users** or **Everyone**. You even can disable the commenting feature through the toggle \u003ci class=\"fa fa-toggle-on\"\u003e\u003c/i\u003e to the right of the commenting label.\n\n**Only the owners of the note can change above permissions.**\n\nTo invite specific user to a note, please read **[Invite Others to a Private Note](https://hackmd.io/c/tutorials/%2Fs%2Finvite)**.\n\n## Embed a Note:\nNotes can be embedded using iframe as follows:\n\n```xml\n\u003ciframe width=\"100%\" height=\"500\" src=\"https://hackmd.io/features\" frameborder=\"0\"\u003e\u003c/iframe\u003e\n```\n\nOr you can use embed syntax to include a note seamlessly, please read **[Embedding another note](https://hackmd.io/c/tutorials/%2Fs%2Fhow-to-embed-note)**.\n\n## [Slide Mode](/slide-example):\nYou can use a special syntax to organize your note into slides.\nAfter that, you can use the **Slide Mode** \u003ci class=\"fa fa-tv\"\u003e\u003c/i\u003e to make a presentation.\nVisit the above link for details.\n\n## [Book Mode](/book-example):\nYou can make your notes into a book.\nList your links in order or nest them.\nThen use the **Book Mode** \u003ci class=\"fa fa-book\"\u003e\u003c/i\u003e to make a collection.\nVisit the above link for details.\n\nView\n===\n## Table of Contents:\nYou can look at the bottom right section of the view area, there is a _ToC_ button \u003ci class=\"fa fa-bars\"\u003e\u003c/i\u003e.\nPressing that button will show you a current _Table of Contents_, and will highlight which section you're at.\nIf the view area is wide enough, to ToC will show directly at the right section of the view area.\n\nToCs support up to **three header levels**.\n\n## Header link\nEvery header will automatically add a url link on the left side.\nYou can hover and click \u003ci class=\"octicon octicon-link\"\u003e\u003c/i\u003e to anchor on it.\n\nEdit:\n===\n## Shortcut Keys:\nJust like Sublime text, which is pretty quick and convenient.\n\u003e For more infomation, see [here](https://codemirror.net/demo/sublime.html).\n\n## Auto-Complete:\nThis editor provides full auto-complete hints in markdown.\n- Emojis: type `:` to show hints.\n- Code blocks: type ` ``` ` and plus a character to show hint. \u003ci style=\"display: none;\"\u003e```\u003c/i\u003e\n- Headers: type `#` to show hint.\n- Referrals: type `[]` to show hint.\n- Externals: type `{}` to show hint.\n- Images: type `!` to show hint.\n\n## Title:\nThis will take the first **level 1 header** as the note title.\n\n## Tags:\nUsing tags as follows, the specified tags will show in your note list.\n###### tags: `features` `cool` `updated`\n\n## [YAML Metadata](/yaml-metadata)\nYou can provide advanced note information to set the browser behavior (visit above link for details):\n- title: set note title\n- description: set note description\n- image: set note default image (for link preview)\n- tags: set note tags\n- robots: set web robots meta\n- lang: set browser language\n- dir: set text direction\n- breaks: set to use line breaks\n- GA: set to use Google Analytics\n- disqus: set to use Disqus\n- slideOptions: setup slide mode options\n\n## ToC:\nUse the syntax `[TOC]` to embed table of content into your note.\n\n[TOC]\n\n## Emoji\nYou can type any emoji like this :smile: :smiley: :cry: :wink:\n\u003e See full emoji list [here](https://github.com/ikatyang/emoji-cheat-sheet).\n\n## ToDo List:\n- [ ] ToDos\n  - [x] Buy some salad\n  - [ ] Brush teeth\n  - [x] Drink some water\n\n## Code Block:\nWe support many programming languages, use the auto complete function to see the entire list.\n```javascript=\nvar s = \"JavaScript syntax highlighting\";\nalert(s);\nfunction $initHighlight(block, cls) {\n  try {\n    if (cls.search(/\\bno\\-highlight\\b/) != -1)\n      return process(block, true, 0x0F) +\n             ' class=\"\"';\n  } catch (e) {\n    /* handle exception */\n  }\n  for (var i = 0 / 2; i \u003c classes.length; i++) {\n    if (checkCondition(classes[i]) === undefined)\n      return /\\d+[\\s/]/g;\n  }\n}\n```\n\u003e If you want **line numbers**, type `=` after specifying the code block languages.\n\u003e Also, you can specify the start line number.\n\u003e Like below, the line number starts from 101:\n```javascript=101\nvar s = \"JavaScript syntax highlighting\";\nalert(s);\nfunction $initHighlight(block, cls) {\n  try {\n    if (cls.search(/\\bno\\-highlight\\b/) != -1)\n      return process(block, true, 0x0F) +\n             ' class=\"\"';\n  } catch (e) {\n    /* handle exception */\n  }\n  for (var i = 0 / 2; i \u003c classes.length; i++) {\n    if (checkCondition(classes[i]) === undefined)\n      return /\\d+[\\s/]/g;\n  }\n}\n```\n\n\u003e Or you might want to continue the previous code block's line number, use `=+`\n\n```javascript=+\nvar s = \"JavaScript syntax highlighting\";\nalert(s);\n```\n\n\u003e Sometimes you have a super long text without breaks. It's time to use `!` to wrap your code.\n\n```!\nWhen you’re a carpenter making a beautiful chest of drawers, you’re not going to use a piece of plywood on the back.\n```\n\n### Blockquote Tags:\n\u003e Using the syntax below to specifiy your **name, time and color** to vary the blockquotes.\n\u003e [name=ChengHan Wu] [time=Sun, Jun 28, 2015 9:59 PM] [color=#907bf7]\n\u003e \u003e Even support the nest blockquotes!\n\u003e \u003e [name=ChengHan Wu] [time=Sun, Jun 28, 2015 10:00 PM] [color=red]\n\n### Render CSV as table\n\nYou can use write csv in the codeblock:\n\n~~~md\n```csvpreview {header=\"true\"}\nfirstName,lastName,email,phoneNumber\nJohn,Doe,john@doe.com,0123456789\nJane,Doe,jane@doe.com,9876543210\nJames,Bond,james.bond@mi6.co.uk,0612345678\n```\n~~~\n\nwhich rendered to:\n\n```csvpreview {header=\"true\"}\nfirstName,lastName,email,phoneNumber\nJohn,Doe,john@doe.com,0123456789\nJane,Doe,jane@doe.com,9876543210\nJames,Bond,james.bond@mi6.co.uk,0612345678\n```\n\nWe use [Papa Parse](https://www.papaparse.com/) for parsing csv. The parsing option is given in braces: `{}`, and multiple options are seperated by a space. e.g. `{header=\"true\" delimiter=\".\"}`. Please read [their documentation](https://www.papaparse.com/docs#config) as reference.\n\n## Externals\n\n### YouTube\n{%youtube 1G4isv_Fylg %}\n\n### Vimeo\n{%vimeo 124148255 %}\n\n### Gist\n{%gist schacon/4277 %}\n\n### SlideShare\n{%slideshare briansolis/26-disruptive-technology-trends-2016-2018-56796196 %}\n\n### Speakerdeck\n{%speakerdeck sugarenia/xxlcss-how-to-scale-css-and-keep-your-sanity %}\n\n### PDF\n**Caution: this might be blocked by your browser if not using an `https` URL.**\n{%pdf https://www.w3.org/TR/WAI-WEBCONTENT/wai-pageauth.pdf %}\n\n## MathJax\n\nYou can render *LaTeX* mathematical expressions using **MathJax**, as on [math.stackexchange.com](http://math.stackexchange.com/), except the space after the start `$` and the space before the end `$` are not allowed in the inline math:\n\nThe *Gamma function* satisfying $\\Gamma(n) = (n-1)!\\quad\\forall n\\in\\mathbb N$ is via the Euler integral\n\nFor block level math, please give `$$` and a line break before and after your math formula:\n\n$$\nx = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}.\n$$\n\n$$\n\\Gamma(z) = \\int_0^\\infty t^{z-1}e^{-t}dt\\,.\n$$\n\n\u003e More information about **LaTeX** mathematical expressions [here](http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference).\n\n## UML Diagrams\n\n### Sequence Diagrams\n\nYou can render sequence diagrams like this:\n\n```sequence\nAlice-\u003eBob: Hello Bob, how are you?\nNote right of Bob: Bob thinks\nBob--\u003eAlice: I am good thanks!\nNote left of Alice: Alice responds\nAlice-\u003eBob: Where have you been?\n```\n\n### Flow Charts\n\nFlow charts can be specified like this:\n```flow\nst=\u003estart: Start\ne=\u003eend: End\nop=\u003eoperation: My Operation\nop2=\u003eoperation: lalala\ncond=\u003econdition: Yes or No?\n\nst-\u003eop-\u003eop2-\u003econd\ncond(yes)-\u003ee\ncond(no)-\u003eop2\n```\n\n### Graphviz\n```graphviz\ndigraph hierarchy {\n\n                nodesep=1.0 // increases the separation between nodes\n\n                node [color=Red,fontname=Courier,shape=box] //All nodes will this shape and colour\n                edge [color=Blue, style=dashed] //All the lines look like this\n\n                Headteacher-\u003e{Deputy1 Deputy2 BusinessManager}\n                Deputy1-\u003e{Teacher1 Teacher2}\n                BusinessManager-\u003eITManager\n                {rank=same;ITManager Teacher1 Teacher2}  // Put them on the same level\n}\n```\n\n### Mermaid\n```mermaid\ngantt\n    title A Gantt Diagram\n\n    section Section\n    A task           :a1, 2014-01-01, 30d\n    Another task     :after a1  , 20d\n    section Another\n    Task in sec      :2014-01-12  , 12d\n    anther task      : 24d\n```\n\n### Abc\n```abc\nX:1\nT:Speed the Plough\nM:4/4\nC:Trad.\nK:G\n|:GABc dedB|dedB dedB|c2ec B2dB|c2A2 A2BA|\nGABc dedB|dedB dedB|c2ec B2dB|A2F2 G4:|\n|:g2gf gdBd|g2f2 e2d2|c2ec B2dB|c2A2 A2df|\ng2gf g2Bd|g2f2 e2d2|c2ec B2dB|A2F2 G4:|\n```\n\n### PlantUML\n\n```plantuml\nstart\nif (condition A) then (yes)\n  :Text 1;\nelseif (condition B) then (yes)\n  :Text 2;\n  stop\nelseif (condition C) then (yes)\n  :Text 3;\nelseif (condition D) then (yes)\n  :Text 4;\nelse (nothing)\n  :Text else;\nendif\nstop\n```\n\n### Vega-Lite\n```vega\n{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v4.json\",\n  \"data\": {\"url\": \"https://vega.github.io/editor/data/barley.json\"},\n  \"mark\": \"bar\",\n  \"encoding\": {\n    \"x\": {\"aggregate\": \"sum\", \"field\": \"yield\", \"type\": \"quantitative\"},\n    \"y\": {\"field\": \"variety\", \"type\": \"nominal\"},\n    \"color\": {\"field\": \"site\", \"type\": \"nominal\"}\n  }\n}\n```\n\n### Fretboard\n\n```fretboard {title=\"horizontal, 6 frets, with nut\", type=\"h6\"}\n-oO-*-\n--o-o-\n-o-oo-\n-o-oO-\n-oo-o-\n-*O-o-\n  3\n```\n\n\u003e More information about **sequence diagrams** syntax [here](http://bramp.github.io/js-sequence-diagrams/).\n\u003e More information about **flow charts** syntax [here](http://adrai.github.io/flowchart.js/).\n\u003e More information about **graphviz** syntax [here](http://www.tonyballantyne.com/graphs.html)\n\u003e More information about **mermaid** syntax [here](http://mermaid-js.github.io/mermaid)\n\u003e More information about **abc** syntax [here](http://abcnotation.com/learn)\n\u003e More information about **vega** syntax [here](https://vega.github.io/vega-lite/docs)\n\u003e More information about **fretboard** syntax [here](https://hackmd.io/@docs/fretboard-syntax)\n\nAlert Area\n---\n:::success\nYes :tada:\n:::\n\n:::info\nThis is a message :mega:\n:::\n\n:::warning\nWatch out :zap:\n:::\n\n:::danger\nOh No! :fire:\n:::\n\n:::spoiler Click to show details\nYou found me :stuck_out_tongue_winking_eye:\n:::\n\n:::spoiler {state=\"open\"} Expand the spoiler container by default\nYou found me :stuck_out_tongue_winking_eye:\n:::\n\n## Typography\n\n### Headers\n\n```\n# h1 Heading\n## h2 Heading\n### h3 Heading\n#### h4 Heading\n##### h5 Heading\n###### h6 Heading\n```\n\n### Horizontal Rules\n\n___\n\n---\n\n***\n\n\n### Typographic Replacements\n\nEnable typographer option to see result.\n\n(c) (C) (r) (R) (tm) (TM) (p) (P) +-\n\ntest.. test... test..... test?..... test!....\n\n!!!!!! ???? ,,\n\nRemarkable -- awesome\n\n\"Smartypants, double quotes\"\n\n'Smartypants, single quotes'\n\n### Emphasis\n\n**This is bold text**\n\n__This is bold text__\n\n*This is italic text*\n\n_This is italic text_\n\n~~Deleted text~~\n\nlu~lala~\n\nSuperscript: 19^th^\n\nSubscript: H~2~O\n\n++Inserted text++\n\n==Marked text==\n\n{ruby base|rubytext}\n\n### Blockquotes\n\n\n\u003e Blockquotes can also be nested...\n\u003e\u003e ...by using additional greater-than signs right next to each other...\n\u003e \u003e \u003e ...or with spaces between arrows.\n\n\n### Lists\n\n#### Unordered\n\n+ Create a list by starting a line with `+`, `-`, or `*`\n+ Sub-lists are made by indenting 2 spaces:\n  - Marker character change forces new list start:\n    * Ac tristique libero volutpat at\n    + Facilisis in pretium nisl aliquet\n    - Nulla volutpat aliquam velit\n+ Very easy!\n\n#### Ordered\n\n1. Lorem ipsum dolor sit amet\n2. Consectetur adipiscing elit\n3. Integer molestie lorem at massa\n1. You can use sequential numbers...\n\n---\n\n1. ...or keep all the numbers as `1.`\n1. feafw\n2. 332\n3. 242\n4. 2552\n1. e2\n\nStart numbering with offset:\n\n57. foo\n1. bar\n\n### Code\n\nInline `code`\n\nIndented code\n\n    // Some comments\n    line 1 of code\n    line 2 of code\n    line 3 of code\n\n\nBlock code \"fences\"\n\n```\nSample text here...\n```\n\nSyntax highlighting\n\n```javascript\nvar foo = function (bar) {\n  return bar++;\n};\n\nconsole.log(foo(5));\n```\n\n### Tables\n\n| Option | Description |\n| ------ | ----------- |\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default. |\n| ext    | extension to be used for dest files. |\n\nRight aligned columns\n\n| Option | Description |\n| ------:| -----------:|\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default. |\n| ext    | extension to be used for dest files. |\n\nLeft aligned columns\n\n| Option | Description |\n|:------ |:----------- |\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default. |\n| ext    | extension to be used for dest files. |\n\nCenter aligned columns\n\n| Option | Description |\n|:------:|:-----------:|\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default. |\n| ext    | extension to be used for dest files. |\n\n\n### Links\n[link text](http://dev.nodeca.com)\n[link with title](http://nodeca.github.io/pica/demo/ \"title text!\")\nAutoconverted link https://github.com/nodeca/pica\n\n\n### Images\n![Minion](https://octodex.github.com/images/minion.png)\n![Stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg \"The Stormtroopocat\")\nLike links, Images also have a footnote style syntax\n![Alt text][id]\nWith a reference later in the document defining the URL location:\n\n[id]: https://octodex.github.com/images/dojocat.jpg  \"The Dojocat\"\n\n![Minion](https://octodex.github.com/images/minion.png =200x200)\nShow the image with given size\n\n### Footnotes\n\nFootnote 1 link[^first].\nFootnote 2 link[^second].\nInline footnote^[Text of inline footnote] definition.\nDuplicated footnote reference[^second].\n\n[^first]: Footnote **can have markup**\n    and multiple paragraphs.\n[^second]: Footnote text.\n\n### Definition Lists\n\nTerm 1\n\n:   Definition 1\nwith lazy continuation.\n\nTerm 2 with *inline markup*\n\n:   Definition 2\n\n        { some code, part of Definition 2 }\n\n    Third paragraph of definition 2.\n\n_Compact style:_\n\nTerm 1\n  ~ Definition 1\n\nTerm 2\n  ~ Definition 2a\n  ~ Definition 2b\n\n### Abbreviations\n\nThis is an HTML abbreviation example.\nIt converts \"HTML\", but keeps intact partial entries like \"xxxHTMLyyy\" and so on.\n\n*[HTML]: Hyper Text Markup Language\n","date":{"year":"2000","month":"01","day":"01"},"slug":"HackMD-Markdown","tags":["features","cool","updated"],"publishedAt":"2021-05-03T14:13:16.108Z"}]},"__N_SSG":true},"page":"/","query":{},"buildId":"GVySUgvxazyGQ68korg0j","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8683bd742a84c1edd48c.js"></script><script src="/_next/static/chunks/webpack-5a043247fa4b0e5bc6f8.js" async=""></script><script src="/_next/static/chunks/framework-314ffb4aa8331ecb00c4.js" async=""></script><script src="/_next/static/chunks/commons-d39e816c6c9de90edb11.js" async=""></script><script src="/_next/static/chunks/main-ae36ed1b7923ac63ac40.js" async=""></script><script src="/_next/static/chunks/dbf3ce33-4a20f4b6b57bb34f60e1.js" async=""></script><script src="/_next/static/chunks/05062569-55a0cb2864251f3dec25.js" async=""></script><script src="/_next/static/chunks/pages/_app-39f9ccfff4e10566242b.js" async=""></script><script src="/_next/static/chunks/0e226fb0-78d5dc17244534c011c7.js" async=""></script><script src="/_next/static/chunks/224-1eac4298c4645d0b5aff.js" async=""></script><script src="/_next/static/chunks/549-17a10afa03e6b811e943.js" async=""></script><script src="/_next/static/chunks/pages/index-f74ba7fe9e2374b86804.js" async=""></script><script src="/_next/static/GVySUgvxazyGQ68korg0j/_buildManifest.js" async=""></script><script src="/_next/static/GVySUgvxazyGQ68korg0j/_ssgManifest.js" async=""></script></body></html>